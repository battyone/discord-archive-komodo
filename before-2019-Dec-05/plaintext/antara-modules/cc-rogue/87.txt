==============================================================
Guild: Komodo
Channel: cc-rogue
Topic: use FSM branch AND then build as normal
 
./komodod -ac_name=ROGUE -ac_supply=1000000 -pubkey=<yourpubkey> -addnode=5.9.102.210  -ac_cclib=rogue -ac_perc=10000000 -ac_reward=100000000 -ac_cc=60001 -ac_script=2ea22c80203d1579313abe7d8ea85f48c65ea66fc512c878c0d0e6f6d54036669de940febf8103120c008203000401cc -daemon
Guide here: https://github.com/KomodoPlatform/komodo/wiki/Get-Started-with-Rogue-Game
Explorer: http://rogue.explorer.dexstats.info/
Player's Handbook: https://github.com/jl777/komodo/blob/jl777/src/cc/rogue/rogue.doc
Messages: 100
Range: before 05-Dec-19 12:00 AM
==============================================================

[08-Mar-19 03:46 PM] ronyi#5719
Bailout2: https://pastebin.com/TwRqrPnZ

{Embed}
https://pastebin.com/TwRqrPnZ
Rogue - Pastebin.com
https://pastebin.com/i/facebook.png

[08-Mar-19 03:47 PM] TonyL#3577
Hmm maybe it's connectivity issues, or some consensus problems in chain

[08-Mar-19 03:48 PM] TonyL#3577
On which height are you?

[08-Mar-19 03:49 PM] ronyi#5719
48541

[08-Mar-19 03:49 PM] TonyL#3577
Hmm same. Try to`sendrawtransaction hex`

[08-Mar-19 03:50 PM] TonyL#3577
As hex use same hex which you got from bailout output

[08-Mar-19 03:51 PM] ronyi#5719
error code: -26
error message:
16: bad-txns-vout-negative

[08-Mar-19 03:57 PM] TonyL#3577
But is process continued?

[08-Mar-19 03:58 PM] ronyi#5719
Keystrokes.log: https://pastebin.com/96m6X2Xs

{Embed}
https://pastebin.com/96m6X2Xs
Rogue - Pastebin.com
https://pastebin.com/i/facebook.png

[08-Mar-19 03:58 PM] TonyL#3577
I did nothing to prevent this error - just added check to not stop flow

[08-Mar-19 03:58 PM] ronyi#5719
Yes i give same error.

[08-Mar-19 03:59 PM] TonyL#3577
Error on this place not looks like something bad because here brutforce rebroadcasting last keystroke

[08-Mar-19 03:59 PM] TonyL#3577
So on some point it can throw error

[08-Mar-19 04:01 PM] TonyL#3577
It just waiting for "confirmations" actually and just to be sure rebroadcsting it

[08-Mar-19 04:03 PM] ronyi#5719
Yes, but is never ending game and lost warrior again and possible some lose another and i don't know what's the mistake. In the first bailout in TUI looks like everything is normal and now after tryed manual bailout everything is "success", but not.

[08-Mar-19 04:04 PM] ronyi#5719
I don't thing it was connection issue.

[08-Mar-19 04:04 PM] TonyL#3577
Record these bailout calls - if they are not broadcasting (but generating hex and txid) I think you'll able to broascast it in some case, Im just not with PC already

[08-Mar-19 04:05 PM] TonyL#3577
I wonder just chain reject these bailout txs by some reason

[08-Mar-19 04:05 PM] ronyi#5719
Me too.

[08-Mar-19 04:06 PM] TonyL#3577
Check last entries in ~/.komodo/ROGUE/debug.log

[08-Mar-19 04:09 PM] ronyi#5719
2019-03-08 16:08:53 ERROR: CheckTransaction(): txout.nValue negative
2019-03-08 16:08:53 ERROR: AcceptToMemoryPool: CheckTransaction failed

[08-Mar-19 04:11 PM] TonyL#3577
Try to `tail -f ~/.komodo/ROGUE/debug.log` in one terminal window and call manual bailouts in other

[08-Mar-19 04:11 PM] TonyL#3577
To see what it prints especially on these txs broadcast attempt

[08-Mar-19 04:13 PM] ronyi#5719
2019-03-08 16:13:31 ERROR: CheckTransaction(): txout.nValue negative
2019-03-08 16:13:31 ERROR: AcceptToMemoryPool: CheckTransaction failed

[08-Mar-19 04:19 PM] TonyL#3577
Hmm there were not much changes today. Can check tomorrow morning on my side if it will not be resolved prior this time

[08-Mar-19 04:23 PM] ronyi#5719
Thank you.

[08-Mar-19 11:58 PM] Bryan_Beus#6442
I'm working on documentation for ROGUE currently.

Right now, I'm looking for a complete list of commands that can be used to play ROGUE manually in the terminal.

How can I find/make this?

[09-Mar-19 12:00 AM] Jonathan#3687
There may be another list @Bryan_Beus but this is what I use https://github.com/jl777/komodo/blob/jl777/src/cc/rogue/rogue.doc#L388

{Embed}
https://github.com/jl777/komodo/blob/jl777/src/cc/rogue/rogue.doc
jl777/komodo
Komodo. Contribute to jl777/komodo development by creating an account on GitHub.
https://avatars2.githubusercontent.com/u/5962559?s=400&v=4

[09-Mar-19 12:00 AM] Bryan_Beus#6442
excellent, thank you

[09-Mar-19 12:00 AM] Jonathan#3687
Oh sorry, that is the in-gameplay commands

[09-Mar-19 12:04 AM] Jonathan#3687
Manual startup steps are here https://github.com/KomodoPlatform/komodo/wiki/Get-Started-with-Rogue-Game#step-2

{Embed}
https://github.com/KomodoPlatform/komodo/wiki/Get-Started-with-Rogue-Game
KomodoPlatform/komodo
Komodo. Contribute to KomodoPlatform/komodo development by creating an account on GitHub.
https://avatars2.githubusercontent.com/u/21276113?s=400&v=4

[09-Mar-19 12:24 AM] Bryan_Beus#6442
oh great, thanks

[09-Mar-19 12:25 AM] Bryan_Beus#6442
I have the second one. It's the first one that I was looking for. Thank you.

{Reactions}
üëç 

[09-Mar-19 12:38 AM] Cryptofist#7504
@Bryan_Beus 
(s) for saving doesn't work,

[09-Mar-19 12:38 AM] Cryptofist#7504
You may enter ''SHIFT'' + ''Q'' to quit

[09-Mar-19 12:38 AM] Bryan_Beus#6442
Good to know, thank you.

[09-Mar-19 12:39 AM] Cryptofist#7504
Then it will ask if you are sure, then just type ``y``

[09-Mar-19 12:40 AM] Cryptofist#7504
Your pack size is 2 x your strength, if you lose a strength point and exit with a higher amount of items , you will randomly lose items.

[09-Mar-19 12:40 AM] wookie#7663
I quit the game and I've been this error for the last 10 minutes: 
getrawtransaction: No information available about transaction (code -5)
Let's wait a little bit more

[09-Mar-19 12:41 AM] wookie#7663
The window with the daemon running has these as the last 2 lines:
FinalizeCCTx couldnt find 0000000000000000000000000000000000000000000000000000000000000000
FinalizeCCTx couldnt find 0000000000000000000000000000000000000000000000000000000000000000

[09-Mar-19 12:47 AM] wookie#7663
I got to level 17 with 5000gold... is there anyway to safely quit?

[09-Mar-19 12:56 AM] Cryptofist#7504
@wookie thank you. I'm not sure off hand.

[09-Mar-19 01:00 AM] wookie#7663
Thanks, it's still scrolling on with the error: 
getrawtransaction: No information available about transaction (code -5)
Let's wait a little bit more

[09-Mar-19 01:00 AM] wookie#7663
any idea how to stop?

[09-Mar-19 01:02 AM] wookie#7663
I gave and did Ctrl+C, this was the error message I got: 
^CTraceback (most recent call last):
  File "lib/tuilib.py", line 1132, in rogue_newgame_singleplayer
  File "slickrpc/rpc.py", line 75, in call
slickrpc.exc.RpcInvalidAddressOrKey: getrawtransaction: No information available about transaction (code -5)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "rogue_tui.py", line 116, in <module>
  File "rogue_tui.py", line 70, in main
  File "lib/tuilib.py", line 1137, in rogue_newgame_singleplayer
KeyboardInterrupt
[30750] Failed to execute script rogue_tui

[09-Mar-19 01:03 AM] wookie#7663
here's more id if someone wants to look into it: 
4e1ae33f3ce6d558ed808fae00f1f6d28b3654ae385b4edfab3d74daa1d2361a good.22 bad.0
tokentx.(c) decoded.1 ht.49052 txid.771674416e649c0dbe546a993be77debb4d7f3599399c8cf82eeca51804cc074 0.00081120 vs vout2 0.00081120
tokentx.(c) decoded.1 ht.49053 txid.771674416e649c0dbe546a993be77debb4d7f3599399c8cf82eeca51804cc074 0.00081120 vs vout2 0.00081120
FinalizeCCTx couldnt find 0000000000000000000000000000000000000000000000000000000000000000
FinalizeCCTx couldnt find 0000000000000000000000000000000000000000000000000000000000000000

[09-Mar-19 04:02 AM] TonyL#3577
```getrawtransaction: No information available about transaction (code -5)```Error means that last keystroke tx is not on chain yet, and TUI waiting a little bit more until it there, something was not good if you waited for 10 mins+ `FinalizeCCTx couldnt find 0000000000000000000000000000000000000000000000000000000000000000
` not looks good as well

[09-Mar-19 04:04 AM] TonyL#3577
```I got to level 17 with 5000gold... is there anyway to safely quit?```
At first check extract by:
```./komodo-cli -ac_name=ROGUE cclib extraxct 17 \"[%22gametxid%22]\"```
Than if it's fine in extracted key, do bailout:
```./komodo-cli -ac_name=ROGUE cclib bailout 17 \"[%22gametxid%22]\"
```

[09-Mar-19 04:44 AM] TonyL#3577
Maybe I have to just wait for this last keystroke tx to be mined, not try to rebroadcast each 5 seconds. Or do it not so often

[09-Mar-19 07:19 AM] ronyi#5719
I tested some intresting thing, I was in this interesting case: https://drive.google.com/open?id=1cMKIyge4t3K9_HGonqO_RikoBo3Bi-Pv And i started thinking what if i create manual bailout and worked. My warrior is alive, but in this case it should be clearly dead. I've never done that before.

[09-Mar-19 10:20 AM] TonyL#3577
I did Shift+Q on 1hp before - worked fine

[09-Mar-19 07:37 PM] ronyi#5719
1   746 Ronyi: quit on level 6.
50208
50208
Waiting for next block before bailout
Extraction info:

Current game state:
Game txid: f6466806db704d14db38c950af1c01253718c3b734cec0da6564f4e58d259c0f
Information about game saved on chain: $$$gold.424 hp.27 strength.20/20 level.7 exp.325 dl.5


Do you want to make bailout now [y] or wait for one more block [n]? [y/n]: n
50210
50210
Waiting for next block before bailout
50210
50210
Waiting for next block before bailout
50210
50210
Waiting for next block before bailout

Extraction info:

Current game state:
Game txid: f6466806db704d14db38c950af1c01253718c3b734cec0da6564f4e58d259c0f
Information about game saved on chain: $$$gold.424 hp.27 strength.20/20 level.7 exp.325 dl.5
Bailout txid: 80916ef57381b344911dc7c671cc6b4c7f55e5ed2f0390c62e0a87d7d107ef6d

[09-Mar-19 08:11 PM] ronyi#5719
I think i find another bug, i finded sustain strenght ring and 5 gain strenght potions so my strenght is 21, and previus game i quit lvl 6 with 21strenght, but strenght is 20. Now i think is the max strenght is 20, but possible more strenght than 20. Only my leather armor is the price this discovery.

[09-Mar-19 09:03 PM] ronyi#5719
841 Ronyi: quit on level 6.
Game txid: c1dbe9629db0fcf98f0bb1332dbc9db286be666a1a6d0f08fe4be0ef6e3e6062
Information about game saved on chain: $$$gold.280 hp.27 strength.20/20 level.7 exp.437 dl.3
Bailout txid: fc318d619ab58a7944ea5e157a8e51a86bfc8f304af3dd04bd049054b6184bec
I think find leather armor in this level.

[10-Mar-19 02:09 AM] Bryan_Beus#6442
Assume a multi-player game.

If a player finds the amulet, returns from the dungeon, and executes the `highlander` method, do all other players in the game die? Or are they automatically bailed out?

[10-Mar-19 04:04 AM] TonyL#3577
@Bryan_Beus Oh I think by design player which found amulet should be able to `highlander` so after it other players will be able to `bailout` only

[10-Mar-19 04:05 AM] TonyL#3577
But it not tested so far and there is no any special amulet handling logic in TUI because such case seems to be not actual on this stage

[10-Mar-19 04:07 AM] TonyL#3577
```I think i find another bug, i finded sustain strenght ring and 5 gain strenght potions so my strenght is 21, and previus game i quit lvl 6 with 21strenght, but strenght is 20. Now i think is the max strenght is 20, but possible more strenght than 20. Only my leather armor is the price this discovery.``` - hmm interesting if it a ring caused or there is just general limit of 20

[10-Mar-19 04:18 AM] TonyL#3577
@ronyi So problems at the moment only such edge cases? Is everything fine in general with progress saving atm?

[10-Mar-19 04:27 AM] wookie#7663
@TonyL After playing 15-20  games on the 0.2.1b bundle, I have to say, this version seems buggier(?) than previous ones. I reused my warrior in new game, but lost all my inventory in one game or lose some inventory in others. Most recently, clearly still alive but when exiting, says player was killed: 
extracted $$$gold.1791 -> 3.20768100 ROGUE hp.56 strength.15/16 level.7 exp.397 dl.10 n.1 amulet.0
d9f9d776e0f86a9c306ebe8866a92fc9a46b9bd676b58f674012760ce8aaa578 good.1 bad.0
tokentx.(c) decoded.1 ht.50663 txid.d17e0e4fb8bfb2fb0999e34e1eeb72dbfdd3aa98d6e5cb18001221db93b48e66 3.20768100 vs vout2 3.20768100
() found baton c15a77102cfc29243b8536161f448dfadbd3208bda771ef865179aeec73d6d04 numkeys.9086 seed.4093377559412155609 playerdata.968

[10-Mar-19 04:28 AM] TonyL#3577
```, but lost all my inventory in one game or lose some inventory in others.``` - are you exiting with full strength?

[10-Mar-19 04:29 AM] TonyL#3577
```ecently, clearly still alive but when exiting, says player was killed: 
extracted $$$gold.1791 -> 3.20768100 ROGUE hp.56 strength.15/16 level.7 exp.397 dl.10 n.1 amulet.0``` - it says that player is alive hmm, maybe just bailout tx wasn't broadcasted by some reason

[10-Mar-19 04:30 AM] TonyL#3577
Maybe daemon in 0.2.1b a little bit out of date already and it's a time for new one

[10-Mar-19 04:31 AM] TonyL#3577
But it seems that you exiting with not full strength so can't carry all what you have in invetory to the next game

[10-Mar-19 04:31 AM] wookie#7663
sometimes it's with low HP, but often strength is not full

[10-Mar-19 04:31 AM] TonyL#3577
You can carry only `strength * 2 ` itmes

[10-Mar-19 04:32 AM] wookie#7663
I see, you need Full strength to carry inventory over to next game??

[10-Mar-19 04:32 AM] TonyL#3577
So if let's say you had 20 items, but exited with strength 5 - you'll start next game with 10 items only

[10-Mar-19 04:32 AM] wookie#7663
definitely did not know about that feature!

[10-Mar-19 04:32 AM] TonyL#3577
Oh yes, quite tricky üòÉ I hope James will make some print in rogue üòÉ

[10-Mar-19 04:33 AM] TonyL#3577
But it seems logical feature - warrior more strength so can carry more

[10-Mar-19 04:34 AM] wookie#7663
that makes sense, I just didn't know that that feature affects the next game.

[10-Mar-19 04:34 AM] TonyL#3577
Sorry about your this negative experience

[10-Mar-19 04:35 AM] TonyL#3577
```extracted $$$gold.1791 -> 3.20768100 ROGUE hp.56 strength.15/16 level.7 exp.397 dl.10 n.1 amulet.0``` - I bet that if warrior not returned it still possible to return him if you recorded game txid

[10-Mar-19 04:35 AM] TonyL#3577
I think its same issue which @ronyi  had - when bailout transactions weren't accepted by chain nodes

[10-Mar-19 04:35 AM] wookie#7663
oh, it's no problem! it's not really "negative". Just a slight frustration when I go to level 10 with good things and 1000+ gold but then lose the warrior.

[10-Mar-19 04:36 AM] wookie#7663
I'm still happy having a game to play and "contributing" the little that I can!

{Reactions}
Komodo (2) 

[10-Mar-19 04:36 AM] wookie#7663
that's interesting, gonna try it out now. brb

[10-Mar-19 04:37 AM] TonyL#3577
If you got `extracted` print with all progress - it means that warrior should  be saved and return to you after succesful bailout

[10-Mar-19 04:41 AM] wookie#7663
yes, I do have game txid, how would I go about getting the warrior back? right now it says I have 0 warrior

[10-Mar-19 04:49 AM] TonyL#3577
@wookie Try to ```./komodo-cli -ac_name=ROGUE cclib bailout 17 \"[%22gametxid%22]\"```

[10-Mar-19 04:51 AM] TonyL#3577
And then check if generated txid is on blockchain

[10-Mar-19 04:55 AM] wookie#7663
yeah, I put in the generated txid in the explorer and it says "no matching records found"

[10-Mar-19 04:57 AM] wookie#7663
any way to "push" the txid onto the chain?

[10-Mar-19 04:57 AM] TonyL#3577
Try the following please:
In one terminal window:
```tail -f ~/Library/Application\ Support/Komodo/ROGUE/debug.log```
In second:
```./komodo-cli -ac_name=ROGUE cclib bailout 17 \"[%22gametxid%22]\"```

And check what first window printing after bailout call

[10-Mar-19 04:59 AM] wookie#7663
2019-03-10 04:59:04 ERROR: AcceptToMemoryPool: inputs already spent

[10-Mar-19 05:01 AM] TonyL#3577
Hmm ronyi had a little bit different errors on such bailouts attempts:
```2019-03-08 16:13:31 ERROR: CheckTransaction(): txout.nValue negative
2019-03-08 16:13:31 ERROR: AcceptToMemoryPool: CheckTransaction failed```

[10-Mar-19 05:01 AM] TonyL#3577
Could you please share gametxid?

[10-Mar-19 05:02 AM] wookie#7663
no problem: 
59666518492b4ee0b8e743058c1369845e4ab2dc91b093b84dbcdb29c41c0f0a

[10-Mar-19 05:16 AM] TonyL#3577
Hmm accoridng to `gameinfo` it finished so some bailout was executed

[10-Mar-19 05:17 AM] TonyL#3577
Try to `./komodo-cli -ac_name=ROGUE cclib player 17`

[10-Mar-19 05:18 AM] wookie#7663
errr, does it matter that I had started and ended a game since that game but before I got you that printout?

[10-Mar-19 05:18 AM] TonyL#3577
And `./komodo-cli -ac_name=ROGUE tokenbalance 348c09e22178bb26d49917836311f4139887f5da3165cc1a66b48c6f6c24e16b`

[10-Mar-19 05:18 AM] wookie#7663
./komodo-cli -ac_name=ROGUE cclib player 17
error: couldn't parse reply from server

[10-Mar-19 05:19 AM] TonyL#3577
Sorry, `players 17`

[10-Mar-19 05:19 AM] wookie#7663
./komodo-cli -ac_name=ROGUE tokenbalance 348c09e22178bb26d49917836311f4139887f5da3165cc1a66b48c6f6c24e16b
{
  "result": "success",
  "CCaddress": "RRDNY5RwiQh7YrQWpio6HuAwrUnE2CieAi",
  "tokenid": "348c09e22178bb26d49917836311f4139887f5da3165cc1a66b48c6f6c24e16b",
  "balance": 0

[10-Mar-19 05:20 AM] wookie#7663
./komodo-cli -ac_name=ROGUE cclib players 17
{
  "name": "rogue",
  "method": "players",
  "playerdata": [
  ],
  "numplayerdata": 0
}

[10-Mar-19 05:20 AM] TonyL#3577
`./komodo-cli -ac_name=ROGUE validateaddress RS8eF5uySJSd7eUT2izC72LyifjX47g3xD`

[10-Mar-19 05:21 AM] TonyL#3577
```"address": "RS8eF5uySJSd7eUT2izC72LyifjX47g3xD",``` warrior transferred to this address from gametxid which you provided

[10-Mar-19 05:21 AM] TonyL#3577
As an idea - maybe you have not actual `pubkey=` in daemon params

