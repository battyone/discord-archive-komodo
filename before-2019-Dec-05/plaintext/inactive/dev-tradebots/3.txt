==============================================================
Guild: Komodo
Channel: dev-tradebots
Topic: Linked with 'KMD-Tradebots' on Matrix
Messages: 100
Range: before 05-Dec-19 12:00 AM
==============================================================

[21-Jun-18 12:43 PM] Gateway#3763
[slack] <siu> there are not much kmd in there though

[21-Jun-18 12:43 PM] Gateway#3763
[slack] <siu> and most are scattered in very tiny utxos

[21-Jun-18 12:44 PM] ComputerGenie#2331
I've even went as low as avg * 0.10 and still no go

[21-Jun-18 12:46 PM] grewalsatinder#9653
@siu - Chainmakers how many you have put on sale btw ? 🤔

[21-Jun-18 12:46 PM] grewalsatinder#9653
if a lot, then probably make some big UTXOs too? 🤔

[21-Jun-18 12:47 PM] siu - Chainmakers#3920
the kmd that are available in the nodes are the ones from the stress test some months ago

[21-Jun-18 12:47 PM] siu - Chainmakers#3920
i have never reorganized the utxos

[21-Jun-18 12:47 PM] ComputerGenie#2331
the problem seems to be on the KMD side (given how fast the 2 buy COQUI orders went through)

[21-Jun-18 12:47 PM] siu - Chainmakers#3920
many of them are very small, like 0.01 or even 0.001

[21-Jun-18 12:48 PM] grewalsatinder#9653
hmm...

[21-Jun-18 12:48 PM] siu - Chainmakers#3920
there are plenty of COQUI though

[21-Jun-18 12:48 PM] ComputerGenie#2331
so I saw 😛

[21-Jun-18 12:48 PM] grewalsatinder#9653
anyway, I haven't checked, but is VRSC listing on BarterDEX? 😉

[21-Jun-18 12:48 PM] grewalsatinder#9653
means the orders are there ?

[21-Jun-18 12:48 PM] siu - Chainmakers#3920
thats what i said was going to be done since ever... the funds from the stress test will be there as liquidty

[21-Jun-18 12:49 PM] siu - Chainmakers#3920
sadly must are gone now :p

[21-Jun-18 12:49 PM] siu - Chainmakers#3920
even after the price rose to 0.25 cents

[21-Jun-18 12:50 PM] ComputerGenie#2331
40 mini trades a month isn't much L coming from your P  😜

[21-Jun-18 12:51 PM] ComputerGenie#2331
on the bright side, today is the highest COQUI volume in like "forever" 🤓

[21-Jun-18 12:54 PM] siu - Chainmakers#3920
not more than stress test day

[21-Jun-18 12:54 PM] siu - Chainmakers#3920
but yeah... it seems like coqui is taking life of its own

[21-Jun-18 12:54 PM] ComputerGenie#2331
hence the quotes 😛

[21-Jun-18 12:54 PM] siu - Chainmakers#3920
even if it is by accident

[21-Jun-18 05:57 PM] ! ! Stackbit Online Store#6492
hey

[21-Jun-18 05:57 PM] ! ! Stackbit Online Store#6492
is it possible to add coins on your exchange?

[21-Jun-18 05:57 PM] ComputerGenie#2331
yes

[21-Jun-18 06:00 PM] Nabob#5004
@! ! Stackbit Online Store   Please write to our support desk we will help  to process the coin addition 
support@komodoplatform.com

[21-Jun-18 10:54 PM] Steve666#9642
We need to discuss how we are going to get more bobs/liquidity or how we can provide a incentive to do it.

[21-Jun-18 10:55 PM] Steve666#9642
GUIs are useless with nothing to trade against

[21-Jun-18 10:59 PM] Gateway#3763
[slack] <PTYX> I think that hyperDex should create a Bob interface to increase Liquidity

[21-Jun-18 11:19 PM] Gateway#3763
[matrix] <cipig:matrix.org> Storm (STORM) swapped on BarterDEX
```
SWAP completed! 2463835040-2290425302 {"uuid":"5602a1a073edb2ed5aeca948ee4cea84b7808836b77a208cc73a797559fad569","expiration":1529638123,"tradeid":0,"requestid":2463835040,"quoteid":2290425302,"iambob":1,"Bgui":"nogui","Agui":"","gui":"nogui","bob":"STORM","bobtomic":"0xd0a4b8946cb52f0661273bfbc6fd0e0c75fc6433","etomicsrc":"0x4e623b150b847da59f064f7c7fcc9f787dae2229","srcamount":0.75149664,"bobtxfee":0.00001000,"alice":"KMD","etomicdest":"0xdf38dd108bab50da564092ad0cd739c4634d963c","destamount":0.08009000,"alicetxfee":0.00001000,"aliceid":"7482385559396483073","sentflags":["alicespend", "bobspend", "bobpayment", "alicepayment", "bobdeposit", "bobrefund"],"values":[1.00000999, 0.08010000, 1.00002000, 0.08011000, 1.12502000, 0, 0, 1.12500999, 0, 0, 0],"result":"success","status":"finished","finishtime":1529623015,"bobdeposit":"4fbdeb5594dfa13f402516c280ac419f2dbdef20e0659e229ef1f9450f7c732b","alicepayment":"9c34ea142f7261685e03c42257f1183e82d725dc77af660a96591465c3e5a73a","bobpayment":"97c04c8530577e91075dd11c3525507a4fc6c12a0c2ff22490b2f9c04f4d9cd1","paymentspent":"0dfa1846967fd92463b07309f9237af1ca159aed9abe1014b428154de07642df","Apaymentspent":"bd8d7874a9f3475d1fb994f55a5fbf3d8d5e020b312820d40651fb602b1314a3","depositspent":"6abba08d065f917dc9237b64d845002b213572b68ac95ed2244a64a4c555c412","method":"tradestatus","finishtime":1529623015}
```
bobdeposit https://etherscan.io/tx/0xae9450cb516a7b2d3a694677a5e9a9996540e4d2b49df074886e523a6414b937
alicepayment https://kmdexplorer.ru/tx/9c34ea142f7261685e03c42257f1183e82d725dc77af660a96591465c3e5a73a
bobpayment https://etherscan.io/tx/0x7a5640b45b3c59ca1dea67cfa1ab85d37b42586f330827b8d15dd7138cd668ff

[21-Jun-18 11:24 PM] Gateway#3763
[matrix] <cipig:matrix.org> https://github.com/jl777/coins/pull/92

{Embed}
https://github.com/jl777/coins/pull/92
add STORM by cipig · Pull Request #92 · jl777/coins
https://avatars0.githubusercontent.com/u/32116761?s=400&v=4

[21-Jun-18 11:37 PM] Steve666#9642
@PTYX We will see, it is something we have discussed

[22-Jun-18 12:08 AM] Gateway#3763
[matrix] <cipig:matrix.org> we could make a requirement: new coins are only added when the requester is running a bob providing liquidity for "his" coin

[22-Jun-18 12:22 AM] Gateway#3763
[matrix] <cipig:matrix.org> Revain (R) swapped on BarterDEX
```
SWAP completed! 2728546843-2156992361 {"uuid":"e5d6b43cbc10e092fb58336038653d8ed8fe2f9155f2b76cc9062f99d179c8a4","expiration":1529642059,"tradeid":0,"requestid":2728546843,"quoteid":2156992361,"iambob":1,"Bgui":"nogui","Agui":"","gui":"nogui","bob":"R","bobtomic":"0x48f775efbe4f5ece6e0df2f7b5932df56823b990","etomicsrc":"0x4e623b150b847da59f064f7c7fcc9f787dae2229","srcamount":8.53269000,"bobtxfee":0.00001000,"alice":"KMD","etomicdest":"0xdf38dd108bab50da564092ad0cd739c4634d963c","destamount":10.00009000,"alicetxfee":0.00001000,"aliceid":"11504297191605600257","sentflags":["alicespend", "bobspend", "bobpayment", "alicepayment", "bobdeposit", "bobrefund"],"values":[1.00000999, 10.00009999, 1.00002000, 10.00011000, 1.12502000, 0, 0, 1.12500999, 0, 0, 0],"result":"success","status":"finished","finishtime":1529626850,"bobdeposit":"7c6b409b9eb1bad93e56aa7073b206350352f4a4b6424861462fb81f2ba4931c","alicepayment":"c525d92a060400d4bb39a37fe71385e6f4e51c3b1fe393b67466d3f8ea4f1ef1","bobpayment":"893605538c68f3220f74c1050a92d1fc66403619376ff68e7d7391701d308f81","paymentspent":"f2b2501d5b51d7dab34da079b86bc96180386478778f618c4709b500961eac94","Apaymentspent":"ed53fa56fc360d46e6f91b4e8ca8ed34bb49a334aed26bd2907fbecff11a28c0","depositspent":"483e02968696d0160b0d05030950c5bdd9108300c5bbfd8a35cd333a1040e9dd","method":"tradestatus","finishtime":1529626850}
```
bobdeposit https://etherscan.io/tx/0x320d8a9b0e99cc642e3a803f178c83f8b458bea1c362c23af03706627d7d3edd
alicepayment https://kmdexplorer.ru/tx/c525d92a060400d4bb39a37fe71385e6f4e51c3b1fe393b67466d3f8ea4f1ef1
bobpayment https://etherscan.io/tx/0xea59b4ad52145bd703ba7dc5a65417f584a287703df3092f225f5a204c3653c5

[22-Jun-18 12:26 AM] Gateway#3763
[matrix] <cipig:matrix.org> https://github.com/jl777/coins/pull/93

{Embed}
https://github.com/jl777/coins/pull/93
add Revain (R) by cipig · Pull Request #93 · jl777/coins
https://avatars0.githubusercontent.com/u/32116761?s=400&v=4

[22-Jun-18 05:24 AM] smk762 -  dracocanis ominator#7640
@SHossain  can we pls add the  userpass/passphrase  sections from https://github.com/KomodoPlatform/KomodoPlatform/wiki/Installing-and-Using-Komodo-Platform-(barterDEX)  to the guide at https://github.com/KomodoPlatform/KomodoPlatform/wiki/Setting-up-Full-Relay-(FR)-Node-for-BarterDEX ?

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/wiki/Installing-and-Using-Komodo-Platform-(barterDEX)
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform development by creating an account on GitHub.
https://avatars2.githubusercontent.com/u/21276113?s=400&v=4

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/wiki/Setting-up-Full-Relay-(FR)-Node-for-BarterDEX
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform development by creating an account on GitHub.
https://avatars2.githubusercontent.com/u/21276113?s=400&v=4

[22-Jun-18 07:12 AM] SHossain#0007
@smk762 -  dracocanis ominator you don't need `passphrase` and `userpass` to run an FR node

[22-Jun-18 07:14 AM] smk762 -  dracocanis ominator#7640
`jeezy says we cant use the nullstring as passphrase and I agree`

[22-Jun-18 07:15 AM] smk762 -  dracocanis ominator#7640
got that at the ./client stage

[22-Jun-18 07:18 AM] SHossain#0007
Please use `cp ~/SuperNET/iguana/exchanges/passphrase ~/SuperNET/iguana/dexscripts/passphrase` and try again

[22-Jun-18 07:18 AM] SHossain#0007
I'll update the post soon

[22-Jun-18 07:18 AM] SHossain#0007
Please let me know if this works

[22-Jun-18 08:04 AM] smk762 -  dracocanis ominator#7640
Yep, that works a treat, thanks.

[22-Jun-18 12:39 PM] CrisF#3405
Hi, is it normal to be seeing a lot of `<<<<<<<<<<< A bitcoind_RPC: XXX post_process_bitcoind_RPC.validateaddress` in terminal when running a native coin?

[22-Jun-18 02:18 PM] Gateway#3763
[matrix] <cipig:matrix.org> no, i would guess it means that mm can't connect to the coin daemon

[22-Jun-18 02:37 PM] CrisF#3405
Is `importprivkey` needed?

[22-Jun-18 02:40 PM] CrisF#3405
I've imported my smartaddress into the BCH but no help from that although the balance shows in bch-cli.

[22-Jun-18 02:40 PM] CrisF#3405
Had no luck with DASH either.

[22-Jun-18 03:21 PM] Gateway#3763
[matrix] <cipig:matrix.org> no, mm does importaddress, not importprivkey... and the funds must reside in the mm smartaddress (generated from the passphrase) to be accessible by mm, so importing a privkey with a totally different address does not make the funds accessible in BarterDEX

[22-Jun-18 03:41 PM] CrisF#3405
Hmm, I wonder why won't connect then.  I can see the smartaddress balance shows up in electrum but not native.  KMD is fine in both.

[22-Jun-18 03:43 PM] CrisF#3405
I'll try on a native coin installed locally (not on ssd).  Maybe that'll work.

[22-Jun-18 03:44 PM] Gateway#3763
[slack] <cipi> `{\"coin\":\"BCH\",\"name\":\"bch\",\"rpcport\":33333,\"pubtype\":0,\"p2shtype\":5,\"wiftype\":128,\"txfee\":1000}`
this is the BCH config... check if the daemon is listening to the rpcport and that the config file ~/.bch/bch.conf exists and contains
```server=1
rpcuser=bla
rpcpassword=bla```

[22-Jun-18 03:45 PM] Gateway#3763
[slack] <cipi> `netstat -ntlp | grep 33333`

[22-Jun-18 04:09 PM] Gateway#3763
[slack] <CrisF> It came back with this:
```tcp        0      0 127.0.0.1:33333         0.0.0.0:*               LISTEN      9315/bchd```

[22-Jun-18 04:10 PM] Gateway#3763
[slack] <CrisF> This is the bch.conf
```server=1
listen=0
rpcbind=127.0.0.1
bind=127.0.0.1
txindex=1
rpcport=33333
port=33335```

[22-Jun-18 04:46 PM] jansako#3330
I am getting the 'swap never started' issue on the latest BarterDEX (1.07). Running a bob using a GUI BarterDEX, SN/KMD pair. Last 3 swaps failed by 'swap never started'.

[22-Jun-18 04:47 PM] jansako#3330
hmm, how do you paste a screenshot here?

[22-Jun-18 04:49 PM] jansako#3330
normally I would get 1-2 trades a day or so, no issues for a while, then this started a couple of days ago. I did a restart of BarterDEX & git pull the latest.

[22-Jun-18 04:50 PM] jansako#3330
The coin daemons are native off of Agama 2.39.  running on Win 10.

[22-Jun-18 04:51 PM] jansako#3330
https://imgur.com/a/o3ZxxJs

{Embed}
https://imgur.com/a/o3ZxxJs
https://i.imgur.com/NwWFuEah.jpg

[22-Jun-18 04:52 PM] PTYX#6840
@@jl777c  someone from blockfolio contacted us

[22-Jun-18 04:52 PM] PTYX#6840
Blockfolio Nate:
Hi, I'm a dev from Blockfolio. I was wondering if an admin here could reach out to the dev team and ask for a recommended endpoint to retrieve currency pairs, prices, and if possible trade histories.  We're currently using this endpoint https://www.atomicexplorer.com/api/mm/prices to get currency pairs and prices, but the information from there may not be accurate.  Thanks.

[22-Jun-18 04:55 PM] Gateway#3763
[matrix] <cipig:matrix.org> "swap never started" is because of networking problems resulting in timeouts like
```
didnt get valid data after 120
error waitsend pubkeys
```
if using windows, this is normal, windows is extremely bad in networking (and everything else)

[22-Jun-18 05:01 PM] ComputerGenie#2331
>and everything else
❤

[22-Jun-18 05:17 PM] jansako#3330
Not sure that accepting it as 'normal' is 'good enough', considering most of the world is using Windows... Except if bob bodes are not supposed to be run on Windows. In that case the 'limit price order - good 'til cancelled' may as well be removed from the Windows build. Would save us all some time.

[22-Jun-18 05:17 PM] jl777c#5810
@CHMEX  can you followup with the blockfolio guy

[22-Jun-18 05:17 PM] jl777c#5810
is canbind:1 set for bob mode? if not will have problems

[22-Jun-18 05:18 PM] jl777c#5810
if it is and you cant actually bind, will have problems

[22-Jun-18 05:18 PM] jansako#3330
where do I set that?

[22-Jun-18 05:18 PM] jl777c#5810
when marketmaker is started

[22-Jun-18 05:18 PM] jl777c#5810
but if external nodes cant connect in, you canbind must be 0

[22-Jun-18 05:19 PM] jl777c#5810
and such a node will not make a good bob

[22-Jun-18 05:19 PM] jansako#3330
I start BarterDEX by 'npm start'

[22-Jun-18 05:20 PM] jansako#3330
If I make a batch file to start, what exactly would be the syntax?

[22-Jun-18 05:23 PM] jansako#3330
Out of the last 9 swaps, I have 5 successful, 4 failed on 'swap never started'. Does that mean I should use 1 or 0? Seems to me that external nodes can connect 50% of the time?

[22-Jun-18 05:25 PM] ComputerGenie#2331
#Time4NewRouter

[22-Jun-18 05:25 PM] CHMEX#0686
Yes I will contact them if somebody has a direct contact at blocfolio please let me know

[22-Jun-18 05:31 PM] jansako#3330
I missed you @ComputerGenie . I know you hear that a lot too. I get 12 ms ping on Ookla speedtest. 82/12 Mbps

[22-Jun-18 05:32 PM] jl777c#5810
@CHMEX he just contacted us on telegram

[22-Jun-18 05:33 PM] jansako#3330
@jl777c thanks for chiming in sir!

[22-Jun-18 05:41 PM] CHMEX#0686
@jl777c ok I contacted the guy directly

[22-Jun-18 05:56 PM] jl777c#5810
thanks

[23-Jun-18 08:55 AM] jl777c#5810
I pushed a new version that should fix some percentage of stuck swaps. The issue was when bobdeposit takes a long time to confirm, bob was immediately waiting for alicepayment, but alice didnt send alicepayment until bobdeposit confirmed. If bobdeposit took longer than 30 minutes (for non-BTC) to confirm, the swap would stop after alicepayment. please update and let me know if it works properly. you should see some waiting for bobdeposit on the bob side now. it is only in jl777 branch until I get confirmation it is working

{Reactions}
👍 

[23-Jun-18 11:55 AM] hyperDEX#6586
@lukechilds

[23-Jun-18 12:29 PM] jl777c#5810
it would only affect cases where bobdeposit was taking more than 30 minutes

[23-Jun-18 12:35 PM] Gateway#3763
[matrix] <siu:matrix.org> Ok

[23-Jun-18 01:01 PM] hyperDEX#6586
The more fixes within the mm for these edge cases the better ;) Luke will be doing a work around for other stuck and missing deposit issues

[23-Jun-18 01:17 PM] Gateway#3763
[matrix] <siu:matrix.org> The "swap never started" error is still very common

[23-Jun-18 01:18 PM] Gateway#3763
[matrix] <siu:matrix.org> And it doesnt seem to have been completely fixed with the crash issue fix in etomic mm

[23-Jun-18 02:58 PM] jl777c#5810
@cipi I am wondering if we have ever tested using 10+ SPV servers for a single client. 2 is the minimum, but if both get into an error state, the user is stuck getting errors. I think  a way to make SPV much more reliable is having 10+  electrums. maybe even win10 might work?

[23-Jun-18 03:00 PM] cipi#4502
i think the most i had enabled were 4, but i don't like it that much to use others then my electrum1/2-servers, since i don't know where these other servers are located and so it could happen that i get connected to one from Zimbabwe  😄

[23-Jun-18 03:04 PM] Gateway#3763
[matrix] <siu:matrix.org> Do we know what is throughput one electrum can handle?

[23-Jun-18 03:05 PM] cipi#4502
that depends on the server, the network and the electrumx-implementation (both server and client)...

[23-Jun-18 03:08 PM] cipi#4502
btw, i never saw the load on the electrums going higher then 0.5 (with 4 cores this is 12.5%)... does not include networking stuff, but AWS is pretty good with that, so i doubt networking will ever be a problem

[23-Jun-18 03:10 PM] cipi#4502
the resource that makes most problems is RAM, since most wallets consume much too much RAM

[23-Jun-18 03:20 PM] cipi#4502
next time i will have to redeploy electrum-servers, i will configure swap space on them... 2 of the 6 have swap enabled and they are using it pretty much, 15GB are swapped out, although the server has 15GB RAM free... that indicates that most of the electrums/wallets/coins are not really used, they are just sitting there waiting for connections

[23-Jun-18 03:45 PM] jl777c#5810
can we setup a 10+ SPV for a test trading pair and see if it increases the reliability

[23-Jun-18 03:45 PM] jl777c#5810
can be for a small size blockcain pair

[23-Jun-18 03:55 PM] Gateway#3763
[matrix] <siu:matrix.org> If i get the servers i can clusterize the setup

