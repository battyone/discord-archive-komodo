==============================================================
Guild: Komodo
Channel: dev-tradebots
Topic: Linked with 'KMD-Tradebots' on Matrix
Messages: 100
Range: before 05-Dec-19 12:00 AM
==============================================================

[11-Jul-18 09:05 AM] grewalsatinder#9653
for that first candidate is our own KV feature.

[11-Jul-18 09:30 AM] jl777c#5810
@CHMEX if you have a list of addresses, a daemon that is live but stopped at a specific height, in -addressindex=1 mode you can just issue addressbalance calls

[11-Jul-18 12:02 PM] Gateway#3763
[matrix] <cipig:matrix.org> Enigma (ENG) swapped on BarterDEX
```
SWAP completed! 452881085-3657306391 {"uuid":"fb12353a0beb205489c240bedf404c957f6790b119db20deb4aea3a3848eece3","expiration":1531324954,"tradeid":0,"requestid":452881085,"quoteid":3657306391,"iambob":1,"Bgui":"nogui","Agui":"","gui":"nogui","bob":"ENG","bobtomic":"0xf0ee6b27b759c9893ce4f094b49ad28fd15a23e4","etomicsrc":"0x98298409c949135eed89233d04c2cfef984baff5","srcamount":0.73363211,"bobtxfee":0.00001000,"alice":"KMD","etomicdest":"0xdf38dd108bab50da564092ad0cd739c4634d963c","destamount":0.08009000,"alicetxfee":0.00001000,"aliceid":"331188198228492289","sentflags":["alicespend", "bobspend", "bobpayment", "alicepayment", "bobdeposit", "bobrefund"],"values":[1.00000999, 0.08010000, 1.00002000, 0.08011000, 1.12502000, 0, 0, 1.12500999, 0, 0, 0],"result":"success","status":"finished","finishtime":1531310023,"bobdeposit":"5241ddd801a3fba5deaa0ee55e3888c9bbce371529e1de6dde356ee46aef8669","alicepayment":"fbe5e864a0360bddf82dd70137580305c097b193705e80d2be2e03c7d6c1731b","bobpayment":"573be61e577e22b6f13624651e629a91e921d27cb159245e05b265c1ac73d22f","paymentspent":"bab099f048f4e15e063fc7645bd2a655f2f1a0c1703f6546e91b0aa233831529","Apaymentspent":"5c72a6d13582ee7e97420c6add94d5e430924bb0ecb09230f928d82549dad512","depositspent":"500c88140e16a1a89c2a12a85e06180da288c0d037b44eb713850644e8f0f217","alicedexfee":"bf87b74daf19e710e09bfab276a8145ad25e551ee6d68fa9f710a77331317941","method":"tradestatus","finishtime":1531310023}
```
bobdeposit https://etherscan.io/tx/0xa0cbe959b60875b73a4674d315a31acb288afba30f9e6d971c6d71476c27c989
alicepayment https://kmdexplorer.ru/tx/fbe5e864a0360bddf82dd70137580305c097b193705e80d2be2e03c7d6c1731b
bobpayment https://etherscan.io/tx/0xa101e146232aca3bd01f8fe0c7dde94e0d616eaa766fbe34ce8d27178b82d51c

{Reactions}
üëç üá™ üá≥ üá¨ 

[11-Jul-18 12:09 PM] jorian#4555
typing a c or v in debug section

[11-Jul-18 12:09 PM] jorian#4555
regarding ```[10:58 AM] grewalsatinder: - [I forgot the other one] :sweat_smile:
```

[11-Jul-18 12:09 PM] jorian#4555
VERY annoying üòõ

[11-Jul-18 12:22 PM] ComputerGenie#2331
@jorian as near as I can tell, unless I've missed something, that issue is related to electron itself and how it handles accelerators. I've looked at it a couple times and still haven't found any exact solution. üò¶

[11-Jul-18 12:23 PM] jorian#4555
there's a bounty now.. :abusedsmily:

{Reactions}
üòÑ 

[11-Jul-18 12:24 PM] ComputerGenie#2331
if only financial incentive made code issues magically jump out and say "HEY! I'm wrong here!" :trollface:

{Reactions}
üòÇ 

[11-Jul-18 01:55 PM] SHossain#0007

{Attachments}
https://cdn.discordapp.com/attachments/449948412960440352/466603461732073493/Screenshot_from_2018-07-11_14-54-46.png

[11-Jul-18 01:55 PM] SHossain#0007

{Attachments}
https://cdn.discordapp.com/attachments/449948412960440352/466603501280296970/Screenshot_from_2018-07-11_14-55-11.png

[11-Jul-18 01:56 PM] SHossain#0007
@siu - Chainmakers i don't see the dropdown issue on my end. i did reset db first, then restarted. i can see the dropdown list before and after.

[11-Jul-18 01:58 PM] siu - Chainmakers#3920
as i said... i got it working before

[11-Jul-18 01:58 PM] siu - Chainmakers#3920
not sure what exactly broke it

[11-Jul-18 01:59 PM] siu - Chainmakers#3920
can you try a fresh start

[11-Jul-18 01:59 PM] siu - Chainmakers#3920
delete .BarterDEX and start it

[11-Jul-18 01:59 PM] SHossain#0007
ok

[11-Jul-18 02:04 PM] ComputerGenie#2331
Albeit that I don't have the time, currently, to implement such a change, but would it be better (and more user intuitive) if we added the "Manage Coins" button to the login page? imo, that would solve the restart issue (restarting mm from "default" mode rather than full app restart) and reduce some other issues.

[11-Jul-18 02:08 PM] SHossain#0007
I deleted `.BarterDEX` data dir. deleted source. cloned fresh from repo. install and ran. it is working as intended in my end.
However, i didn't restart after fetching database and wanted to add coin and i got the error of missing dropdown menu.
Once i restarted the GUI, manage coin feature working fine.

[11-Jul-18 02:08 PM] SHossain#0007

{Attachments}
https://cdn.discordapp.com/attachments/449948412960440352/466606819117367306/Screenshot_from_2018-07-11_15-04-34.png

[11-Jul-18 02:09 PM] SHossain#0007
look like the issue would appear if we don't restart after fetching the coin databse

[11-Jul-18 02:10 PM] ComputerGenie#2331
also, when no menu happens, does a "reload" from "view" menu have any fixing effect (rather than restarting the entire app)?

[11-Jul-18 02:16 PM] jorian#4555
```[4:04 PM] ComputerGenie: Albeit that I don't have the time, currently, to implement such a change, but would it be better (and more user intuitive) if we added the "Manage Coins" button to the login page? imo, that would solve the restart issue (restarting mm from "default" mode rather than full app restart) and reduce some other issues.
```this was my initial thought after reading users now must restart barterdex. it is perfectly possible to do this like you said, indeed

[11-Jul-18 02:51 PM] siu - Chainmakers#3920
after restart it still doesnt work for me

[11-Jul-18 08:00 PM] jansako#3330
I am working on setting up a bob node on a vps (finally :-))  Would there be a problem if I were to occasionally fire up a local BarterDEX using the same seed/address to move funds/do some UTXO maintenance? As in would that affect any  swaps in progress or the ability for a swap to start etc?

[11-Jul-18 08:02 PM] jl777c#5810
certainly if you spend utxo being used for swap, that would mess up that swap

[11-Jul-18 08:02 PM] jl777c#5810
but the protocol handles that

[11-Jul-18 08:04 PM] jansako#3330
right, I just meant if there are issues like what happens when you try to run 2 marketmakers on the same LAN/public IP

[11-Jul-18 08:16 PM] jl777c#5810
as alice should be no problems

[11-Jul-18 08:16 PM] jl777c#5810
as bob maybe will get port binding conflicts

[11-Jul-18 08:16 PM] jl777c#5810
not sure

[11-Jul-18 08:31 PM] jansako#3330
Only one of them would be bob, the VPS. The other may not be making any trades at all. Thanks!

[11-Jul-18 10:13 PM] Gateway#3763
[matrix] <cipig:matrix.org> CyberMiles (CMT) swapped on BarterDEX
```
SWAP completed! 2048227820-1962598013 {"uuid":"c99f5458f0cb4dff09f26f7c6eae2538c54f5901003db2b0141459444421e387","expiration":1531361416,"tradeid":0,"requestid":2048227820,"quoteid":1962598013,"iambob":1,"Bgui":"nogui","Agui":"","gui":"nogui","bob":"CMT","bobtomic":"0xf85feea2fdd81d51177f6b8f35f0e6734ce45f5f","etomicsrc":"0x4e623b150b847da59f064f7c7fcc9f787dae2229","srcamount":0.75432255,"bobtxfee":0.00001000,"alice":"KMD","etomicdest":"0xdf38dd108bab50da564092ad0cd739c4634d963c","destamount":0.08009000,"alicetxfee":0.00001000,"aliceid":"15006642359003709441","sentflags":["alicespend", "bobspend", "bobpayment", "alicepayment", "bobdeposit", "bobrefund"],"values":[1.00000999, 0.08010000, 1.00002000, 0.08011000, 1.12502000, 0, 0, 1.12500999, 0, 0, 0],"result":"success","status":"finished","finishtime":1531347170,"bobdeposit":"b10df39ba984773f0536c270084ac9db9dfb8a9f91879c97028bf7e46848f67f","alicepayment":"91548a5c3a08b839f461d41a5d2574f1acb5d5e763331b8faa6d1a3bdccea989","bobpayment":"eac2243e79791bbca52a32b9eb22a56f8439b9d882b2c55f63eeb1284b7f68a4","paymentspent":"fd6b5b3dd100c4eb67adcd6044385aed377bee766fcf837888fd65820b3cf877","Apaymentspent":"65183019d5a0a2e7dc2fe413ac95ea7285047f4ed1adc9f051d7ff5355788684","depositspent":"b0e24e01ef3bc52431cae6ef42d92518c7ef4b5fa9ff5ef9fda6c73e67903ad4","alicedexfee":"a50c62d283802cd93ddbf840926af8d6263e91c385a06cc16556010a749a0cc7","method":"tradestatus","finishtime":1531347170}
```
bobdeposit https://etherscan.io/tx/0x1c9e46e50eded9be02214916ba952c73af45a67fa92a81292d442ca0ef254542
alicepayment https://kmdexplorer.ru/tx/91548a5c3a08b839f461d41a5d2574f1acb5d5e763331b8faa6d1a3bdccea989
bobpayment https://etherscan.io/tx/0x5c606da19b69a49b93073672a2d6581f442a897ed80fbcc877013c6351f61830

{Reactions}
Komodo üá® üá≤ üáπ 

[11-Jul-18 10:14 PM] Gateway#3763
[matrix] <cipig:matrix.org> bob payed $2 txfees for this swap... with 23 gwei gas price...

[11-Jul-18 10:39 PM] jl777c#5810
ETH is the future

{Reactions}
üíØ 

[11-Jul-18 11:19 PM] bushybro#7649
No.....

[11-Jul-18 11:19 PM] jl777c#5810
TRS80 is the future?

[11-Jul-18 11:20 PM] bushybro#7649
Who....what

[11-Jul-18 11:20 PM] bushybro#7649
At least you have a sense of humor üòÇ

[11-Jul-18 11:22 PM] ComputerGenie#2331
`TRS80 is the future?`
I still have one of those in my parents' storage, I think

[11-Jul-18 11:28 PM] jl777c#5810
are you from the future?

[11-Jul-18 11:59 PM] ComputerGenie#2331
ü§î

[12-Jul-18 01:55 AM] Gateway#3763
[matrix] <cipig:matrix.org> SALT (SALT) swapped on BarterDEX
```
SWAP completed! 63518504-1568548026 {"uuid":"11c723afba3a504144c589c6a967a268444308907418330ee06fc6a08c2dceb1","expiration":1531375388,"tradeid":0,"requestid":63518504,"quoteid":1568548026,"iambob":1,"Bgui":"nogui","Agui":"","gui":"nogui","bob":"SALT","bobtomic":"0x4156D3342D5c385a87D264F90653733592000581","etomicsrc":"0x98298409c949135eed89233d04c2cfef984baff5","srcamount":0.88913364,"bobtxfee":0.00001000,"alice":"KMD","etomicdest":"0xdf38dd108bab50da564092ad0cd739c4634d963c","destamount":0.10009000,"alicetxfee":0.00001000,"aliceid":"14831992270670331905","sentflags":["alicespend", "bobspend", "bobpayment", "alicepayment", "bobdeposit", "bobrefund"],"values":[1.00000999, 0.10010000, 1.00002000, 0.10011000, 1.12502000, 0, 0, 1.12500999, 0, 0, 0],"result":"success","status":"finished","finishtime":1531360261,"bobdeposit":"e9c5c6f59c5f6a7906e2542a24dffaf7d77473a67269b747d582c6b40ba96200","alicepayment":"c064cbc143f04a31f696239e7d03be55915efd2dc34b6ac4f99fb81755935093","bobpayment":"2ad660c0f0bd463754bec1cd932671bf316a765ddd219b5b00f0ff9e02cc1351","paymentspent":"6e31d1214b853902a5cb423944810a2c0fa8f470d7180e8225c3b78f7673d2de","Apaymentspent":"0c3d5325a5801547dac7c057ccad97b638851edad11982a66cade147083209f1","depositspent":"927eb7306d354711ad0efa78acc7ebc6200c71bb10c8b886c022f6500cf16288","alicedexfee":"8dca9b1a639fc3ca703db9710a5241d53785839164c79ea3484971230c03445d","method":"tradestatus","finishtime":1531360261}
```
bobdeposit https://etherscan.io/tx/0x75b01a2502d7786965007529756b273aec4a9bdd2f260418a1b46256e12dfc9b
alicepayment https://kmdexplorer.ru/tx/c064cbc143f04a31f696239e7d03be55915efd2dc34b6ac4f99fb81755935093
bobpayment https://etherscan.io/tx/0x66f2004c2a40bec64ca82fcccc096bd0c41f8557240d63a8b47f75c2d418a3d6

{Reactions}
Komodo üá∏ üá¶ üá± üáπ 

[12-Jul-18 01:57 AM] Mylo#8306
ty cipi!

[12-Jul-18 08:19 AM] CHMEX#0686
I'm close to have all KMD addresses exported not the most elegant way but I looks like to do the job.
Now I want to stop the daemon at a height and start fetching the balances. For this no new blocks shall be processed. I understand the -stopat will be a future feature is there a way I can change the p2p port so that my daemon simply does not connect to a peer?

[12-Jul-18 08:20 AM] CHMEX#0686
Once I have that I can even provide with a accurate transparent supply of KMD

[12-Jul-18 08:41 AM] jl777c#5810
just do a -connect=sillyaddress

[12-Jul-18 08:41 AM] jl777c#5810
it wont connect, you wont sync

[12-Jul-18 08:41 AM] jl777c#5810
without a peers.dat

[12-Jul-18 08:41 AM] jl777c#5810
oh, but maybe DNS will kick in...

[12-Jul-18 08:44 AM] CHMEX#0686
thank you very much James I try that now.

[12-Jul-18 08:47 AM] Gateway#3763
[matrix] <blackjok3r:matrix.org> connect=0

[12-Jul-18 08:47 AM] Gateway#3763
[matrix] <blackjok3r:matrix.org> thats all you need

[12-Jul-18 08:49 AM] CHMEX#0686
nice it works I check back in a few mins but looks good for now.
  "blocks": 917682,
  "longestchain": 0,

[12-Jul-18 08:56 AM] Gateway#3763
[matrix] <blackjok3r:matrix.org> for AC connect=0 does not work... it always connects to 1 other peer. you need to firewall outgoing connections fo some reason, but for KMD it works fine.

[12-Jul-18 09:03 AM] Mylo#8306
good to know

[12-Jul-18 09:11 AM] CHMEX#0686
Hi @blackjok3r  I just tried it with PIZZA and that also works. -connect=127.0.0.2 remember to remove the peers.dat

[12-Jul-18 09:12 AM] blackjok3r#3181
ahh cool... I tried connect=0 and addnode= the node I wanted... and it still had 2 connections.

[12-Jul-18 09:13 AM] blackjok3r#3181
guess if you want no connections its diffrent.

[12-Jul-18 09:13 AM] blackjok3r#3181
or maye that issue is now "fixed"

[12-Jul-18 10:12 AM] jl777c#5810
@CHMEX I will add coinsupply <height> rpc call and -stopat=<height> arg today. the coinsupply will take a while to do the first time, basically a rescan and txindex=1 is required, but you can iterate in an incrementing loop to see what the delay will be. that should allow an explorer api to get coinsupply easily. it should work for all komodod coins

{Reactions}
shexy 

[12-Jul-18 10:22 AM] CHMEX#0686
very nice thank you!

[12-Jul-18 12:55 PM] jorian#4555
@grewalsatinder i think i fixed ctrl-c ctrl-v

[12-Jul-18 12:58 PM] jorian#4555
i'll make a pull request

[12-Jul-18 12:58 PM] jorian#4555
what was the bounty again? ü§ë

[12-Jul-18 02:08 PM] jorian#4555
It seems it wasn't fixed completely. I don't remember: was pasting an address in the Send tab a problem too?

[12-Jul-18 03:39 PM] cipi#4502
@jl777c when bob fails to send out bobdeposit, it still tries to look after it indefintely

[12-Jul-18 03:40 PM] cipi#4502
```added 4 of 4 from COLX listunspents
second couldnt add address_utxo ed2c041a768a9f8304835384c3b048e1983e2e1d4ddae7e0ec12486d6b9fec07/v0 after not finding
dustcombine.0 numpre.0 min0.(nil) min1.(nil) numutxos.4 amount 351.87631126
change 0.00000000 = total 222.26719972 - amount 351.87631126, adjust 0.00000000 numvouts.1, txfee 10.00000000
not enough inputs  222.26719972 < for amount 351.87631126 txfee 10.00000000
rawtx withdraw error? ({"utxotxid":"ed2c041a768a9f8304835384c3b048e1983e2e1d4ddae7e0ec12486d6b9fec07","utxovout":0,"locktime":1531424445,"txfee":"1000000000","outputs":[{"6Y5zc1qagnMiupSmfNBjyqhKJhX8Yo1Ssq":341.87631127}]})
error bob generating 0x7f906812d454 deposit.23
ETH txid received: 0x0000000000000000000000000000000000000000000000000000000000000000
swapdata rawtx has null txbytes
error from basilisk_swapdata_rawtx.bobdeposit 0x7f906812d454 len.0
error sending bobdeposit
0 wait for bobdeposit 6Y5zc1qagnMiupSmfNBjyqhKJhX8Yo1Ssq numconfs.1 COLX 0000000000000000000000000000000000000000000000000000000000000000
0 wait for bobdeposit 6Y5zc1qagnMiupSmfNBjyqhKJhX8Yo1Ssq numconfs.1 COLX 0000000000000000000000000000000000000000000000000000000000000000```

[12-Jul-18 03:42 PM] jl777c#5810
more than half hour?

[12-Jul-18 03:48 PM] cipi#4502
haven't waited so long, but i will, the mm is still running, lets see

[12-Jul-18 04:44 PM] cipi#4502
@jl777c it is still there

[12-Jul-18 05:16 PM] jl777c#5810
I will add a timeout to that case, but tomorrow

[12-Jul-18 05:21 PM] cipi#4502
üëå

[12-Jul-18 05:58 PM] jansako#3330
Hi all, I have just set up my bob node in CLI, and it seems to be working fine on a KMD/SN pair.

[12-Jul-18 05:59 PM] jansako#3330
I have also set up and synced the BOTS chain, and edited the ./enable script. trouble is when I run it, it says 'couldnt find coin locally installed "coin":"BOTS"

[12-Jul-18 05:59 PM] jansako#3330
what am I missing?

[12-Jul-18 06:23 PM] cipi#4502
the BOTS coin daemon must be running

[12-Jul-18 06:28 PM] jansako#3330
it is, I have successfully imported a WIF key, just to test if it behaves

[12-Jul-18 06:29 PM] jansako#3330
how else can I verify?

[12-Jul-18 06:33 PM] cipi#4502
it must also listen to the rpc-port 11964 and have rpcuser and password set in the config file, which has to be in the default location ~/.komodo/BOTS/BOTS.conf

[12-Jul-18 06:35 PM] cipi#4502
normally you would not have to change anything in assetchains-configs to work with BarterDEX, since the daemon creates a suitable config-file on startup

[12-Jul-18 06:35 PM] jansako#3330
yep, that is what I have

[12-Jul-18 06:36 PM] cipi#4502
the default config? and `cat ~/.komodo/BOTS/BOTS.conf` shows you this file? You can check if the daemon is listening to the right port with `netstat -ntlp | grep 11964`... there should be an entry like this ```tcp        0      0 127.0.0.1:11964         0.0.0.0:*               LISTEN      20905/komodod```

[12-Jul-18 06:37 PM] jansako#3330
rpcuser=user1913715606
rpcpassword=passf4b5911c8eff2530ebf4336149fee67103936e4f5b455bb7eac1bfc34b2a1a38ba
rpcport=11964
server=1
txindex=1
rpcworkqueue=256
rpcallowip=127.0.0.1

[12-Jul-18 06:37 PM] jansako#3330
this is my config

[12-Jul-18 06:37 PM] cipi#4502
looks good

[12-Jul-18 06:37 PM] cipi#4502
and what does `netstat -ntlp | grep 11964` say?

[12-Jul-18 06:38 PM] jansako#3330
trying now

[12-Jul-18 06:38 PM] jansako#3330
tcp6       0      0 :::11964                :::*                    LISTEN      7386/./komodod

[12-Jul-18 06:39 PM] cipi#4502
aha... that is the problem... it listens only to the ipv6, not ipv4... could be because the port 11964 was in use when you started the daemon... i would restart the daemon and try agaian

[12-Jul-18 06:40 PM] jansako#3330
tested the same for the SN port 11341 which is working

[12-Jul-18 06:40 PM] jansako#3330
got the same

[12-Jul-18 06:40 PM] jansako#3330
tcp6       0      0 :::11341                :::*                    LISTEN      24752/./komodod

[12-Jul-18 06:41 PM] cipi#4502
weird thing...

[12-Jul-18 06:42 PM] jansako#3330
yep, I did restart the daemon once already, before trying to import a WIF just to test if it responds

[12-Jul-18 06:43 PM] cipi#4502
i assume the komodo-cli command does not care, it works, but looks like mm has problems when the daemon is only listening to ipv6... on my own bob the daemons are listening to both

[12-Jul-18 06:43 PM] cipi#4502
```tcp        0      0 127.0.0.1:11964         0.0.0.0:*               LISTEN      20905/komodod       
tcp6       0      0 ::1:11964               :::*                    LISTEN      20905/komodod```

[12-Jul-18 06:44 PM] jansako#3330
like I said, the SN daemon is showing the same IPv6 response, and it works with MM, responds and I have an offer issued. No swaps yet though...

[12-Jul-18 06:45 PM] jansako#3330
I can do a full reboot if you think that would help?

[12-Jul-18 06:46 PM] cipi#4502
not sure if that would help... but i still think the daemons should listen to both ipv4/ipv6... if you do the reboot, start the coin daemons first and the mm, because mm uses a lot of ports and the probability that these ports are in use is pretty high

