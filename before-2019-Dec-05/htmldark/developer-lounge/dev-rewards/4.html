<!DOCTYPE html>
<html lang="en">

<head>
    <title>Komodo - dev-rewards</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <style>
        /* === GENERAL === */

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/6c6374bad0b0b6d204d8d6dc4a18d820.woff);
    font-weight: 300;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/e8acd7d9bf6207f99350ca9f9e23b168.woff);
    font-weight: 400;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/3bdef1251a424500c1b3a78dea9b7e57.woff);
    font-weight: 500;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/be0060dafb7a0e31d2a1ca17c0708636.woff);
    font-weight: 600;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/8e12fb4f14d9c4592eb8ec9f22337b04.woff);
    font-weight: 700;
}

body {
    font-family: "Whitney", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 17px;
}

a {
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

img {
    object-fit: contain;
}

.markdown {
    white-space: pre-wrap;
    line-height: 1.3;
    overflow-wrap: break-word;
}

.spoiler {
    border-radius: 3px;
}

.quote {
    border-left: 4px solid;
    border-radius: 3px;
    margin: 8px 0;
    padding-left: 10px;
}

.pre {
    font-family: "Consolas", "Courier New", Courier, monospace;
}

.pre--multiline {
    margin-top: 4px;
    padding: 8px;
    border: 2px solid;
    border-radius: 5px;
}

.pre--inline {
    padding: 2px;
    border-radius: 3px;
    font-size: 85%;
}

.mention {
    font-weight: 500;
}

.emoji {
    width: 1.45em;
    height: 1.45em;
    margin: 0 1px;
    vertical-align: -0.4em;
}

.emoji--small {
    width: 1rem;
    height: 1rem;
}

.emoji--large {
    width: 2rem;
    height: 2rem;
}

/* === INFO === */

.info {
    display: flex;
    max-width: 100%;
    margin: 0 5px 10px 5px;
}

.info__guild-icon-container {
    flex: 0;
}

.info__guild-icon {
    max-width: 88px;
    max-height: 88px;
}

.info__metadata {
    flex: 1;
    margin-left: 10px;
}

.info__guild-name {
    font-size: 1.4em;
}

.info__channel-name {
    font-size: 1.2em;
}

.info__channel-topic {
    margin-top: 2px;
}

.info__channel-message-count {
    margin-top: 2px;
}

.info__channel-date-range {
    margin-top: 2px;
}

/* === CHATLOG === */

.chatlog {
    max-width: 100%;
    margin-bottom: 24px;
}

.chatlog__message-group {
    display: flex;
    margin: 0 10px;
    padding: 15px 0;
    border-top: 1px solid;
}

.chatlog__author-avatar-container {
    flex: 0;
    width: 40px;
    height: 40px;
}

.chatlog__author-avatar {
    border-radius: 50%;
    height: 40px;
    width: 40px;
}

.chatlog__messages {
    flex: 1;
    min-width: 50%;
    margin-left: 20px;
}

.chatlog__author-name {
    font-size: 1em;
    font-weight: 500;
}

.chatlog__timestamp {
    margin-left: 5px;
    font-size: .75em;
}

.chatlog__message {
    padding: 2px 5px;
    margin-right: -5px;
    margin-left: -5px;
    background-color: transparent;
    transition: background-color 1s ease;
}

.chatlog__content {
    font-size: .9375em;
    word-wrap: break-word;
}

.chatlog__edited-timestamp {
    margin-left: 3px;
    font-size: .8em;
}

.chatlog__attachment-thumbnail {
    margin-top: 5px;
    max-width: 50%;
    max-height: 500px;
    border-radius: 3px;
}

.chatlog__embed {
    margin-top: 5px;
    display: flex;
    max-width: 520px;
}

.chatlog__embed-color-pill {
    flex-shrink: 0;
    width: 4px;
    border-top-left-radius: 3px;
    border-bottom-left-radius: 3px;
}

.chatlog__embed-content-container {
    display: flex;
    flex-direction: column;
    padding: 8px 10px;
    border: 1px solid;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
}

.chatlog__embed-content {
    width: 100%;
    display: flex;
}

.chatlog__embed-text {
    flex: 1;
}

.chatlog__embed-author {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
}

.chatlog__embed-author-icon {
    width: 20px;
    height: 20px;
    margin-right: 9px;
    border-radius: 50%;
}

.chatlog__embed-author-name {
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-title {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-description {
    font-weight: 500;
    font-size: 14px;
}

.chatlog__embed-fields {
    display: flex;
    flex-wrap: wrap;
}

.chatlog__embed-field {
    flex: 0;
    min-width: 100%;
    max-width: 506px;
    padding-top: 10px;
}

.chatlog__embed-field--inline {
    flex: 1;
    flex-basis: auto;
    min-width: 150px;
}

.chatlog__embed-field-name {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-field-value {
    font-size: .875em;
    font-weight: 500;
}

.chatlog__embed-thumbnail {
    flex: 0;
    margin-left: 20px;
    max-width: 80px;
    max-height: 80px;
    border-radius: 3px;
}

.chatlog__embed-image-container {
    margin-top: 10px;
}

.chatlog__embed-image {
    max-width: 500px;
    max-height: 400px;
    border-radius: 3px;
}

.chatlog__embed-footer {
    margin-top: 10px;
}

.chatlog__embed-footer-icon {
    margin-right: 4px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    vertical-align: middle;
}

.chatlog__embed-footer-text {
    font-weight: 500;
    font-size: .75em;
}

.chatlog__reactions {
    display: flex;
}

.chatlog__reaction {
    display: flex;
    align-items: center;
    margin: 6px 2px 2px 2px;
    padding: 3px 6px;
    border-radius: 3px;
}

.chatlog__reaction-count {
    min-width: 9px;
    margin-left: 6px;
    font-size: .875em;
}

.chatlog__bot-tag {
    margin-left: 0.3em;
    background: #7289da;
    color: #ffffff;
    font-size: 0.625em;
    padding: 1px 2px;
    border-radius: 3px;
    vertical-align: middle;
    line-height: 1.3;
    position: relative;
    top: -.2em;
}
    </style>
    <style>
        /* === GENERAL === */

body {
    background-color: #36393e;
    color: #dcddde;
}

a {
    color: #0096cf;
}

.spoiler {
    background-color: rgba(255, 255, 255, 0.1);
}

.quote {
    border-color: #4f545c;
}

.pre {
    background-color: #2f3136 !important;
}

.pre--multiline {
    border-color: #282b30 !important;
    color: #839496 !important;
}

.mention {
    color: #7289da;
}

/* === INFO === */

.info__guild-name {
    color: #ffffff;
}

.info__channel-name {
    color: #ffffff;
}

.info__channel-topic {
    color: #ffffff;
}

/* === CHATLOG === */

.chatlog__message-group {
    border-color: rgba(255, 255, 255, 0.1);
}

.chatlog__author-name {
    color: #ffffff;
}

.chatlog__timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__message--highlighted {
    background-color: rgba(114, 137, 218, 0.2) !important;
}

.chatlog__message--pinned {
    background-color: rgba(249, 168, 37, 0.05);
}

.chatlog__edited-timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__embed-content-container {
    background-color: rgba(46, 48, 54, 0.3);
    border-color: rgba(46, 48, 54, 0.6);
}

.chatlog__embed-author-name {
    color: #ffffff;
}

.chatlog__embed-author-name-link {
    color: #ffffff;
}

.chatlog__embed-title {
    color: #ffffff;
}

.chatlog__embed-description {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-field-name {
    color: #ffffff;
}

.chatlog__embed-field-value {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-footer {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__reaction {
    background-color: rgba(255, 255, 255, 0.05);
}

.chatlog__reaction-count {
    color: rgba(255, 255, 255, 0.3);
}
    </style>

    <script>
        function scrollToMessage(event, id) {
            var element = document.getElementById('message-' + id);

            if (element !== null && element !== undefined) {
                event.preventDefault();

                element.classList.add('chatlog__message--highlighted');

                window.scrollTo({
                    top: element.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (window.innerHeight / 2),
                    behavior: 'smooth'
                });

                window.setTimeout(function() {
                    element.classList.remove('chatlog__message--highlighted');
                }, 2000);
            }
        }
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.pre--multiline').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>
<body>

<div class="info">
    <div class="info__guild-icon-container">
        <img class="info__guild-icon" src="https://cdn.discordapp.com/icons/412898016371015680/a_157cb08c4198ad53b9e9b7168c930571.png" />
    </div>
    <div class="info__metadata">
        <div class="info__guild-name">Komodo</div>
        <div class="info__channel-name">dev-rewards</div>

            <div class="info__channel-topic">A channel to discuss claiming Komodo&#39;s 5.1% rewards.</div>

        <div class="info__channel-message-count">100 messages</div>

            <div class="info__channel-date-range">
                    Before 05-Dec-19 12:00 AM
            </div>
    </div>
</div>

<div class="chatlog">
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">02-Nov-18 12:16 PM</span>

                    <div class="chatlog__message " data-message-id="507890669436665866" id="message-507890669436665866">
                        <div class="chatlog__content">
                            <span class="markdown">appreciate it <img class="emoji " alt="👍" title="👍" src="https://twemoji.maxcdn.com/2/72x72/1f44d.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="plazma#1625" data-user-id="497498788731158529">plazma</span>


                <span class="chatlog__timestamp">04-Nov-18 09:01 AM</span>

                    <div class="chatlog__message " data-message-id="508566541630046240" id="message-508566541630046240">
                        <div class="chatlog__content">
                            <span class="markdown">Wow info info cool....so munch info<img class="emoji " alt="😮" title="😮" src="https://twemoji.maxcdn.com/2/72x72/1f62e.png" /> <img class="emoji " alt="😮" title="😮" src="https://twemoji.maxcdn.com/2/72x72/1f62e.png" /> <img class="emoji " alt="😮" title="😮" src="https://twemoji.maxcdn.com/2/72x72/1f62e.png" /> <img class="emoji " alt="😮" title="😮" src="https://twemoji.maxcdn.com/2/72x72/1f62e.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/459065480511225878/85d72d6612bcfd6687c7a5d53a9d2f84.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="ryman112#0068" data-user-id="459065480511225878">ryman112</span>


                <span class="chatlog__timestamp">22-Nov-18 01:36 AM</span>

                    <div class="chatlog__message " data-message-id="514977379886563329" id="message-514977379886563329">
                        <div class="chatlog__content">
                            <span class="markdown">Looking for a link on instructions to claim rewards to explain to friends.  Please and thank you</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/414128958326571008/e02d4e71ef34ca28d67141ff85ad79bb.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Hermes#6934" data-user-id="414128958326571008">Hermes</span>


                <span class="chatlog__timestamp">22-Nov-18 01:54 AM</span>

                    <div class="chatlog__message " data-message-id="514981853170630657" id="message-514981853170630657">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="ryman112#0068">@ryman112</span>  Here is a guide that can help with this <a href="https://support.komodoplatform.com/solution/articles/29000025215-how-to-claim-the-kmd-active-user-reward-in-agama/en">https://support.komodoplatform.com/solution/articles/29000025215-how-to-claim-the-kmd-active-user-reward-in-agama/en</a></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="514981923345399819" id="message-514981923345399819">
                        <div class="chatlog__content">
                            <span class="markdown">if you need more help come to <span class="mention">#support</span></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/459065480511225878/85d72d6612bcfd6687c7a5d53a9d2f84.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="ryman112#0068" data-user-id="459065480511225878">ryman112</span>


                <span class="chatlog__timestamp">22-Nov-18 01:56 AM</span>

                    <div class="chatlog__message " data-message-id="514982544651845642" id="message-514982544651845642">
                        <div class="chatlog__content">
                            <span class="markdown">Thanks</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">22-Nov-18 11:46 AM</span>

                    <div class="chatlog__message " data-message-id="515131035365670922" id="message-515131035365670922">
                        <div class="chatlog__content">
                            <span class="markdown">Submitted KMD Reward PR to Ledger</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="515131043683237919" id="message-515131043683237919">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://github.com/LedgerHQ/ledger-app-btc/pull/84">https://github.com/LedgerHQ/ledger-app-btc/pull/84</a></span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/LedgerHQ/ledger-app-btc/pull/84"><span class="markdown">Allow Ledger to sign Komodo reward claim transactions by lukechild...</span></a>
                                            </div>

                                        <div class="chatlog__embed-description"><span class="markdown">Resolves #60
In Komodo you can claim rewards (essentially interest) based on the age of your UTXOs. This essentially mints new coins in the claim transaction which means the output amount is expect...</span></div>

                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars2.githubusercontent.com/u/2123375?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars2.githubusercontent.com/u/2123375?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div class="chatlog__message " data-message-id="515131131100921856" id="message-515131131100921856">
                        <div class="chatlog__content">
                            <span class="markdown">not heard anything from them for a few days</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="515131236487004161" id="message-515131236487004161">
                        <div class="chatlog__content">
                            <span class="markdown">will ping them in the Ledger Slack on Monday if they still haven&#39;t given any feedback</span>

                        </div>



                        <div class="chatlog__reactions">
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="👍" title="👍" src="https://twemoji.maxcdn.com/2/72x72/1f44d.png" />
                                    <span class="chatlog__reaction-count">11</span>
                                </div>
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="❤" title="❤" src="https://twemoji.maxcdn.com/2/72x72/2764.png" />
                                    <span class="chatlog__reaction-count">4</span>
                                </div>
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="🎉" title="🎉" src="https://twemoji.maxcdn.com/2/72x72/1f389.png" />
                                    <span class="chatlog__reaction-count">2</span>
                                </div>
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="👏🏽" title="👏🏽" src="https://twemoji.maxcdn.com/2/72x72/1f44f-1f3fd.png" />
                                    <span class="chatlog__reaction-count">2</span>
                                </div>
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="👌🏽" title="👌🏽" src="https://twemoji.maxcdn.com/2/72x72/1f44c-1f3fd.png" />
                                    <span class="chatlog__reaction-count">2</span>
                                </div>
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="shexy" title="shexy" src="https://cdn.discordapp.com/emojis/464184005038702594.png" />
                                    <span class="chatlog__reaction-count">2</span>
                                </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">27-Nov-18 07:04 AM</span>

                    <div class="chatlog__message " data-message-id="516871802916569108" id="message-516871802916569108">
                        <div class="chatlog__content">
                            <span class="markdown">I messaged them in the Slack and still not heard anthing back</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="516871835238006795" id="message-516871835238006795">
                        <div class="chatlog__content">
                            <span class="markdown">been over a week since the PR was submitted</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="516871947221598208" id="message-516871947221598208">
                        <div class="chatlog__content">
                            <span class="markdown">for any users with GH accoutns that want to see thisimplemeted, it would be great if you could show your support by thumbs upping the PR</span>

                                <span class="chatlog__edited-timestamp" title="27-Nov-18 08:56 AM">(edited)</span>
                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="516871951738863616" id="message-516871951738863616">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://twitter.com/lukechilds/status/1067312635173957632">https://twitter.com/lukechilds/status/1067312635173957632</a></span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(79,84,92,255)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">
                                            <div class="chatlog__embed-author">
                                                    <img class="chatlog__embed-author-icon" src="https://pbs.twimg.com/profile_images/871330644663468033/0k-dALHI_bigger.jpg" />

                                                    <span class="chatlog__embed-author-name">
                                                            <a class="chatlog__embed-author-name-link" href="https://twitter.com/lukechilds">Luke Childs (@lukechilds)</a>
                                                    </span>
                                            </div>


                                        <div class="chatlog__embed-description"><span class="markdown">PR submitted to Ledger to enable the Ledger to sign $KMD reward claim transactions. <img class="emoji " alt="👍" title="👍" src="https://twemoji.maxcdn.com/2/72x72/1f44d.png" /> the issue to show your support!

<a href="https://t.co/40aR4LFVlp">https://t.co/40aR4LFVlp</a></span></div>

                                    </div>

                                </div>


                                    <div class="chatlog__embed-footer">
                                                <img class="chatlog__embed-footer-icon" src="https://abs.twimg.com/icons/apple-touch-icon-192x192.png" />

                                        <span class="chatlog__embed-footer-text">
                                                    Twitter
                                                    

                                        </span>
                                    </div>
                            </div>
                        </div>

                        <div class="chatlog__reactions">
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="👍" title="👍" src="https://twemoji.maxcdn.com/2/72x72/1f44d.png" />
                                    <span class="chatlog__reaction-count">2</span>
                                </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 05:57 AM</span>

                    <div class="chatlog__message " data-message-id="517217508214964224" id="message-517217508214964224">
                        <div class="chatlog__content">
                            <span class="markdown">Hey <span class="mention" title="jl777c#5810">@jl777c</span>, I’ve implemented the interest calculations in JavaScript.

I used the komodod C implementation for reference, however it seems like there’s a lot of stuff going on in there and I found it a little hard to follow. Also looks like theres some consensus enforcing logic that’s important to be enforced in Komodo but really not strictly necessary to be enforced in a client library just used for calculating the values.   I also used the Agama JavaScript and dexstats.info PHP implementations as secondary reference, however I’ve found quite a few contradictions between their implementations and the Komodo implementation so I think there are some bugs in both of those. I’ve followed the C implementation much more closely than the others (I think).

If you don’t mind taking a look at my code and letting me know If I’ve correctly interpreted your code I can help fix the Agama and dexstats.info implementation.

I’m not sure how familiar you are with JavaScript but I’ve tried to write the code as clear and readable as possible with comments so hopefully it should be pretty straight forward for you to understand and soo if anything is missing.</span>

                                <span class="chatlog__edited-timestamp" title="28-Nov-18 05:59 AM">(edited)</span>
                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517217545997254686" id="message-517217545997254686">
                        <div class="chatlog__content">
                            <span class="markdown">To talk you through what I’m doing in plain English:

Function accepts locktime, height and satoshis of a UTXO and returns the accrued interest.

- First we need to calculate the coinage.
- - Subtract the locktime from the unixtime to get the coinage.
- - Divide this value by 60 to give the coinage in minutes.
- - Round the coinage down to ensure we have a whole number of minutes.
- Now some checks to see if the UTXO is eligible for interest
- - Return 0 if height &gt;= KOMODO_ENDOFERA
- - Return 0 if locktime &lt; LOCKTIME_THRESHOLD
- - Return 0 if satoshis &lt; 10 KMD
- - Return 0 if coinage &lt; ONE_HOUR
- Now we need to cap the reward period if the coinage is over a certain amount
- - If tx height is &lt; 1000000 cap reward period at one year
- - If tx height is &gt;= 1000000 cap reward period at one month
- Subtract 59 minutes from reward period
- Calculate the final reward amount by:
- - satoshis / 10512000
- - Round the result down to ensure we have an integer
- - multiply this integer by the reward period
-  As a final sanity check, this should never happen, but if the reward amount is a negative number, just return 0.
- Return the reward amount.

Btw, what is this 10512000 value? Some kind of interest multiplier? How would you describe this number? Need a clear variable name for it haha.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517217595800289382" id="message-517217595800289382">
                        <div class="chatlog__content">
                            <span class="markdown">You can view my JavaScript implementation here:

<a href="https://github.com/lukechilds/komodo-ledger-reward-claim/blob/f7ebfe9fbb84df893a3d2cbd9f626ade0a4c507c/src/lib/get-komodo-rewards.js">https://github.com/lukechilds/komodo-ledger-reward-claim/blob/f7ebfe9fbb84df893a3d2cbd9f626ade0a4c507c/src/lib/get-komodo-rewards.js</a></span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/lukechilds/komodo-ledger-reward-claim/blob/f7ebfe9fbb84df893a3d2cbd9f626ade0a4c507c/src/lib/get-komodo-rewards.js"><span class="markdown">lukechilds/komodo-ledger-reward-claim</span></a>
                                            </div>

                                        <div class="chatlog__embed-description"><span class="markdown">Contribute to lukechilds/komodo-ledger-reward-claim development by creating an account on GitHub.</span></div>

                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars2.githubusercontent.com/u/2123375?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars2.githubusercontent.com/u/2123375?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div class="chatlog__message " data-message-id="517217626896990208" id="message-517217626896990208">
                        <div class="chatlog__content">
                            <span class="markdown">I also have a number of questions based on the C code, regarding things that I’m not quite sure what they’re doing and whether I should be including them in my calculations or if they’re not relevant to this use case. But I’ll let you get back to me on what you think of this before I spam you with a load of questions about that.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517217679690563585" id="message-517217679690563585">
                        <div class="chatlog__content">
                            <span class="markdown">Thanks!</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 08:07 AM</span>

                    <div class="chatlog__message " data-message-id="517250179649372190" id="message-517250179649372190">
                        <div class="chatlog__content">
                            <span class="markdown">above sounds correct. of course there is no need to check about height 1 million or not as we are well past it, just cap to a month I think I used 31 days</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517250335371427866" id="message-517250335371427866">
                        <div class="chatlog__content">
                            <span class="markdown">the 10512000 I call divisor. it is just what the math works out when you do 5% based on minutes</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517250443966152708" id="message-517250443966152708">
                        <div class="chatlog__content">
                            <span class="markdown">pbca26 has the same logic in javascript for agama over SPV</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517250475649662977" id="message-517250475649662977">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="pbca26#5430">@pbca26</span></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 08:15 AM</span>

                    <div class="chatlog__message " data-message-id="517252150905274369" id="message-517252150905274369">
                        <div class="chatlog__content">
                            <span class="markdown">I still need to check the height for old UTXOs though right</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517252234720051203" id="message-517252234720051203">
                        <div class="chatlog__content">
                            <span class="markdown">if a UTXO was created before block 1 million then it can accrue interest for a year cant it?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517252321923694602" id="message-517252321923694602">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m pretty sure that&#39;s how the source code in Komodo handles it</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 08:16 AM</span>

                    <div class="chatlog__message " data-message-id="517252353884422175" id="message-517252353884422175">
                        <div class="chatlog__content">
                            <span class="markdown">oh, that is true! sorry, need more coffee</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 08:16 AM</span>

                    <div class="chatlog__message " data-message-id="517252369193631765" id="message-517252369193631765">
                        <div class="chatlog__content">
                            <span class="markdown">haha</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517252815639412749" id="message-517252815639412749">
                        <div class="chatlog__content">
                            <span class="markdown">devisor makes makes sense</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517253241575047181" id="message-517253241575047181">
                        <div class="chatlog__content">
                            <span class="markdown">Yeah, I ised the Agama logic as reference too</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517253243076608010" id="message-517253243076608010">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://github.com/pbca26/agama-wallet-lib/blob/74390cbe2fe88e1f075f83b2b25d063ddc83208a/src/komodo-interest.js">https://github.com/pbca26/agama-wallet-lib/blob/74390cbe2fe88e1f075f83b2b25d063ddc83208a/src/komodo-interest.js</a></span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/pbca26/agama-wallet-lib/blob/74390cbe2fe88e1f075f83b2b25d063ddc83208a/src/komodo-interest.js"><span class="markdown">pbca26/agama-wallet-lib</span></a>
                                            </div>

                                        <div class="chatlog__embed-description"><span class="markdown">Common library for cryptocurrencies. Contribute to pbca26/agama-wallet-lib development by creating an account on GitHub.</span></div>

                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars2.githubusercontent.com/u/7769879?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars2.githubusercontent.com/u/7769879?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div class="chatlog__message " data-message-id="517253293240614912" id="message-517253293240614912">
                        <div class="chatlog__content">
                            <span class="markdown">There are a few errors in it</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517253325851328522" id="message-517253325851328522">
                        <div class="chatlog__content">
                            <span class="markdown">but only minor ones</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517253424782376961" id="message-517253424782376961">
                        <div class="chatlog__content">
                            <span class="markdown">should likely not cause it to fail, just will result in less interest being claimed than is available</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517253598145675264" id="message-517253598145675264">
                        <div class="chatlog__content">
                            <span class="markdown">and in some cases might result in weird output but I that would only normally occur if people were feeding in dodgy input, not with legitimate transactions</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517253842329534464" id="message-517253842329534464">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> I&#39;m also a little confused about when I should and shouldn&#39;t be rounding down</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517253860071571476" id="message-517253860071571476">
                        <div class="chatlog__content">
                            <span class="markdown">I think I got it right</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517254962946899978" id="message-517254962946899978">
                        <div class="chatlog__content">
                            <span class="markdown">For example I do <span class="pre pre--inline">coinage = Math.floor((unixtime - locktime) / ONE_HOUR)</span> so coinage is always an integer. However in Agama it does <span class="pre pre--inline">timestampDiffMinutes = timestampDiff / 60</span>. Notice this isn&#39;t rounded, so the minutes can be a floating value. All calcualtions are done based on this floating value and then the final value is rounded down.

I think my version is correct in that all calculations should be done with integers with no need to round the final result.
As opposed to Agama where calculations are done to floatin point precision and the rounded down at the end</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517254988196610049" id="message-517254988196610049">
                        <div class="chatlog__content">
                            <span class="markdown">Am I correct?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517255072812630026" id="message-517255072812630026">
                        <div class="chatlog__content">
                            <span class="markdown">or should I implement it like it is in the Agama implementation</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 08:27 AM</span>

                    <div class="chatlog__message " data-message-id="517255097466748928" id="message-517255097466748928">
                        <div class="chatlog__content">
                            <span class="markdown">komodod doesnt use floating point</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517255133143367680" id="message-517255133143367680">
                        <div class="chatlog__content">
                            <span class="markdown">so all calcs are rounded, even the intermediate</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517255184280322048" id="message-517255184280322048">
                        <div class="chatlog__content">
                            <span class="markdown">i have zero idea how javascript does its expression handling</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517255289943097379" id="message-517255289943097379">
                        <div class="chatlog__content">
                            <span class="markdown">the problem with agama was it was using floating point and multiplying a fraction that wasnt there in the integer calcs</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 08:28 AM</span>

                    <div class="chatlog__message " data-message-id="517255367265353739" id="message-517255367265353739">
                        <div class="chatlog__content">
                            <span class="markdown">right, but the results I get from my function and the Agama function are different</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517255380951105536" id="message-517255380951105536">
                        <div class="chatlog__content">
                            <span class="markdown">only slightly</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517255422311399435" id="message-517255422311399435">
                        <div class="chatlog__content">
                            <span class="markdown">and both are accepted by the network</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517255472319954947" id="message-517255472319954947">
                        <div class="chatlog__content">
                            <span class="markdown">but I&#39;m only testing with small values</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517255573755002901" id="message-517255573755002901">
                        <div class="chatlog__content">
                            <span class="markdown">I think with larger values, the Agama implementation would drift further away, maybe even to the point that it becomes invalid</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517256062630625290" id="message-517256062630625290">
                        <div class="chatlog__content">
                            <span class="markdown">I also have a few questions from your source</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517256131924590593" id="message-517256131924590593">
                        <div class="chatlog__content">
                            <span class="markdown">just to see if I need to implement any of these missing bits in my implementation</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517256165001003028" id="message-517256165001003028">
                        <div class="chatlog__content">
                            <span class="markdown">2 secs, will find my lsit</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 08:40 AM</span>

                    <div class="chatlog__message " data-message-id="517258371041329153" id="message-517258371041329153">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> I’ve numbered the questions, would be great if you could reply with the numbers so I can easily work out which bits you’re replying to.

1)
What is the <span class="pre pre--inline">(minutes= (tiptime - nLockTime) / 60) &gt;= (KOMODO_MAXMEMPOOLTIME/60)</span> check for? Do I need to implement this.

2)
There a re a few checks for <span class="pre pre--inline">tiptime != 0</span>. What are these for? Do I ned to implement them?

3)
what is <span class="pre pre--inline">nValue &gt; 25000LL*COIN</span> for? Checking max supply? Do I need to implement it?

4)
What is this block of code for? Looks like it’s maybe blacklisting previous supply inflation attacks or something?

<div class="pre pre--multiline nohighlight">if ( (txheight == 116607 &amp;&amp; nValue == 2502721100000LL) ||
    (txheight == 126891 &amp;&amp; nValue == 2879650000000LL) ||
    (txheight == 129510 &amp;&amp; nValue == 3000000000000LL) ||
    (txheight == 141549 &amp;&amp; nValue == 3500000000000LL) ||
    (txheight == 154473 &amp;&amp; nValue == 3983399350000LL) ||
    (txheight == 154736 &amp;&amp; nValue == 3983406748175LL) ||
    (txheight == 155013 &amp;&amp; nValue == 3983414006565LL) ||
    (txheight == 155492 &amp;&amp; nValue == 3983427592291LL) ||
    (txheight == 155613 &amp;&amp; nValue == 9997409999999797LL) ||
    (txheight == 157927 &amp;&amp; nValue == 9997410667451072LL) ||
    (txheight == 155613 &amp;&amp; nValue == 2590000000000LL) ||
    (txheight == 155949 &amp;&amp; nValue == 4000000000000LL) )
    exception = 1;
if ( exception == 0 || nValue == 4000000000000LL )
    printf(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; exception.%d txheight.%d %.8f locktime %u vs tiptime %u &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n&quot;,exception,txheight,(double)nValue/COIN,nLockTime,tiptime);</div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517258380163678225" id="message-517258380163678225">
                        <div class="chatlog__content">
                            <span class="markdown">5)
Do I need to do anything to handle pre interest activation?

There are references to less than block 250000 and <span class="pre pre--inline">activation = 1491350400;  // 1491350400 5th April</span>.

Is this when interest was activated? Do I need to disable interest claims on UTXOs older than this?

Some examples of where it appears. I’m not quite sure what it’s doing but it doesn’t seem to be disabling anything.

<div class="pre pre--multiline nohighlight">numerator = (nValue / 20); // assumes 5%!
                    if ( txheight &lt; 250000 )
                        interest = (numerator / denominator);</div>

<div class="pre pre--multiline nohighlight">if ( txheight &lt; 250000 || tiptime &lt; activation )
                {
                    if ( txheight &lt; 250000 || numerator * minutes &lt; 365 * 24 * 60 )
                        interest = (numerator / denominator) / COIN;
                    else interest = ((numerator * minutes) / ((uint64_t)365 * 24 * 60)) / COIN;
                }</div></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 08:50 AM</span>

                    <div class="chatlog__message " data-message-id="517260879990095903" id="message-517260879990095903">
                        <div class="chatlog__content">
                            <span class="markdown">1 . that is the one hour check.
2. just a sanity check that there is a non-zero tiptime. a 0 tiptime would create negative duration
3. ignore
4. ignore
5. no</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 09:51 AM</span>

                    <div class="chatlog__message " data-message-id="517276304647651328" id="message-517276304647651328">
                        <div class="chatlog__content">
                            <span class="markdown">thanks for you answers</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517276353079541762" id="message-517276353079541762">
                        <div class="chatlog__content">
                            <span class="markdown">also, re the devisor</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517276385325088791" id="message-517276385325088791">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m still not quite sure what exactly this is</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517276503960977409" id="message-517276503960977409">
                        <div class="chatlog__content">
                            <span class="markdown">when you get a value and devide it by a deviser it gives you the interest per minute, right?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517276592486219777" id="message-517276592486219777">
                        <div class="chatlog__content">
                            <span class="markdown">so you can multiply that up for the duration of minutes to find the total interest amount</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517276655954427905" id="message-517276655954427905">
                        <div class="chatlog__content">
                            <span class="markdown">how did you actually calculate the value 10512000?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517276737004896256" id="message-517276737004896256">
                        <div class="chatlog__content">
                            <span class="markdown">would just like to make the meaning a bit more clear in my code so I understand it when I come back to it</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 10:05 AM</span>

                    <div class="chatlog__message " data-message-id="517279859572080643" id="message-517279859572080643">
                        <div class="chatlog__content">
                            <span class="markdown">it does all the multiplying and dividing needed to end up at 5% APR</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517279983895314432" id="message-517279983895314432">
                        <div class="chatlog__content">
                            <span class="markdown">i just combined numerator and denominator constants into a single one, but this way it avoids any overflow/underflow issues</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517280084848148490" id="message-517280084848148490">
                        <div class="chatlog__content">
                            <span class="markdown">in essence it is a constant. if you use half its value, then it will be 10% APR</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517280118864085002" id="message-517280118864085002">
                        <div class="chatlog__content">
                            <span class="markdown">if you use double the value 2.5% APR</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517280196479680522" id="message-517280196479680522">
                        <div class="chatlog__content">
                            <span class="markdown">it is just the constant that calculates 5% APR when used in the equation where it is</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517280906814423040" id="message-517280906814423040">
                        <div class="chatlog__content">
                            <span class="markdown">365 * 24 * 60 / 10512000 = 0.05</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517281117653565450" id="message-517281117653565450">
                        <div class="chatlog__content">
                            <span class="markdown">it is the divisor to use on the minutes in a year to get 5%</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 10:10 AM</span>

                    <div class="chatlog__message " data-message-id="517281241767346176" id="message-517281241767346176">
                        <div class="chatlog__content">
                            <span class="markdown">I see, thanks</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517281289041084427" id="message-517281289041084427">
                        <div class="chatlog__content">
                            <span class="markdown">and <span class="pre pre--inline">rewardPeriod -= 59;</span></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517281395958087680" id="message-517281395958087680">
                        <div class="chatlog__content">
                            <span class="markdown">that is to make sure the first hour of coinage doesn&#39;t account towards the accrued interest. Is that correct?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 10:11 AM</span>

                    <div class="chatlog__message " data-message-id="517281484781125652" id="message-517281484781125652">
                        <div class="chatlog__content">
                            <span class="markdown">correct</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 10:12 AM</span>

                    <div class="chatlog__message " data-message-id="517281679120007168" id="message-517281679120007168">
                        <div class="chatlog__content">
                            <span class="markdown">out of interest, why is it 59 instead of 60?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 10:13 AM</span>

                    <div class="chatlog__message " data-message-id="517281961497329681" id="message-517281961497329681">
                        <div class="chatlog__content">
                            <span class="markdown">to avoid divide by zero?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517282171522646017" id="message-517282171522646017">
                        <div class="chatlog__content">
                            <span class="markdown">i guess it wouldnt have divided by zero. it was done in the midst of a week without any sleep as we were bombarded with three different attacks</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517282243513679882" id="message-517282243513679882">
                        <div class="chatlog__content">
                            <span class="markdown">so just instinct to use 59 instead of 60</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 10:15 AM</span>

                    <div class="chatlog__message " data-message-id="517282268767584266" id="message-517282268767584266">
                        <div class="chatlog__content">
                            <span class="markdown">ah, I see</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 10:15 AM</span>

                    <div class="chatlog__message " data-message-id="517282312472363008" id="message-517282312472363008">
                        <div class="chatlog__content">
                            <span class="markdown">and once it was done, it would take a hard fork to &quot;fix&quot; it</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517282428167913482" id="message-517282428167913482">
                        <div class="chatlog__content">
                            <span class="markdown">there is nothing wrong with the number 59 though, it is just as valid a number as 60. so the 59 numbers lobby fought hard to keep it there</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 10:16 AM</span>

                    <div class="chatlog__message " data-message-id="517282605679247361" id="message-517282605679247361">
                        <div class="chatlog__content">
                            <span class="markdown">lol</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517282670804467712" id="message-517282670804467712">
                        <div class="chatlog__content">
                            <span class="markdown">this might be a bit of a pain</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517283011386015774" id="message-517283011386015774">
                        <div class="chatlog__content">
                            <span class="markdown">but by any chance would you be able to pull out the interest calc code and give me a binary I can pass values to and get the reward output.

I would like to vigorously check my implementation is compliant with the network consensus and write a test suite to ensure it stays compliant</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517283148632162304" id="message-517283148632162304">
                        <div class="chatlog__content">
                            <span class="markdown">it would be good to publish my function as an independent module so all other software in the Komodo ecosystem can pull in this module and benefit from it</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517283182702231558" id="message-517283182702231558">
                        <div class="chatlog__content">
                            <span class="markdown">rather than having everyoen implement it themselves with their own various quirks</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517283436738641921" id="message-517283436738641921">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m thinking something like:

<div class="pre pre--multiline nohighlight">$ calcinterest locktime height satoshis
0.00257346</div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517283480132911104" id="message-517283480132911104">
                        <div class="chatlog__content">
                            <span class="markdown">as a binary executed on the CLI</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517283586311979009" id="message-517283586311979009">
                        <div class="chatlog__content">
                            <span class="markdown">obvs <span class="pre pre--inline">locktime</span>, <span class="pre pre--inline">height</span>, and <span class="pre pre--inline">satoshis</span> would be replaced with numbers</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517283631274655746" id="message-517283631274655746">
                        <div class="chatlog__content">
                            <span class="markdown">bonus points for allowing the current time to be passed in too</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517283671359619093" id="message-517283671359619093">
                        <div class="chatlog__content">
                            <span class="markdown">instead of using the system clock</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 10:20 AM</span>

                    <div class="chatlog__message " data-message-id="517283682478718976" id="message-517283682478718976">
                        <div class="chatlog__content">
                            <span class="markdown">gettxout has &quot;interest&quot; field</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 10:21 AM</span>

                    <div class="chatlog__message " data-message-id="517283769934282782" id="message-517283769934282782">
                        <div class="chatlog__content">
                            <span class="markdown">is that an RPC command?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517283797516156938" id="message-517283797516156938">
                        <div class="chatlog__content">
                            <span class="markdown">and I pass it a TXID?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Nov-18 10:23 AM</span>

                    <div class="chatlog__message " data-message-id="517284286777393182" id="message-517284286777393182">
                        <div class="chatlog__content">
                            <span class="markdown">gettxout txid vout</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517284324744364042" id="message-517284324744364042">
                        <div class="chatlog__content">
                            <span class="markdown">yes pass in txid and vout of a utxo</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/360402743543988225/487b10b4ae321673f38837afc7e06044.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="lukechilds#2707" data-user-id="360402743543988225">lukechilds</span>


                <span class="chatlog__timestamp">28-Nov-18 10:24 AM</span>

                    <div class="chatlog__message " data-message-id="517284568835817472" id="message-517284568835817472">
                        <div class="chatlog__content">
                            <span class="markdown">yep</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517284578508013570" id="message-517284578508013570">
                        <div class="chatlog__content">
                            <span class="markdown">got that working</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517284628776747019" id="message-517284628776747019">
                        <div class="chatlog__content">
                            <span class="markdown">only issue is it uses the system time</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517284669251780611" id="message-517284669251780611">
                        <div class="chatlog__content">
                            <span class="markdown">rather than me being able to pass a time in</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="517284709747785738" id="message-517284709747785738">
                        <div class="chatlog__content">
                            <span class="markdown">so hard to validate against accurately</span>

                        </div>



                    </div>
            </div>
        </div>
</div>

</body>
</html>
