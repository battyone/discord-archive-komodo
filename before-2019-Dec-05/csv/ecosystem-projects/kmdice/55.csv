AuthorID;Author;Date;Content;Attachments;Reactions;
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:41 AM";"if I fixed it right";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:41 AM";"so one of us needs to ignore the other's txs?";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:42 AM";"I can just reject all txs other than my own then eat up all the entropy";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:42 AM";"I changed it so that dicevalidate needs the entropy TX to be confirmed";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:42 AM";"rahter than unconnfirmed which tbh seems to make no sense and was alikely a mistake";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:42 AM";"Oh wait";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:42 AM";"you need to do that";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:42 AM";"reject all txs other than your own";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:42 AM";"it works 100% perectly fine";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:42 AM";"and place bets while I'm betting";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:43 AM";"I think if you just spam a bunch of bets it will be ok";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:43 AM";"this way we don't need to time it perfectly";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:43 AM";"shouldnt need perfect timeing";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:43 AM";"start your daemon with `-minrelaytxfee=1`";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:43 AM";"its reindexing";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:43 AM";"soon";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:43 AM";"then you can try bets while I'm eating up all the entropy?";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:44 AM";"as long as I cna see entropy txs... I can try and bet, but if you spent them already you will fork I think... or maybe not";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:44 AM";"tbh having entropy being able to be spent from empool seems stupid, so this should fix it for sure";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:45 AM";"along with blocknotify on dealer to keep it full";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:46 AM";"stated it with that parm";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:48 AM";"I cant send any txs with that lol";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:51 AM";"Down to 7 entropy now still working";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:52 AM";"lol
https://i.imgur.com/hYkagZw.png";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:52 AM";"I need a couple minutes";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:52 AM";"all good they seems to return after a block";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:56 AM";"@blackjok3r k, did you need something from me";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:56 AM";"just bet";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:56 AM";"send bets one after the other";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:57 AM";"entroy ran out and my node bailed, as I added check for under 2 entropy stop";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:58 AM";"not sure if i had time to try and spend an entropy";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 04:58 AM";"probably need to just keep doing it .";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 04:59 AM";"use all the entropy?";"";"";
"405011811511828481";"Alright#0419";"28-Oct-18 05:00 AM";"should i*";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 05:00 AM";"no";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 05:00 AM";"I dont think so at least";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 05:00 AM";"just bet normally";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:15 AM";"I cant know for sure, but since I made that change I have not been able to amke ti stall/fork";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:15 AM";"I also figured out how to get error message to return to JSON";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:15 AM";"But I will only do it for DICE CC, as its a lot of screwing around";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:44 AM";"https://i.imgur.com/Y4twzLF.png";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:45 AM";"@jl777c  PR ? 
I need more entropy and more people to bet at once to make sure this is working.";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:47 AM";"https://github.com/jl777/komodo/pull/918";"";"";
"242635006516658197";"jorian#4555";"28-Oct-18 06:49 AM";"I'm not around a lot today";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:50 AM";"sure no worries, I am jsut 99% sure this has fixed the problem and we need you to test it properly. there is enough entropy but timing it ishard";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:50 AM";"if you could add 100 more that would help";"";"";
"242635006516658197";"jorian#4555";"28-Oct-18 06:51 AM";"100 entropy TX?";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:51 AM";"yes pelase";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:51 AM";"you can set up the auto fill script later... if you dont ahve time but 100 will enable me to test the fork fix at least";"";"";
"242635006516658197";"jorian#4555";"28-Oct-18 06:52 AM";"ok doing now";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:52 AM";"thanks man, enjoy your sunday";"";"";
"242635006516658197";"jorian#4555";"28-Oct-18 06:52 AM";"what sizes?";"";"";
"242635006516658197";"jorian#4555";"28-Oct-18 06:52 AM";"hehe thanks";"";"";
"242635006516658197";"jorian#4555";"28-Oct-18 06:54 AM";"done, did different sizs";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 06:58 AM";"I really hope this worked man... It took a while";"";"";
"242635006516658197";"jorian#4555";"28-Oct-18 07:04 AM";"you guys talked a lot man";"";"";
"242635006516658197";"jorian#4555";"28-Oct-18 07:04 AM";"in this channel";"";"";
"242635006516658197";"jorian#4555";"28-Oct-18 07:04 AM";"hope it works";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 07:16 AM";"I am now able to bet massive loops without a fork or floods of errors";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 07:16 AM";"but until other people bet at the same time, I cant be 100%";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 07:41 AM";"I think its working, because now its getting mad at me on DiceFinish for `could not find bet or entropy tx` I assume this is from invalidating the mempool TX that was previously forking/stalling the chain.";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 07:41 AM";"will need some kind of error check in script for this I think";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 07:57 AM";"going to solve this by @ComputerGenie üë¥üèºüì¢'s suggestion and have dicestatus return `null` when a tx gets invalidated.";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 07:58 AM";"seems I have worked out how to return errors to JSON ... now I had a 1000 KMD bounty out for this ... guess I pay myself :trollface:";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:04 AM";"requiring entropy tx to be confirmed is a good fix! Seems the theory about mempool causing the local fork was indeed correct and a single addtional check would avoid this issue. great work!";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:05 AM";"only the entropytx is in a globally shared pool for all players";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:05 AM";"Yes it appears to work, I really need someon other people to spam bets a single node cant really cause the fork on its own.";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:05 AM";"there is plenty of entropy atm";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:05 AM";"there is no lock utxo globally rpc, would need a centralized node to even implement that";"";"üëå (1)";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:05 AM";"but by requiring entropy tx to be confirmed, the dicebet itself does not have to be confirmed as the other vins are not globally shared";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:06 AM";"yes dicebet is unconfirmed, entopy is confirmed... problem seems solved";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:06 AM";"so I missed a single additional constraint, sorry about that";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:06 AM";"I also fixed errors for dicestatus and dicebet";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:06 AM";"bugs happen";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:06 AM";"so the user has some feedback";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:06 AM";"especially when it is a complex realtime system on top of the complex blockchain/mempool system";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:07 AM";"yes layers of complexity .... I spent a while on this one... 90% of the time reading and thinking";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:07 AM";"i still feel that under load, there will still be a few more edge cases, but we should be good for a 10x increase in usage before we hit them";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:08 AM";"yes we need a few more people to stress it with me....";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:08 AM";"just testng latest error checks... then shoule be ok to merge";"";"";
"231533083818590211";"Oszy#5734";"28-Oct-18 09:08 AM";"I just fully resynced the chain to test it, and still getting ""bet still pending"" result. on the first try,and is there anything else i could do to make it work again?";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:09 AM";"should not.. I just did like 100 bets, 10 loops of 10 in paralell on 1 node 0 errors or failss";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:09 AM";"it can take a while";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:10 AM";"Ideally a good script should b used thta polls dice finish";"";"";
"231533083818590211";"Oszy#5734";"28-Oct-18 09:10 AM";"it looks like after fully syncing the sync is stopped at the last block and didn't move since";"";"";
"231533083818590211";"Oszy#5734";"28-Oct-18 09:11 AM";"""blocks"": 15282,
  ""longestchain"": 15289,";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:11 AM";"you need the newest build";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:11 AM";"with my fixes";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:11 AM";"I dont think its merged yet";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:13 AM";"";"https://cdn.discordapp.com/attachments/502423250421153802/506032694170222594/diceTEST";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:13 AM";"";"https://cdn.discordapp.com/attachments/502423250421153802/506032731747123201/multidice";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:14 AM";"those scripts are working for me very well on this branch:
https://github.com/blackjok3rtt/komodo/tree/FSM";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:17 AM";"i changed the min entropy needed to 10";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:18 AM";"2 is too low as 3 simultaneous bettors could end up choosing the same utxo. even though it should be cleanly handled now, the local bet will fail. much better to have the dealer node make sure there are 10+ entropy tx";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:18 AM";"yes 2 was mostly for my testing when total was 14";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:18 AM";"makes sense";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:18 AM";"the getblock funtion is not good code, but I wasnt able to call it";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:19 AM";"with a blocknotify setting the entropy tx to 100+number of bets that block, it should be able to handle growth of 100 bets per block";"";"";
"232679450301431808";"blackjok3r#3181";"28-Oct-18 09:20 AM";"yes, using dicestatus you cna check entropy on blocknotarify (it should be accurate excatly at this time) then create entropy to a threshold";"";"";
"455741312273219595";"jl777c#5810";"28-Oct-18 09:20 AM";"at validation time you are constrained in what you can do";"";"";
