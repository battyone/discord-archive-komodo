AuthorID;Author;Date;Content;Attachments;Reactions;
"412482228359266328";"CrisF#3405";"05-Mar-19 08:09 AM";"```graph the change in coinsupply over time between the chains in cluster``` This would be very cool!";"";"";
"448777271701143562";"smk762 -  dracocanis ominator#7640";"05-Mar-19 08:09 AM";"the oracle graph wouldnt be storing hashes for debug, but might indicate if/when something went wrong.";"";"";
"448777271701143562";"smk762 -  dracocanis ominator#7640";"05-Mar-19 08:10 AM";"I'll have a look tommorow when I have a spare moment or two and see what I can come up with.";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:10 AM";"just something to track supply... I think I can make the script more reliaable... although the easies tid to justs do 24H at a time, the restart it manually.";"";"";
"448777271701143562";"smk762 -  dracocanis ominator#7640";"05-Mar-19 08:12 AM";"I was thinking  hourly datapoints for each cc_id, with graph displaying last 24hrs";"";"üëç (1)";
"412482228359266328";"CrisF#3405";"05-Mar-19 08:14 AM";"Having tools like that that could be used as basic templates could prove very useful for new projects joining Labs.";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:16 AM";"@jl777c  thats not really possible to do, as the problem will only arise again, if a notarization on the target is lost, due to a reorg, and it not being mined again, which happens under Alrights stupid censorship attack which is a 150% attack effectivly...  I have already accounted for reorgs in MoM hash, range so that it will keep going back to the last notarized MoM height. Hoever the MoMoM itself can be seen, and then enable an import to happen, then be reorged out of the chain, making the chain not able to sync afterwards if the notarization with the matching MoMoM hash is lost. the only way to enforce the MoMoM is notarized into the chain, will be on the script/RPC side I think.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:22 AM";"that is why I said 2 notarizations. when 2 deep, it cant be reorged as the notarization itself is notarized";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:22 AM";"yes, on the script side";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:23 AM";"yes Im jsut dont know how to implement that. The fix I used was to just include notarizaed notarizations in the MoMoM hash calculation to make sure if it was lost it was then added again on the next round, combined with not letting iguana notarize a NULL MoMoM hash.";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:24 AM";"seems to work, however you cannot make iguana use notarized notarizations";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:24 AM";"otherwise if KMD notarizations stop for any reason, gaps happen";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:25 AM";"as long as gaps means it takes longer and not lost migrates";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:25 AM";"gaps means it totally breaks";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:25 AM";"the fix to stop gaps is just to keepo increasing the range used further and further back, but how far can you go before it gets very very slow.";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:26 AM";"or starts to confuse things .";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:26 AM";"ouch. can we have a fallback that is very very slow to be used only rarely where most of the time it uses the normal (fast) way";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:27 AM";"i just have this feeling we need to have more than a single way to validate things";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:27 AM";"not really.. unfortunatly... iguana side is fetching data form KMD, which is usually reliable and doest not suffer reorgs... however... by usiung notarized height you need to use a very large range of assetchain notarizations. My first idea was to have some cut off, if there was no notarization for X blocks, just let it notarize anyway.";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:28 AM";"having a way to undo the export if it fails import is the only way to amke it perfect under all conditions.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:28 AM";"yes, an undo!";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:29 AM";"if we can get it 99.9% reliable and then have an undo for the 0.1% case, that should be good";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:29 AM";"so we need to know for sure an import will fail and then use that as proof to get a refund (undo)";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:29 AM";"that is the best case, with the altest fix (and maybe increasing range 1 or 2 more nota) it would only fail under a severe attack or no KMD blocks happening for extreme amounts of time.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:30 AM";"what is ""extreme"" here?";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:30 AM";"one hour, one day";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:30 AM";"an hour or more where notarization are lost";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:30 AM";"hour... sometimes blocks can take a long time";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:30 AM";"the issue is lsot notarizations... not sure why it happens as they have no expiry but they seems to be able to be lost with heavy reorgs.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:31 AM";"ok, so under 150% attack, well all sorts of things can happen";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:31 AM";"A few people have reported the mempool not really propagating transactions for a while now.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:31 AM";"yes, that is another bug needs to be fixed";"";"";
"412482228359266328";"CrisF#3405";"05-Mar-19 08:31 AM";"Any way to detect those situations and somehow halt migrations?";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:31 AM";"yes.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:31 AM";"can you determine for sure if a migrate will fail?";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:31 AM";"on the RPC/script side you just ait for notarizations... issue only ahppens if already exported during the attackl.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:32 AM";"from the original chain side";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:32 AM";"doubtful";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:32 AM";"how to prevent a double refund, ie. they migrate and also refund";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:33 AM";"you need to verify the MoMoM hash has failed... maybe KMD could detect it somehow with some magical maths and its notarization DB.";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:33 AM";"but how then does KMD tell the source chain to refund?";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:33 AM";"current implemntation makes it very difficult to make an undo.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:34 AM";"the source chain would submit a refund tx that somehow needs to be verified as valid and not migrated";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:35 AM";"maybe some speical reverse migrate would be needed?";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:35 AM";"we might need an entirely new dataset for this...";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:36 AM";"We were just going to build into the bounty fund and claim for lsot migrates... but that only works for LABS.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:37 AM";"or... what if there was a special notary opreturn that marks a specific migrate as valid, regardess of MoMoM validation. it wouldnt have any effect if it was also validated as you can only use the burntxid once";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:38 AM";"so the MoMoM validation would check for a special notary approval. this punts the detection of failed migrates to the notaries, but at least there would be a way to handle the rare edge cases";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:38 AM";"seems better than refunding, which is quite difficult to do";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:38 AM";"that works, as its pretty much what we were going to do, but have the OPs manually check the migrate was invalid before paying out.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:39 AM";"it wouldnt have any effect if it was valid (needs to be tested) so there is no need to validate it. in fact, the notaries could just validate all the migrates they see and it wouldnt affect anything other than allow the edge cases to confirm";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:40 AM";"so all that needs to be done by notaries is to verify that it was a valid burn";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:44 AM";"ü§î  I wonder if its possible for notaries to check for missing MoMoM hash and just do an extra notarization containing it later on?";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:45 AM";"as long as its within 100 blocks, everything still works";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:45 AM";"Like they need to track X notarization txids, and if it is never confirmed, jsut make it again. Couldnt use the same tx as the inputs may have been spent, just use the same OP_RETURN";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:46 AM";"why is there a 100 blocks limit?";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:46 AM";"thats just how far it sledehammmer scans the notarizations DB for MoMoM hash";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:46 AM";"so it could be made a longer period?";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:47 AM";"it can be increased.... it was only put there for rare case of notarization confirmed out of order";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:47 AM";"only real downside to it, seems to be that it goes backwards then scan forwards, so it checks all the old incorrest not matchin MoMoM first...";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:47 AM";"well if the error can be automatically scanned for and corrected, that seems to solve the issue!";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:48 AM";"so an edge case detector that corrects things by resubmitting";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:48 AM";"I think it should only use this sledgehammer scan if the check for where the MoMoM is suppsoed to be fails.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:48 AM";"yes";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:48 AM";"then the scan can be 1000 blocks no problem even more";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:48 AM";"then it can be made a much bigger than 100 blocks window";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:48 AM";"ok, so how reliable can the edge case detector be?";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:48 AM";"Not 100% sure, but it would need to be in iguana";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:49 AM";"and can all notaries reach consensus about this";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:49 AM";"I would think so yes. Becaus they all have the same chain.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:49 AM";"so this is the solution.";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:49 AM";"all iguana needs to do, is spawn a thread that checks the last sent txid until the next notarization is confirmed.";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:50 AM";"once the txid is notarized...";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:50 AM";"then it kills the thread...";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:50 AM";"and if it doesnt, it adds to the list of edge cases";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:50 AM";"yes";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:50 AM";"so once per hour the edge cases can be dealt with";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:51 AM";"a list of edge cases is proposed, and if agreed to, the list is published onchain";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:51 AM";"not sure how hard that would be to implement, it sound simple enough... but it does require all notaries to create the same exact notarization again, but with new inputs.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:53 AM";"will be a bit tricky...";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:53 AM";"maybe the approval of a specific burn txid via oracles  will be easier to implement as it wont need much interaction between notaries, they can independently post agreement to the claim";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:54 AM";"and a CC would require M such approvals to import the burntxid without MoMoM";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:54 AM";"or...";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:54 AM";"I think we are overcomplicating things!";"";"üòÇ (1)";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:55 AM";"based on what you know, most of the time things should work pretty smoothly, right?";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:55 AM";"so we just need a way to solve the edge cases, which we assume will be rare";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:55 AM";"99.9999% I think. But I need plentyt of time and maybe some attacks to make sure.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:55 AM";"so why not to directly post a txproof for the burn txid";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:56 AM";"if M notaries sign a txproof for a specific chain/burntx, then it is usable as proof of burn in the importcoins.";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:56 AM";"just requires a bit of alternate validation code, but @dimxy is already doing very similar things";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:57 AM";"it just needs to set the same tombstone as the normal import process";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:58 AM";"then a double import cant be done. so all the notaries would need to do is post a txproof from the burn chain onto the import chain";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:58 AM";"does this need to be done for every burn though? That could be a LOT of extra tx...";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:58 AM";"or only if it fails?";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:58 AM";"lets say, the one who wants to import has to post the txproof. now we get a txproof txid and the notaries can just independently post approval";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:58 AM";"this is only on failures";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:58 AM";"the backup mechanism";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:59 AM";"in case of MoMoM failure";"";"";
"455741312273219595";"jl777c#5810";"05-Mar-19 08:59 AM";"just use a txproof for each tx";"";"";
"232679450301431808";"blackjok3r#3181";"05-Mar-19 08:59 AM";"ahh like a CC? independant of iguana?";"";"";
