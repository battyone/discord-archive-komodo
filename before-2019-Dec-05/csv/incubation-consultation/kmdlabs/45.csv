AuthorID;Author;Date;Content;Attachments;Reactions;
"232679450301431808";"blackjok3r#3181";"21-Oct-18 01:19 PM";"Now i need to make it accept more data than the single 8kb and split it internally.";"";"";
"232679450301431808";"blackjok3r#3181";"21-Oct-18 01:19 PM";"then create a way to extract data at deamon side.";"";"";
"405011811511828481";"Alright#0419";"21-Oct-18 04:04 PM";"@blackjok3r can we kill it";"";"";
"405011811511828481";"Alright#0419";"21-Oct-18 04:05 PM";"`  ""errors"": ""EXCEPTION: 13leveldb_error       \nDatabase I/O error       \nKomodo in ProcessMessages()       \n"",`";"";"";
"405011811511828481";"Alright#0419";"21-Oct-18 04:05 PM";"yay, good fun";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 03:16 AM";"Solved my issues with marketmaker ... it was default setting `sock` at `-1`  so no functions could return anything... how it worked at ll yesterday still has me very confused.";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 06:04 AM";"Getting close... I am 99% sure all my data is there, nothing is being missed. It has a sequence number from the exteral data feed, to allow for error check that the app sent in order, and another sequence ID in the blaster itself. I may add the blaster loops as an infinate loop... Call RPC on 7783 to activate blaster, then feed data in via 7782 RPC port.";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 06:42 AM";"Looks like I killed STKDTROLL while testing this, @Alright  maybe we should blow out S1 adn TROLL and replace them with 2 new chains of freq=15 to test MoMoM with almost 0 chance of notarisations collissions... seems like a good test to do, to point us in the right direction on how to fix it.";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 06:43 AM";"I wil need to move testing to local VMs on my PC to test the rest of this, so my VM is free to run some migrate scripts over a few days duration.";"";"";
"448777271701143562";"smk762 -  dracocanis ominator#7640";"22-Oct-18 09:45 AM";"k, I think I'm back to having some free time... 
you run ./start via cron yeah? whats a good interval?";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 10:59 AM";"you can but its not exactly tested";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:00 AM";"I just got this streamer chain running on 2 VMs on my RYZEN2700X is managing like 2MB of randomly generated data every few seconds, confirmed blocks. 😮";"";"🚀 (2)";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:02 AM";"nice! lets do a chain with an airdrop to KMD users to get instant large scale ownership";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:03 AM";"but talk to @Bitcoin Benny first, before launching the chain";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:03 AM";"Sill need a way of assembling the data at the other end but it seems trivial compared to what I had to solve so far";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:03 AM";"a generic realtime data broadcast is very good";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:03 AM";"different GUI can use different data/display";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:03 AM";"Just stick a function in connectblock that scans txid and seqid";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:05 AM";"it cannot use wallet ... as there is only 1 address that can send (unless they give coins to someone else ) it shouldnt really matter, as long as the op_return is txid and then an int32 ... it should be able to identify them ok.";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:05 AM";"this is the broadcast specific chain, which is the core functionality";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:05 AM";"but I imagine there is a ""main"" chain that is permanent that acts as the currency to spawn these broadcast chains";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:07 AM";"well yes ... I guess for notarisation, which is the real advantage here over another medium, it needs to cost something...";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:07 AM";"yes. something not unreasonable, but not free";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:08 AM";"that gives the main chain coin value and it can be what is atomic swapped, exchange traded, etc.";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:08 AM";"i think some sort of oracles CC based process would make it decentralized management of the broadcasting chains";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:09 AM";"staked can already do it kind of ... most of the stuff is alreeay existing there";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:09 AM";"chains can be posted to oracle and then added by notary automatically";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:10 AM";"so maybe STAKED morphs in to STREAM?";"";"";
"412482228359266328";"CrisF#3405";"22-Oct-18 11:10 AM";"`BlastStream`";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:13 AM";"Well... there is nothing stopping using the staked code to start another notary network ... we can have as many as we like";"";"";
"412482228359266328";"CrisF#3405";"22-Oct-18 11:13 AM";"STAKED could certainly have other products and services.";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:13 AM";"The only think required is a hash table for pubkeys";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:14 AM";"to make that easier to manage... and possibly some way to fetch them from the chin iteslf rther than hardcoded.";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:19 AM";"now you have learned DL_APPEND, you can use the uthash for hashtables most of the usage is the same, just a few differences";"";"👌 (1)";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:20 AM";"Well... it can ceritanly go too fast... now I need to figure out what its limits are ... as 2MB RPC chunks at once broke it in 15  curls 🤣";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:21 AM";"guess I need a limit on the size of the DL_APPEND ... if over some X count make it stop accepting RPC ..";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:21 AM";"marketmaker just instantly crashed with that much data being pushed in";"";"";
"371114647052615681";"Mylo#8306";"22-Oct-18 11:22 AM";"can you paste curl command and i can make the browser camera make ajax requests to it (at your end)";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:22 AM";"thats like HD video bandwidth though .. bit over the top ... I cant beleive just how fast this ryzen cpu is comapred to anthing else ive been suing to dev on... crazy.";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:23 AM";"``` curl -s --url ""http://127.0.0.1:7782"" --data ""{\""userpass\"":\""1d8b27b21efabcd96571cd56f91a40fb9aa4cc623d273c63bf9223dc6f8cd81f\"",\""method\"":\""streamerqadd\"",\""data\"":\""$hex2\"",\""seqid\"":$i}""```";"";"🙏 (1)";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:23 AM";"make sure you free all the memory blocks after processing";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:23 AM";"the DL_DELETE does not free memory";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:23 AM";"you free the pointer called tmp  right ?";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:24 AM";"```  struct datachunk *chk,*tmp, *tmp2;
  int count = 0;
  static int32_t sequencenum;
  DL_COUNT(streamq,tmp2,count)
  if ( count != 0) {
      DL_FOREACH_SAFE(streamq,chk,tmp) {
      data = malloc(chk->datalen*2 + 1);
      init_hexbytes_noT(data,chk->data,chk->datalen);
      DL_DELETE(streamq,chk);
      free(chk);
      break;
    }```";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:26 AM";"eventually data needs to be freed too";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:27 AM";"and if chk->data is a pointer that was allocated, that needs to be freed. if it is an array of fixed size then freeing chk frees it";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:27 AM";"what is the struct datachunk look like?";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:31 AM";"`struct datachunk { struct datachunk *next,*prev; uint8_t data[8095]; uint16_t datalen; };`";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:31 AM";"8095?";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:32 AM";"yes";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:32 AM";"8192 is power of 2";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:32 AM";"the txid and the seq number is added afterwards";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:32 AM";"I spent a while, y rial and error to get the exact maximum size allowed";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:32 AM";"ok, so it adds up to 8192?";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:32 AM";"not exactly";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:33 AM";"i guess it is needed to be matched up to opreturn";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:33 AM";"8132";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:33 AM";"but best to not have it odd";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:33 AM";"is what marketmaker takes as max";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:33 AM";"that causes memory alignment issues and can slow things down a lot in some cases";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:33 AM";"but it has tpo be under that, so it comes out as 8131";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:33 AM";"i have even seen some primitive OS crash with misalinged";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:34 AM";"with txid and seqid added it is 8131 .. should I reduce it a litle to make it even ?";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:34 AM";"it works ok with 200kb sent in RPC at once, but at 2MB it crashed after 15 calls.";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:35 AM";"the balster appears to keep up with nearly any amount ot data sent .. it receives it, splits inot chunks and adds to queue ... lots of tricky loops";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:35 AM";"took a while to work out";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:37 AM";"struct datachunk *next,*prev; uint8_t data[8095]; uint16_t datalen;";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:37 AM";"what i dont like is datalen is on an odd boundary";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:37 AM";"ok will reduce it by 1 .. shouldnt make mush difrence as long as I do all the numbers";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:37 AM";"and the entire structure is odd size, not a multiple of 8";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:38 AM";"make all structure sizes divisible by 8 and all non-byte items aligned to its size boundary and you will avoid a lot of very difficult to track down bugs";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:39 AM";"ignore this advice and you will waste hours chasing misalinged memory problems. I wasted plenty of hours on such so no sense for you to do the same";"";"👍 (1)";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:39 AM";"just make sure all 2 byte things are at even offsets";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:39 AM";"4 byte things at offsets evenly divisible by 4";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:39 AM";"and 8 byte and bigger on offsets divisible by 8";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:40 AM";"make the total struct size (verified by printing sizeof(struct xxx)) to be a multiple of 8 or even 16";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:40 AM";"add padding bytes if needed";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:40 AM";"no worries, shouldnt be too hard to change it, I have a feeling its only the max sizes in the loops, the rest just counts incrementally...";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 11:41 AM";"was a lot of trial and error to get the data to split up, as 8kb rpc calls were totally usless, normal TX would be faster in that case.";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 02:49 PM";"https://i.imgur.com/Zp3aJFu.png";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 02:49 PM";"That is some serious speed";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 02:50 PM";"2MB blocks every 5-10s 😮";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 02:50 PM";"nice!!";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 02:52 PM";"yes the longest chain sleep of 3s was slowing it down a lot... commetned out.. seems unneeded for this chain.. will need to add exception or try to find under what conditions  its losing longest chain.";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 02:52 PM";"At a guess its producing blocks faster than the other node can receive, even though they are on the same computer 😂";"";"";
"232679450301431808";"blackjok3r#3181";"22-Oct-18 02:53 PM";"I put it mostly down to the system I am using, it was LOTS slower on my 10 year old server.";"";"";
"405011811511828481";"Alright#0419";"22-Oct-18 03:07 PM";"@jl777c `but I imagine there is a ""main"" chain that is permanent that acts as the currency to spawn these broadcast chains` this is pretty much STAKED set out to accomplish in the first place";"";"";
"405011811511828481";"Alright#0419";"22-Oct-18 03:07 PM";"can be for anything though really, broadcast chain will just be another option";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 03:10 PM";"people seem to like single purpose chains. STAKED seems too complex to explain";"";"";
"405011811511828481";"Alright#0419";"22-Oct-18 03:16 PM";"I don't like all these single purpose chains 😅";"";"";
"405011811511828481";"Alright#0419";"22-Oct-18 03:16 PM";"Why have a chain for each contract if all these contracts will be on KMD eventually";"";"";
"405011811511828481";"Alright#0419";"22-Oct-18 03:17 PM";"I get that they are finding bugs and such in the contracts, but why have 10 chains that each do their own thing when KMD will be able to do those 10 things within a couple of months?";"";"";
"405011811511828481";"Alright#0419";"22-Oct-18 03:21 PM";"is KMD going to do something similar to STAKED? Fungible chains for new contracts?";"";"";
"405011811511828481";"Alright#0419";"22-Oct-18 03:22 PM";"so KMD doesn't have to hard fork for new contracts, just add a chain to the cluster instead";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 03:24 PM";"maybe KMD wont need to enable CC";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 03:24 PM";"not sure yet the plan";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 03:24 PM";"I like the single purpose chains. it pushes in a single direction, forcing things to be found and fixed as needed";"";"";
"405011811511828481";"Alright#0419";"22-Oct-18 03:25 PM";"STAKED is doing single purpose chains, but they are all linked";"";"";
"405011811511828481";"Alright#0419";"22-Oct-18 03:25 PM";"all STAKED chains and fungible with each other";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 03:25 PM";"ok, when MoMoM is solid, it can be a swiss army knife, but it has a single trust point for now doesnt it?";"";"";
