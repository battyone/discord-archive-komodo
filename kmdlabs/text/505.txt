==============================================================
Guild: Komodo
Channel: kmdlabs
Topic: Please read pinned messages
Messages: 100
Range: 
==============================================================

[30-Oct-19 05:11 PM] Bar_F1sh_Rel#0834
Either stop both or neither

[30-Oct-19 05:12 PM] ComputerGenie 游놊游낖游닉#7004
`Staked and mined should be the same rules`
they do, and there's a reason that, during a hf, responsible pool ops are watching exactly what is going on (and why we don't have 18 pools)

[30-Oct-19 05:14 PM] Bar_F1sh_Rel#0834
I get that - but we can't be sure to tell everyone who is staking to stop every two months. That shit needs to be in the code if it's a problem - just saying (I'll be stopping anyway if it's required)

[30-Oct-19 05:16 PM] bamby#5307
i need info about CFEK coin. wallet?

[30-Oct-19 05:16 PM] ComputerGenie 游놊游낖游닉#7004
` That shit needs to be in the code`
If you can write an automated way to determine which of the forks to follow (2 or more) when they are legitimately valid by either/both consensus code, then what you write would be extremely helpful and likely pay you very well (this isn't just a theory issue, we've had this issue on actual chains before)

[30-Oct-19 05:17 PM] Oszy#5734
@bamby CLI. what do you want to do with CFEK? It's a test chain only.

[30-Oct-19 05:18 PM] Bar_F1sh_Rel#0834
But staking in this case isn't needed to cross the fork - pools can do that. So a pause is what is being done manually.

[30-Oct-19 05:18 PM] bamby#5307
i want to mine it

[30-Oct-19 05:19 PM] ComputerGenie 游놊游낖游닉#7004
@Bar_F1sh_Rel The main issue is warning of "basic" users that will have major issues correcting their nodes/wallets.

[30-Oct-19 05:20 PM] Bar_F1sh_Rel#0834
They are also the users least likely to be aware of the fork (set and forget)

[30-Oct-19 05:21 PM] ComputerGenie 游놊游낖游닉#7004
> If a beginner stops before the hardfork then they can easily start again
> If a beginner stakes through the hardfork and gets on a stuck fork then they cannot easily start again

[30-Oct-19 05:21 PM] ComputerGenie 游놊游낖游닉#7004
it's really that simple

[30-Oct-19 05:22 PM] Bar_F1sh_Rel#0834
I'm only playing devil's advocate here - we are small enough at the moment.

[30-Oct-19 05:22 PM] ComputerGenie 游놊游낖游닉#7004
and I say "they cannot easily start again" because I've sadly watched seasoned Komodo NNs get metally confused about how to do it 游뱑游낗

[30-Oct-19 05:24 PM] Bar_F1sh_Rel#0834
Pools we can control, those few are here.  More solo stakers exist and IF we can make it less likely, they will not complain

[30-Oct-19 05:24 PM] ComputerGenie 游놊游낖游닉#7004
`I'm only playing devil's advocate here - we are small enough at the moment.`
Which is all the more reason to get in the habit of getting novice users to get in the habit of not making life more difficult for themselves

[30-Oct-19 05:26 PM] ComputerGenie 游놊游낖游닉#7004
`and IF we can make it less likely...`
Then you're doing better than me, because I haven't sorted out how to make code make a human input consensus judgement call (which is what is required to determine the "right"/"real" fork if one occurs)

[30-Oct-19 05:27 PM] ComputerGenie 游놊游낖游닉#7004
it's an easy call if neither are notarized, but if notarized both ways, then humans must decide

[30-Oct-19 05:28 PM] Bar_F1sh_Rel#0834
As LABS is pow/pos do we NEED pos weight during the fork?
GTG - commute calls.

[30-Oct-19 05:30 PM] Bernz - Selling LABS#9130
For those who care, Graviex LABS/KMD orderbook was wiped and all orders need to be placed again, LABS/BTC unaffected.

[30-Oct-19 05:32 PM] ComputerGenie 游놊游낖游닉#7004
`do we NEED pos weight during the fork?`
tbh, that depends on where in the math the hardfork starts and how much hash is on the PoW side (if no PoS and hash stops it could stall, if no PoS and hash goes up it could stall)
As I said, no one is saying:
"no one stake during time period x"
 (in fact, if everyone stopped staking totally, then it's possible that the next block wouldn't come between now and the next hf),
just saying:
"if you're not comfortable with doing certain things manually, then it's best if you stop for a little while to ensure you don't have issues"

[30-Oct-19 08:58 PM] ComputerGenie 游놊游낖游닉#7004
_wonders who was dropping 50k sols on CFEKAPOW and why_

[30-Oct-19 09:01 PM] Oszy#5734
probably bamby and I asked him the same question

[30-Oct-19 09:01 PM] Oszy#5734
so apow did it's job at least? 游땏

[30-Oct-19 09:02 PM] ComputerGenie 游놊游낖游닉#7004
it does the job of making chains less stallable,yes

[30-Oct-19 09:02 PM] ComputerGenie 游놊游낖游닉#7004
游밿

[30-Oct-19 10:16 PM] daemonfox#6136
is the KMDLABS current version value not something that can be passed in the block submission portion of the  consensus code? That would take care of outdated nodes getting blocks past notary would it not... add a check of that value, which would be called from the daemon itself to report? IS THERE a current version or similar type call in KMD?

[30-Oct-19 10:17 PM] daemonfox#6136
Then, only one chain could remain, allowing consensus to work out the single chain and deny the early possible duplicate notarizations.

[30-Oct-19 10:18 PM] daemonfox#6136
Maybe as simple as the hash of the current master branch height published?

[30-Oct-19 10:21 PM] ComputerGenie 游놊游낖游닉#7004
the main "problem" comes when the notaries don't agree
if we notarize 2 forks, then the nodes cannot roll back to the split block without intervention (because dPoW)

[30-Oct-19 10:22 PM] Oszy#5734
how could be 2 forks notarized if all the NN's are switched to the real fork? who would notarize the wrong fork?

[30-Oct-19 10:23 PM] Oszy#5734
thought this was about normal users still staking on the old chain?

[30-Oct-19 10:23 PM] phm87#7395
I git pull update and it worked well in one folder. I did it in another folder and it failed, I don't understand why
```mv -f src/.deps/libsecp256k1_la-secp256k1.Tpo src/.deps/libsecp256k1_la-secp256k1.Plo
/bin/bash ./libtool  --tag=CC   --mode=link gcc -m64  -pipe -O1  -W -std=c89 -pedantic -Wall -Wextra -Wcast-align -Wnested-externs -Wshadow -Wstrict-prototypes -Wno-unused-function -Wno-long-long -Wno-overlength-strings -fvisibility=hidden -O3  -L/home/wallets/sources/kmdlabs2/kmdlabs/depends/x86_64-unknown-linux-gnu/share/../lib  -o libsecp256k1.la -rpath /usr/local/lib src/libsecp256k1_la-secp256k1.lo
libtool: link: ar cru .libs/libsecp256k1.a  src/libsecp256k1_la-secp256k1.o
ar: `u' modifier ignored since `D' is the default (see `U')
libtool: link: ranlib .libs/libsecp256k1.a
libtool: link: ( cd ".libs" && rm -f "libsecp256k1.la" && ln -s "../libsecp256k1.la" "libsecp256k1.la" )
make[3]: Leaving directory '/home/wallets/sources/kmdlabs2/kmdlabs/src/secp256k1'
mv -f zcash/.deps/libzcash_a-JoinSplit.Tpo zcash/.deps/libzcash_a-JoinSplit.Po
make[2]: Leaving directory '/home/wallets/sources/kmdlabs2/kmdlabs/src'
Makefile:5115: recipe for target 'all-recursive' failed
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory '/home/wallets/sources/kmdlabs2/kmdlabs/src'
Makefile:659: recipe for target 'all-recursive' failed
make: *** [all-recursive] Error 1``` I don't need a fix because I obtained a binary when I compiled in first folder. As I am curious, I'd know to understand why I had this error

[30-Oct-19 10:23 PM] Oszy#5734
@phm87 how much memory you got

[30-Oct-19 10:24 PM] ComputerGenie 游놊游낖游닉#7004
`how could be 2 forks notarized if all the NN's are switched to the real fork? who would notarize the wrong fork?
`
It shouldn't, but sometimes folks running NNs don't update when they should and/or things happen

[30-Oct-19 10:24 PM] phm87#7395

{Attachments}
https://cdn.discordapp.com/attachments/497080413387489291/639228212668399656/unknown.png

[30-Oct-19 10:25 PM] Oszy#5734
ok, so in theory, if all the NN's are switched, there won't be any harm for normal Joe still running his stake node

[30-Oct-19 10:25 PM] Oszy#5734
@phm87 ok it's more than i expected, last i saw that error it was ram issue 游땏

[30-Oct-19 10:25 PM] ComputerGenie 游놊游낖游닉#7004
if all transitions smoothly, that's correct

[30-Oct-19 10:26 PM] Oszy#5734
well let's hope everyone is prepared as it should be

[30-Oct-19 10:26 PM] Oszy#5734
becuase it's more likely we are going to have people still staking tomorrow who don't even know about the fork

[30-Oct-19 10:27 PM] ComputerGenie 游놊游낖游닉#7004
I've seen a thunderstorm on one mining node cause a dual notarized fork before (no matter how much alright swears it couldn't have happened that way)

[30-Oct-19 10:28 PM] ComputerGenie 游놊游낖游닉#7004
most likely, nothing "bad" will go wrong
the only real "issue" to contend with is the folks that don't know/understand how to issue cli commands and supporting those folks through such a task **if** something goes wrong

[30-Oct-19 10:29 PM] Oszy#5734
absolutely right, so let's not fek it up on our side at least

[30-Oct-19 10:31 PM] ComputerGenie 游놊游낖游닉#7004
@phm87 as near as I can tell, the actual error is higher up in the log and not shown in the bit you pasted

[30-Oct-19 10:31 PM] daemonfox#6136
AGAMA and KomodoOcean users should be ok in theory until this HF is in KMD master and compiled in those offerings... is that a correct statement should there be questions?

[30-Oct-19 10:32 PM] ComputerGenie 游놊游낖游닉#7004
basically that, yes

{Reactions}
游녨 

[30-Oct-19 10:32 PM] ComputerGenie 游놊游낖游닉#7004
Since Agama is now a VRSC thing, lord only knows when that will happen, though 游땥

[30-Oct-19 10:33 PM] daemonfox#6136
should be automatic no? merge to KMD master... next time they pull it would build regardless

[30-Oct-19 10:33 PM] daemonfox#6136
IDK when a new build will be anytime soon

[30-Oct-19 10:34 PM] daemonfox#6136
the merge mining code is fun though...

[30-Oct-19 10:35 PM] ComputerGenie 游놊游낖游닉#7004
VRSC master isn't KMD master and VRSC binaries in Agama come out on whatever schedule VRSC folks fit VRSC updates in

[30-Oct-19 10:36 PM] daemonfox#6136
so they pick if they pull latest KMD at this point

[30-Oct-19 10:36 PM] daemonfox#6136
makes sense

[30-Oct-19 10:37 PM] daemonfox#6136
Mike can decouple certain things and still take KMD development upstream later

[30-Oct-19 10:37 PM] ComputerGenie 游놊游낖游닉#7004
Since Labs isn't "KMD" (but rather "non-important additional file[s]"), it's possible (likely or not) that they may not care about what we want/need

[30-Oct-19 10:38 PM] ComputerGenie 游놊游낖游닉#7004
I haven't looked at the VRSC source in a loooooooooong time, so I'm not sure to say one way or the other 游뱡游낗

[30-Oct-19 10:39 PM] ComputerGenie 游놊游낖游닉#7004
yes, it "should" be relatively close with a pull, though

[30-Oct-19 10:40 PM] daemonfox#6136
The merge mining code has potential and some interesting use cases I want to play with one of these days...

[30-Oct-19 10:40 PM] daemonfox#6136
In my thouhgt up ERP, a sngle hash to solve every chain blcok at once to push all the entry data around on a UI click is attractive

[30-Oct-19 10:44 PM] daemonfox#6136
I even thought of an interesting consensus model to apply...

[30-Oct-19 10:45 PM] daemonfox#6136
PoP Proof of Purchase... where only a fully populated data set of the sale and the properly hashed signed message accompanying it can request and submit an on demand block for data entry

[30-Oct-19 10:46 PM] daemonfox#6136
and only a white list of pubkeys are allowed to sign those messages, but many data entry submission points could feed a single NN.... with nSPV style functionality and white lists

[30-Oct-19 10:47 PM] daemonfox#6136
I know its a wall of text... but i feel like all the foundation pieces are here now in LABS... and on their own seem to work...

[30-Oct-19 10:47 PM] daemonfox#6136
Jigsaw puzzle time

[30-Oct-19 10:48 PM] ComputerGenie 游놊游낖游닉#7004
There's lots of interesting ideas that can be managed with what exists, what is coming soon, and what can be created from there

[30-Oct-19 10:49 PM] daemonfox#6136
Funniest thing is...

[30-Oct-19 10:50 PM] daemonfox#6136
The above wouldnt just be a decent reward at the end... not even a decent product to start showcasing what KMD and LABS can do...

[30-Oct-19 10:50 PM] daemonfox#6136
Im watching this $9B USD annual retail  chain i work for bleed MILLIONS trying to solve for scalable ERP that just works end to end

[30-Oct-19 10:51 PM] daemonfox#6136
and im staring at it

[31-Oct-19 04:21 AM] TonyL#3577
Hmm, started to get such `chain tip changed during staking loop t.1572495462 counter.0` prints on staking node and no blocks mined for a last 12 hours or so

[31-Oct-19 04:22 AM] TonyL#3577
```git log -1
commit 004f810ab7b928b3435938bf8105fa0f1dc197a6 (HEAD -> master, origin/master, origin/HEAD)
Merge: d343bdfe7 deb873b76
Author: blackjok3r <blackjok3r@gmail.com>
Date:   Wed Oct 30 23:45:26 2019 +0800

    Merge branch 'master' of https://github.com/KMDLabs/komodo
```

[31-Oct-19 06:34 AM] Bar_F1sh_Rel#0834
I am also getting the chain tip prints, but have staked blocks in the last 3 hours.

[31-Oct-19 06:55 AM] Alright#0419
@ComputerGenie 游놊游낖游닉 last time I used it, VRSC Agama had bundled binaries for both their repos and the komodoplatform repo

{Reactions}
游뱂 

[31-Oct-19 06:56 AM] Alright#0419
@TonyL `chain tip changed during staking loop t.1572495462 counter.0` this just means that a block came in while you were staking

[31-Oct-19 06:57 AM] TonyL#3577
Yeah, I was just unlucky I wonder because just hit few blocks

[31-Oct-19 06:59 AM] Alright#0419
dedicate a CPU core to the daemon, will stake better 游땲

[31-Oct-19 07:15 AM] Alright#0419
basically there is an issue we're working on fixing, but as it stands now, pos64 does require a tiny tiny(the tiniest) amount of POW, so a better CPU will benefit you slightly

[31-Oct-19 07:16 AM] Alright#0419
1.selects UTXO 2.begins POW 3.broadcasts

if you actually look at it, you'll see that you lose a few blocks between 2 and 3 because your node didn't do the min diff POW quick enough

[31-Oct-19 10:51 AM] ComputerGenie 游놊游낖游닉#7004
`pos64 does require a tiny tiny(the tiniest) amount of POW`
PoS always has 游땥

[31-Oct-19 10:53 AM] Alright#0419
I'm not familiar with any other POS implementations other than verus, but they have solved it pretty well

[31-Oct-19 10:53 AM] Alright#0419
they lowered the mindiff

[31-Oct-19 10:54 AM] Alright#0419
which is what we'd like to do, but it's very complicated with equihash

[31-Oct-19 10:54 AM] Alright#0419
basically, POS POW would need to be 96,5

[31-Oct-19 10:55 AM] Alright#0419
to give some perspective, SHo and I did some tests. New chain, same exact utxo distribution, his alien server vs my $20/month VPS. ~40% difference in staking rewards

[31-Oct-19 10:56 AM] Alright#0419
considering his server is probably >$25k, it's an extreme comparison

[31-Oct-19 10:56 AM] ComputerGenie 游놊游낖游닉#7004
in essence PoS (in every form I've seen it in) is/was:
some coin is required (and there are some rules which go with it)
you create a PoW block at low diff which includes a transaction that spends that coin

[31-Oct-19 10:57 AM] Alright#0419
I know that some POS implementations work just fine on shitty arm machines, so some other POS implementations must not have the same issue

[31-Oct-19 10:58 AM] Alright#0419
watch your debug.log as you're staking 
if you see this 
`2019-10-31 10:57:32 Running KomodoMiner.tromp with 2 transactions in block (491 bytes)`
then didn't mine the block, it means a faster CPU possibly could have

[31-Oct-19 10:58 AM] Alright#0419
that means it has an eligible utxo and is doing the POW for it

[31-Oct-19 10:59 AM] Alright#0419
have been trying to put a GPU on my staking node for this to gather data, not nearly as simple as I thought it would be

[31-Oct-19 11:01 AM] ComputerGenie 游놊游낖游닉#7004
You'll have to dig a little deeper in the code to get the GPU to pass the validation, iirc

[31-Oct-19 11:02 AM] ComputerGenie 游놊游낖游닉#7004
it likely creates the block with too high of a diff, rendering it seen as PoW

[31-Oct-19 11:04 AM] Alright#0419
problem was that I couldn't tell the stratum when to mine and not mine properly

[31-Oct-19 11:04 AM] Alright#0419
tries to mine with ineligible utxos

[31-Oct-19 11:14 AM] ComputerGenie 游놊游낖游닉#7004
you need to blame/history backwards through gbt to when it would give the PoS template and use that

[31-Oct-19 11:18 AM] Alright#0419
yea tried 游땲

[31-Oct-19 11:18 AM] Alright#0419
go for it, let me know how it goes 游뱎

[31-Oct-19 11:19 AM] ComputerGenie 游놊游낖游닉#7004
and what part of you believes that if I came up with a "cheat" for PoS that I'd share? 游뱂

[31-Oct-19 11:21 AM] ComputerGenie 游놊游낖游닉#7004
_wanders off to go for a jog or run or wtfever will lower his pressure ...._

