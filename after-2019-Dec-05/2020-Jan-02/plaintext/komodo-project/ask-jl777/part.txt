==============================================================
Guild: Komodo
Channel: ask-jl777
Topic: Ask questions about the core tech here, but not questions about prices or personal questions or GUI and  please don't DM JL777.
https://dexstats.info/richlistlookup.php?address=RLVzC4tr9cNKvuw2z4m8KuMfZURwCehx55
https://medium.com/@jameslee777
After: 01-Jan-20 12:00 AM
Before: 02-Jan-20 12:00 AM
==============================================================

[01-Jan-20 08:15 PM] jl777c#5810
about 300 per second from one node

[01-Jan-20 08:16 PM] jl777c#5810
hopefully it scales linearly. start running the blaster on more nodes

[01-Jan-20 08:16 PM] jl777c#5810
make sure after each 5 or so, what the tx/sec is

[01-Jan-20 08:17 PM] jl777c#5810
things go by so fast, until all the blasters are stopped you cant verify the checksum is the same on all nodes, but you can see the totals are increasing approx the same on all nodes

[01-Jan-20 08:21 PM] SHossain#0007
started 2nd blaster
```
DEXpurge.1292 for t.1577906492 -> n.0, total.73738 e755d948 R.73738 S.1025571 A.73738 duplicates.0 | L.147363 A.73625 coll.54 
DEXpurge.1294 for t.1577906494 -> n.0, total.74424 58c98657 R.74424 S.1033986 A.74424 duplicates.0 | L.148734 A.74310 coll.54 
DEXpurge.1296 for t.1577906496 -> n.0, total.75105 ab85bad1 R.75105 S.1043930 A.75105 duplicates.0 | L.150101 A.74996 coll.54 
DEXpurge.1297 for t.1577906497 -> n.0, total.75277 c1dbe603 R.75277 S.1051870 A.75277 duplicates.0 | L.150437 A.75160 coll.54 
DEXpurge.1298 for t.1577906498 -> n.0, total.75795 821a9e0e R.75795 S.1055334 A.75795 duplicates.0 | L.151472 A.75677 coll.54 
DEXpurge.1300 for t.1577906500 -> n.0, total.76473 b654baa9 R.76473 S.1063798 A.76473 duplicates.0 | L.152827 A.76354 coll.56 
DEXpurge.1302 for t.1577906502 -> n.0, total.77158 975fcd0c R.77158 S.1073637 A.77158 duplicates.0 | L.154196 A.77038 coll.56 
DEXpurge.1304 for t.1577906504 -> n.0, total.77778 a291194d R.77778 S.1083570 A.77778 duplicates.0 | L.155496 A.77718 coll.56
```

[01-Jan-20 08:21 PM] SHossain#0007
total/s increased

[01-Jan-20 08:21 PM] SHossain#0007
almost 700/s

[01-Jan-20 08:22 PM] jl777c#5810
actually only about half

[01-Jan-20 08:23 PM] jl777c#5810
not every second is printed and you probably need to look at 10+ seconds apart

[01-Jan-20 08:23 PM] SHossain#0007
i'm watching single stdout now

[01-Jan-20 08:24 PM] jl777c#5810
77778 - 73738 = 4040 in 12 seconds, so only 336 tx/sec

[01-Jan-20 08:24 PM] jl777c#5810
it seems it will be hard to get to 8000 tx/sec

[01-Jan-20 08:24 PM] SHossain#0007
i see

[01-Jan-20 08:25 PM] jl777c#5810
i guess i need to add support for more than 64 peers. let me do that, i can brute force it

[01-Jan-20 08:26 PM] SHossain#0007
shall i stop blasting?

[01-Jan-20 08:27 PM] SHossain#0007
```
DEXpurge.1659 for t.1577906859 -> n.0, total.252611 b3e001bf R.117962 S.6932071 A.252615 duplicates.0 | L.277285 A.118666 coll.210 
DEXpurge.1660 for t.1577906860 -> n.0, total.253203 a3f5e154 R.118376 S.6951821 A.253207 duplicates.0 | L.280283 A.119736 coll.214 
DEXpurge.1661 for t.1577906861 -> n.0, total.254103 ec69ef01 R.119096 S.6971540 A.254106 duplicates.0 | L.282293 A.120119 coll.216 
DEXpurge.1662 for t.1577906862 -> n.0, total.254900 2b9cb408 R.119713 S.6991439 A.254904 duplicates.0 | L.282910 A.120119 coll.216 
DEXpurge.1663 for t.1577906863 -> n.0, total.255570 3fd1328a R.120202 S.7010925 A.255574 duplicates.0 | L.285403 A.121201 coll.222 
DEXpurge.1664 for t.1577906864 -> n.0, total.256351 240b12a4 R.120800 S.7030595 A.256354 duplicates.0 | L.286001 A.121201 coll.223 
DEXpurge.1665 for t.1577906865 -> n.0, total.256977 7c38556b R.121243 S.7049139 A.256981 duplicates.0 | L.288420 A.122264 coll.225 
DEXpurge.1666 for t.1577906866 -> n.0, total.257778 50af24ce R.121866 S.7068157 A.257781 duplicates.0 | L.289043 A.122264 coll.225 
DEXpurge.1667 for t.1577906867 -> n.0, total.258378 f5a6eec3 R.122288 S.7087685 A.258382 duplicates.0 | L.291590 A.123455 coll.225 
DEXpurge.1668 for t.1577906868 -> n.0, total.259247 86056e7c R.122974 S.7106510 A.259250 duplicates.0 | L.293920 A.124097 coll.228 
DEXpurge.1669 for t.1577906869 -> n.0, total.259855 06e0a8e4 R.123403 S.7126250 A.259859 duplicates.0 | L.294349 A.124097 coll.228 
DEXpurge.1670 for t.1577906870 -> n.0, total.260695 7d1ab27c R.124063 S.7146305 A.260698 duplicates.0 | L.296002 A.124501 coll.232 
DEXpurge.1671 for t.1577906871 -> n.0, total.261381 66cb2beb R.124570 S.7165652 A.261384 duplicates.0 | L.298977 A.125937 coll.242 
DEXpurge.1672 for t.1577906872 -> n.0, total.262132 981a7ac9 R.125139 S.7185400 A.262135 duplicates.0 | L.301870 A.127005 coll.251 
```

[01-Jan-20 08:27 PM] SHossain#0007
this is with 5 nodes blasting

[01-Jan-20 08:27 PM] jl777c#5810
blast on all nodes and see how high the tx/sec goes

[01-Jan-20 08:28 PM] SHossain#0007
i've to manually copy the script and start blasting. will take some time. but will do it

[01-Jan-20 08:28 PM] SHossain#0007
with 5 blaster CPU usage at 25% on the 56 thread server and about 10GB RAM usage

[01-Jan-20 08:30 PM] jl777c#5810
25% of all CPU is already in use? or 25% of one of the 56 cores

[01-Jan-20 08:30 PM] SHossain#0007
25% of all CPU already in use

[01-Jan-20 08:31 PM] jl777c#5810
might need more servers

[01-Jan-20 08:31 PM] jl777c#5810
latest version supports up to 256 peers, but it seems we will get saturated at about 20 peers

[01-Jan-20 08:32 PM] jl777c#5810
oh, latest version is much less bandwidth usage too

[01-Jan-20 08:32 PM] jl777c#5810
you should check the bandwidth usage

[01-Jan-20 08:32 PM] jl777c#5810
everything seems to be working for you as well as it does for me

[01-Jan-20 08:33 PM] jl777c#5810
there is the crash on the blaster node i need a backtrace to know for sure how to fix and the memleak

[01-Jan-20 08:34 PM] SHossain#0007
which app you used to check bandwidth usage?

[01-Jan-20 08:34 PM] jl777c#5810
bmon

[01-Jan-20 08:34 PM] jl777c#5810
but there are many ways

[01-Jan-20 08:34 PM] SHossain#0007
i want to check with the 5 blaster now and can start the next 5 (scripts are ready for that)

[01-Jan-20 08:35 PM] jl777c#5810
maybe all bandwidth for all the nodes are combined, so need to divide by number of nodes

[01-Jan-20 08:36 PM] jl777c#5810
depends on what the bmon is counting, actual hardware bandwidth

[01-Jan-20 08:36 PM] SHossain#0007
both hardware is not being used for anything else except for this test now

[01-Jan-20 08:38 PM] SHossain#0007
interesting output
```
DEXpurge.2324 for t.1577907524 -> n.0, total.814404 b6006de2 R.558355 S.16442009 A.814400 duplicates.0 | L.19921987 A.1648192 coll.1061446 
reject packet with too big lag t.1577910978 vs now.1577911055 lag.77
DEXpurge.2325 for t.1577907525 -> n.0, total.814974 6c44d70d R.558741 S.16461690 A.814970 duplicates.0 | L.19955516 A.1650615 coll.1063314 
```

[01-Jan-20 08:44 PM] jl777c#5810
yes, there is a strict time limit for packets to arrive. if they are late, they are rejected

[01-Jan-20 08:44 PM] jl777c#5810
so we get some small percentage of packets dropped this way

[01-Jan-20 09:00 PM] SHossain#0007
```
DEXpurge.3596 for t.1577908796 -> n.0, total.2004164 0287d442 R.2004164 S.22776202 A.2004164 duplicates.0 | L.3995010 A.1987216 coll.1629 
DEXpurge.3597 for t.1577908797 -> n.0, total.2005384 788f8518 R.2005384 S.22787643 A.2005384 duplicates.0 | L.3997441 A.1988115 coll.1633 
DEXpurge.3598 for t.1577908798 -> n.0, total.2006245 6ffed4c8 R.2006245 S.22798590 A.2006245 duplicates.0 | L.3999158 A.1988971 coll.1633 
DEXpurge.3599 for t.1577908799 -> n.0, total.2007130 c5e2ab2f R.2007130 S.22810494 A.2007130 duplicates.0 | L.4000920 A.1989848 coll.1633 
DEXpurge.0 for t.1577908800 -> n.0, total.2008041 5d74b214 R.2008041 S.22822180 A.2008041 duplicates.0 | L.4002733 A.1990750 coll.1633 
DEXpurge.1 for t.1577908801 -> n.0, total.2008945 3718a5c1 R.2008945 S.22833615 A.2008945 duplicates.0 | L.4004532 A.1991645 coll.1633 
DEXpurge.2 for t.1577908802 -> n.0, total.2010012 ae707f52 R.2010012 S.22844210 A.2010012 duplicates.0 | L.4006656 A.1992702 coll.1634 
DEXpurge.3 for t.1577908803 -> n.0, total.2010786 0973e526 R.2010786 S.22858015 A.2010786 duplicates.0 | L.4008192 A.1993464 coll.1635 
```

[01-Jan-20 09:01 PM] SHossain#0007
purge reset i guess after 60 mins

[01-Jan-20 09:04 PM] jl777c#5810
every second of the hour has a timeslot

[01-Jan-20 09:04 PM] jl777c#5810
each timeslot can have up to 8192 packets (this is actually configurable, but already used half GB)

