<!DOCTYPE html>
<html lang="en">

<head>
    <title>Komodo - cc-payments</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <style>
        /* === GENERAL === */

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/6c6374bad0b0b6d204d8d6dc4a18d820.woff);
    font-weight: 300;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/e8acd7d9bf6207f99350ca9f9e23b168.woff);
    font-weight: 400;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/3bdef1251a424500c1b3a78dea9b7e57.woff);
    font-weight: 500;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/be0060dafb7a0e31d2a1ca17c0708636.woff);
    font-weight: 600;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/8e12fb4f14d9c4592eb8ec9f22337b04.woff);
    font-weight: 700;
}

body {
    font-family: "Whitney", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 17px;
}

a {
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

img {
    object-fit: contain;
}

.markdown {
    white-space: pre-wrap;
    line-height: 1.3;
    overflow-wrap: break-word;
}

.spoiler {
    border-radius: 3px;
}

.quote {
    border-left: 4px solid;
    border-radius: 3px;
    margin: 8px 0;
    padding-left: 10px;
}

.pre {
    font-family: "Consolas", "Courier New", Courier, monospace;
}

.pre--multiline {
    margin-top: 4px;
    padding: 8px;
    border: 2px solid;
    border-radius: 5px;
}

.pre--inline {
    padding: 2px;
    border-radius: 3px;
    font-size: 85%;
}

.mention {
    font-weight: 500;
}

.emoji {
    width: 1.45em;
    height: 1.45em;
    margin: 0 1px;
    vertical-align: -0.4em;
}

.emoji--small {
    width: 1rem;
    height: 1rem;
}

.emoji--large {
    width: 2rem;
    height: 2rem;
}

/* === INFO === */

.info {
    display: flex;
    max-width: 100%;
    margin: 0 5px 10px 5px;
}

.info__guild-icon-container {
    flex: 0;
}

.info__guild-icon {
    max-width: 88px;
    max-height: 88px;
}

.info__metadata {
    flex: 1;
    margin-left: 10px;
}

.info__guild-name {
    font-size: 1.4em;
}

.info__channel-name {
    font-size: 1.2em;
}

.info__channel-topic {
    margin-top: 2px;
}

.info__channel-message-count {
    margin-top: 2px;
}

.info__channel-date-range {
    margin-top: 2px;
}

/* === CHATLOG === */

.chatlog {
    max-width: 100%;
    margin-bottom: 24px;
}

.chatlog__message-group {
    display: flex;
    margin: 0 10px;
    padding: 15px 0;
    border-top: 1px solid;
}

.chatlog__author-avatar-container {
    flex: 0;
    width: 40px;
    height: 40px;
}

.chatlog__author-avatar {
    border-radius: 50%;
    height: 40px;
    width: 40px;
}

.chatlog__messages {
    flex: 1;
    min-width: 50%;
    margin-left: 20px;
}

.chatlog__author-name {
    font-size: 1em;
    font-weight: 500;
}

.chatlog__timestamp {
    margin-left: 5px;
    font-size: .75em;
}

.chatlog__message {
    padding: 2px 5px;
    margin-right: -5px;
    margin-left: -5px;
    background-color: transparent;
    transition: background-color 1s ease;
}

.chatlog__content {
    font-size: .9375em;
    word-wrap: break-word;
}

.chatlog__edited-timestamp {
    margin-left: 3px;
    font-size: .8em;
}

.chatlog__attachment-thumbnail {
    margin-top: 5px;
    max-width: 50%;
    max-height: 500px;
    border-radius: 3px;
}

.chatlog__embed {
    margin-top: 5px;
    display: flex;
    max-width: 520px;
}

.chatlog__embed-color-pill {
    flex-shrink: 0;
    width: 4px;
    border-top-left-radius: 3px;
    border-bottom-left-radius: 3px;
}

.chatlog__embed-content-container {
    display: flex;
    flex-direction: column;
    padding: 8px 10px;
    border: 1px solid;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
}

.chatlog__embed-content {
    width: 100%;
    display: flex;
}

.chatlog__embed-text {
    flex: 1;
}

.chatlog__embed-author {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
}

.chatlog__embed-author-icon {
    width: 20px;
    height: 20px;
    margin-right: 9px;
    border-radius: 50%;
}

.chatlog__embed-author-name {
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-title {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-description {
    font-weight: 500;
    font-size: 14px;
}

.chatlog__embed-fields {
    display: flex;
    flex-wrap: wrap;
}

.chatlog__embed-field {
    flex: 0;
    min-width: 100%;
    max-width: 506px;
    padding-top: 10px;
}

.chatlog__embed-field--inline {
    flex: 1;
    flex-basis: auto;
    min-width: 150px;
}

.chatlog__embed-field-name {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-field-value {
    font-size: .875em;
    font-weight: 500;
}

.chatlog__embed-thumbnail {
    flex: 0;
    margin-left: 20px;
    max-width: 80px;
    max-height: 80px;
    border-radius: 3px;
}

.chatlog__embed-image-container {
    margin-top: 10px;
}

.chatlog__embed-image {
    max-width: 500px;
    max-height: 400px;
    border-radius: 3px;
}

.chatlog__embed-footer {
    margin-top: 10px;
}

.chatlog__embed-footer-icon {
    margin-right: 4px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    vertical-align: middle;
}

.chatlog__embed-footer-text {
    font-weight: 500;
    font-size: .75em;
}

.chatlog__reactions {
    display: flex;
}

.chatlog__reaction {
    display: flex;
    align-items: center;
    margin: 6px 2px 2px 2px;
    padding: 3px 6px;
    border-radius: 3px;
}

.chatlog__reaction-count {
    min-width: 9px;
    margin-left: 6px;
    font-size: .875em;
}

.chatlog__bot-tag {
    margin-left: 0.3em;
    background: #7289da;
    color: #ffffff;
    font-size: 0.625em;
    padding: 1px 2px;
    border-radius: 3px;
    vertical-align: middle;
    line-height: 1.3;
    position: relative;
    top: -.2em;
}
    </style>
    <style>
        /* === GENERAL === */

body {
    background-color: #36393e;
    color: #dcddde;
}

a {
    color: #0096cf;
}

.spoiler {
    background-color: rgba(255, 255, 255, 0.1);
}

.quote {
    border-color: #4f545c;
}

.pre {
    background-color: #2f3136 !important;
}

.pre--multiline {
    border-color: #282b30 !important;
    color: #839496 !important;
}

.mention {
    color: #7289da;
}

/* === INFO === */

.info__guild-name {
    color: #ffffff;
}

.info__channel-name {
    color: #ffffff;
}

.info__channel-topic {
    color: #ffffff;
}

/* === CHATLOG === */

.chatlog__message-group {
    border-color: rgba(255, 255, 255, 0.1);
}

.chatlog__author-name {
    color: #ffffff;
}

.chatlog__timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__message--highlighted {
    background-color: rgba(114, 137, 218, 0.2) !important;
}

.chatlog__message--pinned {
    background-color: rgba(249, 168, 37, 0.05);
}

.chatlog__edited-timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__embed-content-container {
    background-color: rgba(46, 48, 54, 0.3);
    border-color: rgba(46, 48, 54, 0.6);
}

.chatlog__embed-author-name {
    color: #ffffff;
}

.chatlog__embed-author-name-link {
    color: #ffffff;
}

.chatlog__embed-title {
    color: #ffffff;
}

.chatlog__embed-description {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-field-name {
    color: #ffffff;
}

.chatlog__embed-field-value {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-footer {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__reaction {
    background-color: rgba(255, 255, 255, 0.05);
}

.chatlog__reaction-count {
    color: rgba(255, 255, 255, 0.3);
}
    </style>

    <script>
        function scrollToMessage(event, id) {
            var element = document.getElementById('message-' + id);

            if (element !== null && element !== undefined) {
                event.preventDefault();

                element.classList.add('chatlog__message--highlighted');

                window.scrollTo({
                    top: element.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (window.innerHeight / 2),
                    behavior: 'smooth'
                });

                window.setTimeout(function() {
                    element.classList.remove('chatlog__message--highlighted');
                }, 2000);
            }
        }
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.pre--multiline').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>
<body>

<div class="info">
    <div class="info__guild-icon-container">
        <img class="info__guild-icon" src="https://cdn.discordapp.com/icons/412898016371015680/a_157cb08c4198ad53b9e9b7168c930571.png" />
    </div>
    <div class="info__metadata">
        <div class="info__guild-name">Komodo</div>
        <div class="info__channel-name">cc-payments</div>


        <div class="info__channel-message-count">100 messages</div>

            <div class="info__channel-date-range">
                    Before 05-Dec-19 12:00 AM
            </div>
    </div>
</div>

<div class="chatlog">
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">21-Mar-19 05:27 PM</span>

                    <div class="chatlog__message " data-message-id="558340899692871681" id="message-558340899692871681">
                        <div class="chatlog__content">
                            <span class="markdown">just a heads up, after discussing a specific usecase today, I coded the Payments CC with methods: txidopret, create, list, info, fund, release
validation isnt done yet, but that shouldnt take long once the rpc calls are debugged. just a heads up so there are no complaints about being blind sided by a new CC.
payments CC allows to define a fixed allocation of incoming funds. the destination addresses can be however many normal scriptPubKeys and one that needs an opreturn. if more than one opreturn is needed, then a chain of payments CC creates can be created, one per opreturn.
The usecase this was for was a smartchain that wanted to fund X amount to founders reward and the rest to rewards CC. the rewards CC needs an opreturn, so things got a bit more complex than you would expect.
total time so far: 8 hours
all the rpc calls have been tested in the easy cases, all that is left is the validation and to make sure the non-zero param cases and opreturn in the paymentsrelease is working properly</span>

                        </div>



                        <div class="chatlog__reactions">
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="🔥" title="🔥" src="https://twemoji.maxcdn.com/2/72x72/1f525.png" />
                                    <span class="chatlog__reaction-count">12</span>
                                </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 10:19 AM</span>

                    <div class="chatlog__message " data-message-id="558595602229755904" id="message-558595602229755904">
                        <div class="chatlog__content">
                            <span class="markdown">fixed all the reported bugs and it works now with a single opreturn destination</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558595722014883850" id="message-558595722014883850">
                        <div class="chatlog__content">
                            <span class="markdown">also changed it so it payouts out a minimum of a 0.0001 to all destinations, this might create a small subsidy but simplifies validation</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558595750116720652" id="message-558595750116720652">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="blackjok3r#3181">@blackjok3r</span></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558595791535603712" id="message-558595791535603712">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="Alright#0419">@Alright</span></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558595883802034178" id="message-558595883802034178">
                        <div class="chatlog__content">
                            <span class="markdown">with a minimum payout set, it will create a predictable vout vector</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 10:23 AM</span>

                    <div class="chatlog__message " data-message-id="558596663355244555" id="message-558596663355244555">
                        <div class="chatlog__content">
                            <span class="markdown">just had a paymentsrelease try to spend 0.00009999 more than it should have</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558596717101187082" id="message-558596717101187082">
                        <div class="chatlog__content">
                            <span class="markdown">didn&#39;t have that latest commit though, might be related, rebuilding now</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558597732491722752" id="message-558597732491722752">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> the additional 0.0001 vout isn&#39;t accounted for in inputs it seems</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558597956102651913" id="message-558597956102651913">
                        <div class="chatlog__content">
                            <span class="markdown">Oh it must use the the paymentfund utxos as inputs</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558597997705953300" id="message-558597997705953300">
                        <div class="chatlog__content">
                            <span class="markdown">so it must be subtracted from one of the other outputs?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558598561202307072" id="message-558598561202307072">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://pastebin.com/puArnHVe">https://pastebin.com/puArnHVe</a> what is vout3 here? the 0.0001?</span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(79,84,92,255)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://pastebin.com/puArnHVe"><span class="markdown">komodo-cli -ac_name=PAY paymentsrelease &quot;[%2256d99ce5b1173ce192e47...</span></a>
                                            </div>


                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://pastebin.com/i/facebook.png">
                                                <img class="chatlog__embed-thumbnail" src="https://pastebin.com/i/facebook.png" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div class="chatlog__message " data-message-id="558598637995687936" id="message-558598637995687936">
                        <div class="chatlog__content">
                            <span class="markdown">if it&#39;s simply a marker, you could make it a CC vout with value of 0 I believe</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558598673639014420" id="message-558598673639014420">
                        <div class="chatlog__content">
                            <span class="markdown">this way you don&#39;t need to subtract 0.0001 from another vout</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 10:31 AM</span>

                    <div class="chatlog__message " data-message-id="558598707520471041" id="message-558598707520471041">
                        <div class="chatlog__content">
                            <span class="markdown">we need to be able to extract the pubkey from the vout</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558598737346166784" id="message-558598737346166784">
                        <div class="chatlog__content">
                            <span class="markdown">a CC vout is mostly a hash</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558598873900253197" id="message-558598873900253197">
                        <div class="chatlog__content">
                            <span class="markdown">i add inputs for newamount +2*txfee</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 10:33 AM</span>

                    <div class="chatlog__message " data-message-id="558599014921011200" id="message-558599014921011200">
                        <div class="chatlog__content">
                            <span class="markdown">problem is that the inputs are limited by the paymentsfund utxos</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558599058910871559" id="message-558599058910871559">
                        <div class="chatlog__content">
                            <span class="markdown">it can&#39;t just grab any random utxo to spend</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558599226402275329" id="message-558599226402275329">
                        <div class="chatlog__content">
                            <span class="markdown">Does that make sense? Like if we&#39;re splitting the payentfund utxos 1:2 to two separate vouts, we need to subtract the 0.0001 from one of them, no?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 10:34 AM</span>

                    <div class="chatlog__message " data-message-id="558599443033882625" id="message-558599443033882625">
                        <div class="chatlog__content">
                            <span class="markdown">or it means there needs to be 5.0002 in inputs available</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558599731408797696" id="message-558599731408797696">
                        <div class="chatlog__content">
                            <span class="markdown">what was the sum of vouts for that tx? vs size of vins?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 10:37 AM</span>

                    <div class="chatlog__message " data-message-id="558600102478872577" id="message-558600102478872577">
                        <div class="chatlog__content">
                            <span class="markdown">7.3 in, 7.30009999 out</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 10:37 AM</span>

                    <div class="chatlog__message " data-message-id="558600148180008960" id="message-558600148180008960">
                        <div class="chatlog__content">
                            <span class="markdown">pushed fix</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 10:40 AM</span>

                    <div class="chatlog__message " data-message-id="558600985472401418" id="message-558600985472401418">
                        <div class="chatlog__content">
                            <span class="markdown">I think that assumes there always will be a change vout</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558601037414662155" id="message-558601037414662155">
                        <div class="chatlog__content">
                            <span class="markdown">spending the exact amount would lead to the same vin vout mismatch I think</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 10:41 AM</span>

                    <div class="chatlog__message " data-message-id="558601136525934602" id="message-558601136525934602">
                        <div class="chatlog__content">
                            <span class="markdown">i think it is ok as the bug was that i was miscalculating change</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 10:51 AM</span>

                    <div class="chatlog__message " data-message-id="558603603733118976" id="message-558603603733118976">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> I believe it doesn&#39;t pay a tx fee now</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558603710540939264" id="message-558603710540939264">
                        <div class="chatlog__content">
                            <span class="markdown">I was able to do a <span class="pre pre--inline">paymentsrelease</span> and it paid a 1 sat tx fee because of the rounding on the ratio split</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 10:52 AM</span>

                    <div class="chatlog__message " data-message-id="558604032554434561" id="message-558604032554434561">
                        <div class="chatlog__content">
                            <span class="markdown">yes, off by one. pushed fix</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 11:11 AM</span>

                    <div class="chatlog__message " data-message-id="558608696469487617" id="message-558608696469487617">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="blackjok3r#3181">@blackjok3r</span> after you get the validation sorted, what do you think about adding a dividends payment method? The idea is to use token balances to allocate a total amount. You can use getsnapshot code to get a complete list of balances in addresses, then for each one would need to do a CCtoken_balance to filter out the ones with non-zero tokenbalance. Summing all the satoshis for the token gets the denominator to use to allocate the funded amount. I dont think it should be a consensus involved rpc, just a way to issue a dividend of X amount of coins to the token holders. Having an exclude list of addresses would be a practical thing.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558609041744723988" id="message-558609041744723988">
                        <div class="chatlog__content">
                            <span class="markdown">once something like this works, maybe a filename can be specified that has the output of a getsnapshot call. that way people could do airdrops to a coin by doing a getsnapshot &gt; file, then a paymentsdividend [file,amount,dustlevel,excluded addresses]</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558609104638050315" id="message-558609104638050315">
                        <div class="chatlog__content">
                            <span class="markdown">iguana has something like this it you need an example</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558609776599105547" id="message-558609776599105547">
                        <div class="chatlog__content">
                            <span class="markdown">another utility that would be handy would be to convert a getsnapshot output into a set of paymentstxidopret tx and a paymentscreate for each group of 255 (about the max that will fit). Then it would need to make a &quot;linked list&quot; of paymentcreates where the first one is to 255 address + createtxid for the second, the second would have the same with createtxid CC address for the third, etc. until it reaches the end.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558609977892143104" id="message-558609977892143104">
                        <div class="chatlog__content">
                            <span class="markdown">A bit of tricky calculation to figure out how much the linkd list allocation is (should be sum of all the remaining txidoprets) for each createtxid</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558610363243823106" id="message-558610363243823106">
                        <div class="chatlog__content">
                            <span class="markdown">once this is setup, then a single payment to the initial payments CC address should allow a dividend payment to be released and by sorting the payout addresses to the largest first, then the amounts get smaller and smaller at each stage. so at some point it wont be big enough for a minimum, but this will track things precisely (other than the 0,0001 rounding)</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558610758410305539" id="message-558610758410305539">
                        <div class="chatlog__content">
                            <span class="markdown">It seems possible to convert a cashflow allocation to a set of paymentscreate definitions, so even a spreadsheet to payments CC &quot;compiler&quot; would be possible</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 12:01 PM</span>

                    <div class="chatlog__message " data-message-id="558621396498907146" id="message-558621396498907146">
                        <div class="chatlog__content">
                            <span class="markdown">generating tx with 64 to 256 payments will be able to complete airdrops with not so many tx</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 12:43 PM</span>

                    <div class="chatlog__message " data-message-id="558631932196290560" id="message-558631932196290560">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="dukeleto#7326">@dukeleto</span> if you were still interested in using rewards CC on HUSH, this would be how you do it</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558632002585362432" id="message-558632002585362432">
                        <div class="chatlog__content">
                            <span class="markdown">Man, I&#39;m excited to see what people do with this <img class="emoji " alt="😊" title="😊" src="https://twemoji.maxcdn.com/2/72x72/1f60a.png" /></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558632126887493643" id="message-558632126887493643">
                        <div class="chatlog__content">
                            <span class="markdown">also <span class="mention" title="jorian#4555">@jorian</span> <span class="mention" title="siu - Chainmakers#3920">@siu - Chainmakers</span> I believe you could use this to fund the dice plan on KMDICE from the coinbases</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 12:44 PM</span>

                    <div class="chatlog__message " data-message-id="558632214254977036" id="message-558632214254977036">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="Decker#3767">@Decker</span> maybe some tools you can make along these lines?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/422858760898215937/45b08ee647e00b665a37fc374590ebc4.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="siu - Chainmakers#3920" data-user-id="422858760898215937">siu - Chainmakers</span>


                <span class="chatlog__timestamp">22-Mar-19 12:49 PM</span>

                    <div class="chatlog__message " data-message-id="558633320666103838" id="message-558633320666103838">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="Alright#0419">@Alright</span> do you have any docs for this?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558633392686497812" id="message-558633392686497812">
                        <div class="chatlog__content">
                            <span class="markdown">or how i can test? branch, chain?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 12:49 PM</span>

                    <div class="chatlog__message " data-message-id="558633457622843413" id="message-558633457622843413">
                        <div class="chatlog__content">
                            <span class="markdown">sorry no docs, he made  it yesterday <img class="emoji " alt="😂" title="😂" src="https://twemoji.maxcdn.com/2/72x72/1f602.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/422858760898215937/45b08ee647e00b665a37fc374590ebc4.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="siu - Chainmakers#3920" data-user-id="422858760898215937">siu - Chainmakers</span>


                <span class="chatlog__timestamp">22-Mar-19 12:50 PM</span>

                    <div class="chatlog__message " data-message-id="558633478178996235" id="message-558633478178996235">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji emoji--large" alt="😂" title="😂" src="https://twemoji.maxcdn.com/2/72x72/1f602.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 12:50 PM</span>

                    <div class="chatlog__message " data-message-id="558633506474033154" id="message-558633506474033154">
                        <div class="chatlog__content">
                            <span class="markdown">Well there is a simple how to in payments.cpp</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/422858760898215937/45b08ee647e00b665a37fc374590ebc4.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="siu - Chainmakers#3920" data-user-id="422858760898215937">siu - Chainmakers</span>


                <span class="chatlog__timestamp">22-Mar-19 12:50 PM</span>

                    <div class="chatlog__message " data-message-id="558633535129387035" id="message-558633535129387035">
                        <div class="chatlog__content">
                            <span class="markdown">ok</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 12:50 PM</span>

                    <div class="chatlog__message " data-message-id="558633543060946945" id="message-558633543060946945">
                        <div class="chatlog__content">
                            <span class="markdown">I have a walkthrough of it if you want</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558633583577661460" id="message-558633583577661460">
                        <div class="chatlog__content">
                            <span class="markdown">not a real guide, just the rpc commands of each step</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558633624736628741" id="message-558633624736628741">
                        <div class="chatlog__content">
                            <span class="markdown">jl777 branch</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/422858760898215937/45b08ee647e00b665a37fc374590ebc4.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="siu - Chainmakers#3920" data-user-id="422858760898215937">siu - Chainmakers</span>


                <span class="chatlog__timestamp">22-Mar-19 12:51 PM</span>

                    <div class="chatlog__message " data-message-id="558633846288023564" id="message-558633846288023564">
                        <div class="chatlog__content">
                            <span class="markdown">thanks</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/347922216429813760/947757b6add4a77197be279b88a7f75b.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="grewalsatinder#9653" data-user-id="347922216429813760">grewalsatinder</span>


                <span class="chatlog__timestamp">22-Mar-19 12:53 PM</span>

                    <div class="chatlog__message " data-message-id="558634375369981953" id="message-558634375369981953">
                        <div class="chatlog__content">
                            <span class="markdown">payments CC is a result of total dev hours of about 6 hrs for first iteration and may be about another 6 hrs for debugging, and then maybe few more hours to what it is now.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558634415832563723" id="message-558634415832563723">
                        <div class="chatlog__content">
                            <span class="markdown">As I read stuff and calculate it <img class="emoji " alt="🤔" title="🤔" src="https://twemoji.maxcdn.com/2/72x72/1f914.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 12:54 PM</span>

                    <div class="chatlog__message " data-message-id="558634639846146059" id="message-558634639846146059">
                        <div class="chatlog__content">
                            <span class="markdown">more like 10hrs total so far for me, not counting testing time and review time. plus validation is totally missing</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/347922216429813760/947757b6add4a77197be279b88a7f75b.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="grewalsatinder#9653" data-user-id="347922216429813760">grewalsatinder</span>


                <span class="chatlog__timestamp">22-Mar-19 12:54 PM</span>

                    <div class="chatlog__message " data-message-id="558634668413550593" id="message-558634668413550593">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m still unclear what payments CC does</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558634702773157888" id="message-558634702773157888">
                        <div class="chatlog__content">
                            <span class="markdown">the example use case I mean</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 12:55 PM</span>

                    <div class="chatlog__message " data-message-id="558634745899253811" id="message-558634745899253811">
                        <div class="chatlog__content">
                            <span class="markdown">allows to blockchain enforce payment allocations</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558634852153425930" id="message-558634852153425930">
                        <div class="chatlog__content">
                            <span class="markdown">say you have an agreement to share income 10%, 10%, 40%, 40% across 4 receivers</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558634961322639390" id="message-558634961322639390">
                        <div class="chatlog__content">
                            <span class="markdown">you can define this and then funds can be sent to a single address knowning that the exact percentages will be paid out</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558635062095118356" id="message-558635062095118356">
                        <div class="chatlog__content">
                            <span class="markdown">very useful for businesses that need to share a single source of income across different groups</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/347922216429813760/947757b6add4a77197be279b88a7f75b.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="grewalsatinder#9653" data-user-id="347922216429813760">grewalsatinder</span>


                <span class="chatlog__timestamp">22-Mar-19 12:56 PM</span>

                    <div class="chatlog__message " data-message-id="558635130273398786" id="message-558635130273398786">
                        <div class="chatlog__content">
                            <span class="markdown">aha.... a part of the decentralized organization&#39;s funds management!</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 12:56 PM</span>

                    <div class="chatlog__message " data-message-id="558635141145296917" id="message-558635141145296917">
                        <div class="chatlog__content">
                            <span class="markdown">or you can make a onetime payment CC to do an airdrop</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">22-Mar-19 12:56 PM</span>

                    <div class="chatlog__message " data-message-id="558635173806342164" id="message-558635173806342164">
                        <div class="chatlog__content">
                            <span class="markdown">killer feature is being able to do this in a coinbase transaction</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558635183603974178" id="message-558635183603974178">
                        <div class="chatlog__content">
                            <span class="markdown">IMO</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558635248401776691" id="message-558635248401776691">
                        <div class="chatlog__content">
                            <span class="markdown">design the coinbase to do <em>whatever</em></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">22-Mar-19 12:57 PM</span>

                    <div class="chatlog__message " data-message-id="558635278978252813" id="message-558635278978252813">
                        <div class="chatlog__content">
                            <span class="markdown">it arose from a usecase where the founders reward for the blockchain needed to partially fund a rewards CC</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="558635300008493066" id="message-558635300008493066">
                        <div class="chatlog__content">
                            <span class="markdown">but I generalized it from that</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/347922216429813760/947757b6add4a77197be279b88a7f75b.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="grewalsatinder#9653" data-user-id="347922216429813760">grewalsatinder</span>


                <span class="chatlog__timestamp">22-Mar-19 12:57 PM</span>

                    <div class="chatlog__message " data-message-id="558635339221303326" id="message-558635339221303326">
                        <div class="chatlog__content">
                            <span class="markdown">awesome! have another question... will be back in 5</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/422858760898215937/45b08ee647e00b665a37fc374590ebc4.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="siu - Chainmakers#3920" data-user-id="422858760898215937">siu - Chainmakers</span>


                <span class="chatlog__timestamp">22-Mar-19 01:19 PM</span>

                    <div class="chatlog__message " data-message-id="558640780269584385" id="message-558640780269584385">
                        <div class="chatlog__content">
                            <span class="markdown">I see good implementation opportunity in CHAIN</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/365714438864633856/68aafc7c575d19fd0ee249530925ed3e.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="dukeleto#7326" data-user-id="365714438864633856">dukeleto</span>


                <span class="chatlog__timestamp">22-Mar-19 08:21 PM</span>

                    <div class="chatlog__message " data-message-id="558747180593184798" id="message-558747180593184798">
                        <div class="chatlog__content">
                            <span class="markdown">this looks like a useful CC</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">23-Mar-19 12:57 AM</span>

                    <div class="chatlog__message " data-message-id="558816454976208904" id="message-558816454976208904">
                        <div class="chatlog__content">
                            <span class="markdown">Yeah those things sound pretty useful. Going to knock out validation today. Shouldnt be that hard. Hopefully have it working in 6-8H <img class="emoji " alt="😃" title="😃" src="https://twemoji.maxcdn.com/2/72x72/1f603.png" /> 
Then we can try and make some cool scripts to use it.</span>

                                <span class="chatlog__edited-timestamp" title="23-Mar-19 12:57 AM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">23-Mar-19 08:01 AM</span>

                    <div class="chatlog__message " data-message-id="558923348306952192" id="message-558923348306952192">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://github.com/jl777/komodo/pull/1347">https://github.com/jl777/komodo/pull/1347</a></span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/jl777/komodo/pull/1347"><span class="markdown">validation to sync PAY by blackjok3rtt &#183; Pull Request #1347 &#183; jl...</span></a>
                                            </div>

                                        <div class="chatlog__embed-description"><span class="markdown">Has some returns commented out to allow the chain to sync. Has prints for them. They are all to do with rounding errors on allocations, or minrelease value.
I think some code was changed at some po...</span></div>

                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars3.githubusercontent.com/u/30971146?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars3.githubusercontent.com/u/30971146?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div class="chatlog__message " data-message-id="558923468956106762" id="message-558923468956106762">
                        <div class="chatlog__content">
                            <span class="markdown">Has a few issues I cant really work out. Seems an integer rounding problem. Apart from that it validates the PAY chain just fine.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">23-Mar-19 05:43 PM</span>

                    <div class="chatlog__message " data-message-id="559069820486811649" id="message-559069820486811649">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> What do you think the best way for initializing a chain that uses a ac_script paying to payments CC is? I just started a chain that does it, but the only way to sync it is to boostrap block 1</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559069939378683913" id="message-559069939378683913">
                        <div class="chatlog__content">
                            <span class="markdown">an exception for this block 1 magic check? a height activated ac_script maybe?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">23-Mar-19 06:01 PM</span>

                    <div class="chatlog__message " data-message-id="559074367837962245" id="message-559074367837962245">
                        <div class="chatlog__content">
                            <span class="markdown">get the payments CC vout from one instance of the chain, then start a new chain with that, it wont change if it is paying to the &#39;opret&#39; form of &#39;F&#39;</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559074482271289363" id="message-559074482271289363">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="blackjok3r#3181">@blackjok3r</span> that is why we needed the opreturn form of payment, so we can make an -ac_script chain that doesnt have a txid dependency</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">23-Mar-19 06:26 PM</span>

                    <div class="chatlog__message " data-message-id="559080567719854090" id="message-559080567719854090">
                        <div class="chatlog__content">
                            <span class="markdown">so we cant deprecate the opreturn form of the &#39;F&#39; funding tx</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">24-Mar-19 06:21 PM</span>

                    <div class="chatlog__message " data-message-id="559441656114446367" id="message-559441656114446367">
                        <div class="chatlog__content">
                            <span class="markdown">and we also need to add a -mineropreturn komodod arg to make the miner add an opreturn</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559441860528046110" id="message-559441860528046110">
                        <div class="chatlog__content">
                            <span class="markdown">set -ac_founders to &gt; 10, then you have 10 blocks to create the payments CC to get the createtxid that allows to know the opreturn needed. just do a fund with opretflag and extract the opreturn</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559441951355568149" id="message-559441951355568149">
                        <div class="chatlog__content">
                            <span class="markdown">use that for -mineropreturn and use the CC vout for the -ac_script</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559441975661821977" id="message-559441975661821977">
                        <div class="chatlog__content">
                            <span class="markdown">restart the daemon</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559442101851521045" id="message-559442101851521045">
                        <div class="chatlog__content">
                            <span class="markdown">at the founders reward it will fund the payments CC and then you can do a release as per the createtxid was made</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">24-Mar-19 07:49 PM</span>

                    <div class="chatlog__message " data-message-id="559463917819133963" id="message-559463917819133963">
                        <div class="chatlog__content">
                            <span class="markdown">Still trying to figure this out. How can I ensure the 1of2 CC address will be the same on the new ac_script chain?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">24-Mar-19 08:17 PM</span>

                    <div class="chatlog__message " data-message-id="559470752533970964" id="message-559470752533970964">
                        <div class="chatlog__content">
                            <span class="markdown">because the useopret form of Fund sends to the global CC address, always the same</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559470988782469141" id="message-559470988782469141">
                        <div class="chatlog__content">
                            <span class="markdown">it is like faucetfund is always having the same CC vout</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">24-Mar-19 09:24 PM</span>

                    <div class="chatlog__message " data-message-id="559487819366662156" id="message-559487819366662156">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> <span class="mention" title="blackjok3r#3181">@blackjok3r</span> there seems to be an off by 1 error in the validation code because of the rounding on the ratio split. If you do the minimum release amount and the ratio drops 1 sat in the rounding, it gives this error
<div class="pre pre--multiline nohighlight">komodo-cli -ac_name=PAY paymentsrelease &quot;[%2256d99ce5b1173ce192e4742d3c854828af439358719917ab1eef9d9e0809651a%22,5]&quot;

vout.2 test.333333332 vs nVlaue.333333333
does not meet minrelease amount.499999999 minrelease.500000000
vin.0 is not a payments CC vout: txid.920de530e52e982a10c7e64a4551b3a2c5878e9f2e1bec82a2470441f64e11b4 vout.0
CC Eval EVAL_PAYMENTS Invalid: vin is not paymentsCC type spending tx 920de530e52e982a10c7e64a4551b3a2c5878e9f2e1bec82a2470441f64e11b4</div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559489480625618944" id="message-559489480625618944">
                        <div class="chatlog__content">
                            <span class="markdown">Ah this <span class="pre pre--inline">vin.0 is not a payments CC vout:</span> seems an unrelated error</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559489523940327425" id="message-559489523940327425">
                        <div class="chatlog__content">
                            <span class="markdown">figuring it out now</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559491168115752980" id="message-559491168115752980">
                        <div class="chatlog__content">
                            <span class="markdown"><div class="pre pre--multiline nohighlight">komodo-cli -ac_name=PAY paymentsinfo &quot;[%2256d99ce5b1173ce192e4742d3c854828af439358719917ab1eef9d9e0809651a%22]&quot;
{
  &quot;lockedblocks&quot;: 5,
  &quot;totalallocations&quot;: 3,
  &quot;minrelease&quot;: 5,
  &quot;numoprets&quot;: 1,
  &quot;txidoprets&quot;: [
    {
      &quot;txid&quot;: &quot;8e497614627980a72405a09a4c86ed705dea65c3a86c59c7e1b6dd8f8b7b6fd4&quot;,
      &quot;scriptPubKey&quot;: &quot;76a914f7e35fb76643f055c0d4cbcc769bb88a83d1cc9f88ac&quot;
    },
    {
      &quot;txid&quot;: &quot;ff25e11fb3c9bbe251c51d39aecbc3a1b147b958c852ccfe2ee960e58d64dfe1&quot;,
      &quot;scriptPubKey&quot;: &quot;2ea22c802065686d47a4049c2c845a71895a915eb84c04445896eec5dc0be40df0b31372da8103120c008203000401cc&quot;,
      &quot;opreturn&quot;: &quot;6a2ae541414c0000000000000000000000000000000000000000000000000000000000000000000000000000&quot;
    }
  ],
  &quot;RSepiQwRvAJtmcp4vrkmRiiAEzdhYXVzCe&quot;: 7.29950000,
  &quot;REpyKi7avsVduqZ3eimncK4uKqSArLTGGK&quot;: 5.00000000,
  &quot;totalfunds&quot;: 12.29950000,
  &quot;result&quot;: &quot;success&quot;
}</div>
it&#39;s trying to spend the 5 coins in <span class="pre pre--inline">REpyKi7avsVduqZ3eimncK4uKqSArLTGGK</span> address, but the check checks against whether it&#39;s spending from <span class="pre pre--inline">RSepiQwRvAJtmcp4vrkmRiiAEzdhYXVzCe</span></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="559491368934965251" id="message-559491368934965251">
                        <div class="chatlog__content">
                            <span class="markdown">Not sure I understand the purpose of <span class="pre pre--inline">paymentsfund</span>&#39;s optional argument <span class="pre pre--inline">useopret</span></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/1.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mylo#8306" data-user-id="371114647052615681">Mylo</span>


                <span class="chatlog__timestamp">25-Mar-19 01:34 AM</span>

                    <div class="chatlog__message " data-message-id="559550524916236308" id="message-559550524916236308">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="pre pre--inline">pub2createtxid</span> do we call this <em>protocol customization</em> ? <img class="emoji " alt="😛" title="😛" src="https://twemoji.maxcdn.com/2/72x72/1f61b.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/1.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mylo#8306" data-user-id="371114647052615681">Mylo</span>


                <span class="chatlog__timestamp">25-Mar-19 01:42 AM</span>

                    <div class="chatlog__message " data-message-id="559552683128782872" id="message-559552683128782872">
                        <div class="chatlog__content">
                            <span class="markdown">Just a question:
<a href="https://github.com/jl777/komodo/blob/18c541a88557700c48c8ce33cebb5cd4902f4a99/src/cc/payments.cpp#L174">https://github.com/jl777/komodo/blob/18c541a88557700c48c8ce33cebb5cd4902f4a99/src/cc/payments.cpp#L174</a>

<span class="pre pre--inline">lockedblocks, minrelease, totalallocations</span>

These are the things you&#39;ve made up to make the payments-cc what it is?</span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/jl777/komodo/blob/18c541a88557700c48c8ce33cebb5cd4902f4a99/src/cc/payments.cpp"><span class="markdown">jl777/komodo</span></a>
                                            </div>

                                        <div class="chatlog__embed-description"><span class="markdown">Komodo. Contribute to jl777/komodo development by creating an account on GitHub.</span></div>

                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars2.githubusercontent.com/u/5962559?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars2.githubusercontent.com/u/5962559?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">25-Mar-19 01:42 AM</span>

                    <div class="chatlog__message " data-message-id="559552742234914837" id="message-559552742234914837">
                        <div class="chatlog__content">
                            <span class="markdown">believe it&#39;s just a way to store the txid in a p2pk tx</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/1.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mylo#8306" data-user-id="371114647052615681">Mylo</span>


                <span class="chatlog__timestamp">25-Mar-19 01:44 AM</span>

                    <div class="chatlog__message " data-message-id="559553093784567834" id="message-559553093784567834">
                        <div class="chatlog__content">
                            <span class="markdown">yes it looks like that.  just some handy trick <img class="emoji " alt="😃" title="😃" src="https://twemoji.maxcdn.com/2/72x72/1f603.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">25-Mar-19 01:44 AM</span>

                    <div class="chatlog__message " data-message-id="559553133240385566" id="message-559553133240385566">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="pre pre--inline">lockedblocks</span> is the amount of blocks before a <span class="pre pre--inline">paymentsfund</span> utxo is able to be spent with <span class="pre pre--inline">paymentsrelease</span>
<span class="pre pre--inline">minrelease</span> is the minimum amount a <span class="pre pre--inline">paymentsrelease</span> tx can release
<span class="pre pre--inline">totalallocations</span> is the amount of vouts specified in <span class="pre pre--inline">paymentscreate</span> I believe</span>

                                <span class="chatlog__edited-timestamp" title="25-Mar-19 01:44 AM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/1.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mylo#8306" data-user-id="371114647052615681">Mylo</span>


                <span class="chatlog__timestamp">25-Mar-19 01:48 AM</span>

                    <div class="chatlog__message " data-message-id="559554122999922698" id="message-559554122999922698">
                        <div class="chatlog__content">
                            <span class="markdown">thanks</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/1.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mylo#8306" data-user-id="371114647052615681">Mylo</span>


                <span class="chatlog__timestamp">25-Mar-19 04:34 AM</span>

                    <div class="chatlog__message " data-message-id="559595921407606784" id="message-559595921407606784">
                        <div class="chatlog__content">
                            <span class="markdown"><div class="pre pre--multiline nohighlight">another utility that would be handy would be to convert a getsnapshot output into a set of paymentstxidopret tx and a paymentscreate for each group of 255 (about the max that will fit). Then it would need to make a &quot;linked list&quot; of paymentcreates where the first one is to 255 address + createtxid for the second, the second would have the same with createtxid CC address for the third, etc. until it reaches the end.</div>
This linked list to other CC addresses is useful too.
Eg Product -&gt; Component -&gt; SubComponent -&gt; SubComponent^n</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/1.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mylo#8306" data-user-id="371114647052615681">Mylo</span>


                <span class="chatlog__timestamp">25-Mar-19 04:45 AM</span>

                    <div class="chatlog__message " data-message-id="559598740831469579" id="message-559598740831469579">
                        <div class="chatlog__content">
                            <span class="markdown">Oops, 255 already a lot of sub components, plz ignore my comment</span>

                        </div>



                    </div>
            </div>
        </div>
</div>

</body>
</html>
