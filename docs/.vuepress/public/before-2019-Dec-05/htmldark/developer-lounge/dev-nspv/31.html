<!DOCTYPE html>
<html lang="en">

<head>
    <title>Komodo - dev-nspv</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <style>
        /* === GENERAL === */

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/6c6374bad0b0b6d204d8d6dc4a18d820.woff);
    font-weight: 300;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/e8acd7d9bf6207f99350ca9f9e23b168.woff);
    font-weight: 400;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/3bdef1251a424500c1b3a78dea9b7e57.woff);
    font-weight: 500;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/be0060dafb7a0e31d2a1ca17c0708636.woff);
    font-weight: 600;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/8e12fb4f14d9c4592eb8ec9f22337b04.woff);
    font-weight: 700;
}

body {
    font-family: "Whitney", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 17px;
}

a {
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

img {
    object-fit: contain;
}

.markdown {
    white-space: pre-wrap;
    line-height: 1.3;
    overflow-wrap: break-word;
}

.spoiler {
    border-radius: 3px;
}

.quote {
    border-left: 4px solid;
    border-radius: 3px;
    margin: 8px 0;
    padding-left: 10px;
}

.pre {
    font-family: "Consolas", "Courier New", Courier, monospace;
}

.pre--multiline {
    margin-top: 4px;
    padding: 8px;
    border: 2px solid;
    border-radius: 5px;
}

.pre--inline {
    padding: 2px;
    border-radius: 3px;
    font-size: 85%;
}

.mention {
    font-weight: 500;
}

.emoji {
    width: 1.45em;
    height: 1.45em;
    margin: 0 1px;
    vertical-align: -0.4em;
}

.emoji--small {
    width: 1rem;
    height: 1rem;
}

.emoji--large {
    width: 2rem;
    height: 2rem;
}

/* === INFO === */

.info {
    display: flex;
    max-width: 100%;
    margin: 0 5px 10px 5px;
}

.info__guild-icon-container {
    flex: 0;
}

.info__guild-icon {
    max-width: 88px;
    max-height: 88px;
}

.info__metadata {
    flex: 1;
    margin-left: 10px;
}

.info__guild-name {
    font-size: 1.4em;
}

.info__channel-name {
    font-size: 1.2em;
}

.info__channel-topic {
    margin-top: 2px;
}

.info__channel-message-count {
    margin-top: 2px;
}

.info__channel-date-range {
    margin-top: 2px;
}

/* === CHATLOG === */

.chatlog {
    max-width: 100%;
    margin-bottom: 24px;
}

.chatlog__message-group {
    display: flex;
    margin: 0 10px;
    padding: 15px 0;
    border-top: 1px solid;
}

.chatlog__author-avatar-container {
    flex: 0;
    width: 40px;
    height: 40px;
}

.chatlog__author-avatar {
    border-radius: 50%;
    height: 40px;
    width: 40px;
}

.chatlog__messages {
    flex: 1;
    min-width: 50%;
    margin-left: 20px;
}

.chatlog__author-name {
    font-size: 1em;
    font-weight: 500;
}

.chatlog__timestamp {
    margin-left: 5px;
    font-size: .75em;
}

.chatlog__message {
    padding: 2px 5px;
    margin-right: -5px;
    margin-left: -5px;
    background-color: transparent;
    transition: background-color 1s ease;
}

.chatlog__content {
    font-size: .9375em;
    word-wrap: break-word;
}

.chatlog__edited-timestamp {
    margin-left: 3px;
    font-size: .8em;
}

.chatlog__attachment-thumbnail {
    margin-top: 5px;
    max-width: 50%;
    max-height: 500px;
    border-radius: 3px;
}

.chatlog__embed {
    margin-top: 5px;
    display: flex;
    max-width: 520px;
}

.chatlog__embed-color-pill {
    flex-shrink: 0;
    width: 4px;
    border-top-left-radius: 3px;
    border-bottom-left-radius: 3px;
}

.chatlog__embed-content-container {
    display: flex;
    flex-direction: column;
    padding: 8px 10px;
    border: 1px solid;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
}

.chatlog__embed-content {
    width: 100%;
    display: flex;
}

.chatlog__embed-text {
    flex: 1;
}

.chatlog__embed-author {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
}

.chatlog__embed-author-icon {
    width: 20px;
    height: 20px;
    margin-right: 9px;
    border-radius: 50%;
}

.chatlog__embed-author-name {
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-title {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-description {
    font-weight: 500;
    font-size: 14px;
}

.chatlog__embed-fields {
    display: flex;
    flex-wrap: wrap;
}

.chatlog__embed-field {
    flex: 0;
    min-width: 100%;
    max-width: 506px;
    padding-top: 10px;
}

.chatlog__embed-field--inline {
    flex: 1;
    flex-basis: auto;
    min-width: 150px;
}

.chatlog__embed-field-name {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-field-value {
    font-size: .875em;
    font-weight: 500;
}

.chatlog__embed-thumbnail {
    flex: 0;
    margin-left: 20px;
    max-width: 80px;
    max-height: 80px;
    border-radius: 3px;
}

.chatlog__embed-image-container {
    margin-top: 10px;
}

.chatlog__embed-image {
    max-width: 500px;
    max-height: 400px;
    border-radius: 3px;
}

.chatlog__embed-footer {
    margin-top: 10px;
}

.chatlog__embed-footer-icon {
    margin-right: 4px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    vertical-align: middle;
}

.chatlog__embed-footer-text {
    font-weight: 500;
    font-size: .75em;
}

.chatlog__reactions {
    display: flex;
}

.chatlog__reaction {
    display: flex;
    align-items: center;
    margin: 6px 2px 2px 2px;
    padding: 3px 6px;
    border-radius: 3px;
}

.chatlog__reaction-count {
    min-width: 9px;
    margin-left: 6px;
    font-size: .875em;
}

.chatlog__bot-tag {
    margin-left: 0.3em;
    background: #7289da;
    color: #ffffff;
    font-size: 0.625em;
    padding: 1px 2px;
    border-radius: 3px;
    vertical-align: middle;
    line-height: 1.3;
    position: relative;
    top: -.2em;
}
    </style>
    <style>
        /* === GENERAL === */

body {
    background-color: #36393e;
    color: #dcddde;
}

a {
    color: #0096cf;
}

.spoiler {
    background-color: rgba(255, 255, 255, 0.1);
}

.quote {
    border-color: #4f545c;
}

.pre {
    background-color: #2f3136 !important;
}

.pre--multiline {
    border-color: #282b30 !important;
    color: #839496 !important;
}

.mention {
    color: #7289da;
}

/* === INFO === */

.info__guild-name {
    color: #ffffff;
}

.info__channel-name {
    color: #ffffff;
}

.info__channel-topic {
    color: #ffffff;
}

/* === CHATLOG === */

.chatlog__message-group {
    border-color: rgba(255, 255, 255, 0.1);
}

.chatlog__author-name {
    color: #ffffff;
}

.chatlog__timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__message--highlighted {
    background-color: rgba(114, 137, 218, 0.2) !important;
}

.chatlog__message--pinned {
    background-color: rgba(249, 168, 37, 0.05);
}

.chatlog__edited-timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__embed-content-container {
    background-color: rgba(46, 48, 54, 0.3);
    border-color: rgba(46, 48, 54, 0.6);
}

.chatlog__embed-author-name {
    color: #ffffff;
}

.chatlog__embed-author-name-link {
    color: #ffffff;
}

.chatlog__embed-title {
    color: #ffffff;
}

.chatlog__embed-description {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-field-name {
    color: #ffffff;
}

.chatlog__embed-field-value {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-footer {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__reaction {
    background-color: rgba(255, 255, 255, 0.05);
}

.chatlog__reaction-count {
    color: rgba(255, 255, 255, 0.3);
}
    </style>

    <script>
        function scrollToMessage(event, id) {
            var element = document.getElementById('message-' + id);

            if (element !== null && element !== undefined) {
                event.preventDefault();

                element.classList.add('chatlog__message--highlighted');

                window.scrollTo({
                    top: element.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (window.innerHeight / 2),
                    behavior: 'smooth'
                });

                window.setTimeout(function() {
                    element.classList.remove('chatlog__message--highlighted');
                }, 2000);
            }
        }
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.pre--multiline').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>
<body>

<div class="info">
    <div class="info__guild-icon-container">
        <img class="info__guild-icon" src="https://cdn.discordapp.com/icons/412898016371015680/a_157cb08c4198ad53b9e9b7168c930571.png" />
    </div>
    <div class="info__metadata">
        <div class="info__guild-name">Komodo</div>
        <div class="info__channel-name">dev-nspv</div>

            <div class="info__channel-topic">./komodod -nSPV=1 -ac_reward=100000000  -ac_name=NSPV -ac_supply=10000000000 -ac_cc=2 -addressindex=1 -spentindex=1 -connect=5.9.102.210 &amp;
./komodod -nSPV=1 -addnode=5.9.253.195 &amp;
https://drive.google.com/drive/folders/1ZvzrhNBQgroejTKPl0kCOTJ8h7XMnO2M?usp=sharing</div>

        <div class="info__channel-message-count">100 messages</div>

            <div class="info__channel-date-range">
                    Before 05-Dec-19 12:00 AM
            </div>
    </div>
</div>

<div class="chatlog">
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:11 PM</span>

                    <div class="chatlog__message " data-message-id="604722542300626964" id="message-604722542300626964">
                        <div class="chatlog__content">
                            <span class="markdown">Im pretty sure that this is so far.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:12 PM</span>

                    <div class="chatlog__message " data-message-id="604722683892072448" id="message-604722683892072448">
                        <div class="chatlog__content">
                            <span class="markdown">see if you can take advantage of the locally validated notarization to make it even more efficient</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604722757288067124" id="message-604722757288067124">
                        <div class="chatlog__content">
                            <span class="markdown">it sounds like you are now making efficient getinfo requests</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:12 PM</span>

                    <div class="chatlog__message " data-message-id="604722906752221225" id="message-604722906752221225">
                        <div class="chatlog__content">
                            <span class="markdown">yes it just rotates though the headers from last notarize to tip</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604722960481124392" id="message-604722960481124392">
                        <div class="chatlog__content">
                            <span class="markdown">doesnt stop trying to fetch them, because it must fetch it anyway</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:13 PM</span>

                    <div class="chatlog__message " data-message-id="604723076890099747" id="message-604723076890099747">
                        <div class="chatlog__content">
                            <span class="markdown">exactly!</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604723173963071510" id="message-604723173963071510">
                        <div class="chatlog__content">
                            <span class="markdown">and it doesnt need to be any voting based system as all can be validated</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:14 PM</span>

                    <div class="chatlog__message " data-message-id="604723206598688839" id="message-604723206598688839">
                        <div class="chatlog__content">
                            <span class="markdown">once it has enough then it can validate the chain tip, that said, once a noa happens it must fetch a heap of them again, I will fix that though doesnt seem hard</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:15 PM</span>

                    <div class="chatlog__message " data-message-id="604723488934068254" id="message-604723488934068254">
                        <div class="chatlog__content">
                            <span class="markdown">just shifting the array should work as you should already have up to the chain tip and the new notarization is 5 to 10 blocks behind, but all those headers are alrady there</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604723696753573949" id="message-604723696753573949">
                        <div class="chatlog__content">
                            <span class="markdown">now just need to have reorg detection, which since building the data to chaintip is fast enough, can just reset the headers and start again</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604723793818288148" id="message-604723793818288148">
                        <div class="chatlog__content">
                            <span class="markdown">have a counter for how many times it had to be reset for this notarization and display in the local getinfo</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604723880594243589" id="message-604723880594243589">
                        <div class="chatlog__content">
                            <span class="markdown">when we see this as 1 or more, we know something funny is going on with the chain</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:16 PM</span>

                    <div class="chatlog__message " data-message-id="604723908679172125" id="message-604723908679172125">
                        <div class="chatlog__content">
                            <span class="markdown">not sure it needs that tbh, as it saves all the headers it sees, and just  loops backwards from blockhash to block hash, ignoring any that may no longer be in the main chain</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:17 PM</span>

                    <div class="chatlog__message " data-message-id="604724086555541504" id="message-604724086555541504">
                        <div class="chatlog__content">
                            <span class="markdown">i guess even over a full day, RAM usage would only be 2MB. i was thinking of using fixed size buffer to limit ram usage</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:17 PM</span>

                    <div class="chatlog__message " data-message-id="604724123297382400" id="message-604724123297382400">
                        <div class="chatlog__content">
                            <span class="markdown">I wish it could loop forwards form a notarizations, but you just cant <img class="emoji " alt="😦" title="😦" src="https://twemoji.maxcdn.com/2/72x72/1f626.png" /></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604724187134820372" id="message-604724187134820372">
                        <div class="chatlog__content">
                            <span class="markdown">I clears them after a notarization</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604724232458338319" id="message-604724232458338319">
                        <div class="chatlog__content">
                            <span class="markdown">shouldnt use much at all, one sec I&#39;ll check it</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:19 PM</span>

                    <div class="chatlog__message " data-message-id="604724493838975007" id="message-604724493838975007">
                        <div class="chatlog__content">
                            <span class="markdown">aha! yes, all the block headers between notarizations, shouldnt be much at all!</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604724595215564815" id="message-604724595215564815">
                        <div class="chatlog__content">
                            <span class="markdown">just free up all the memory and not matter how long it runs, will just be 20 to 40 headers, even if a chain split</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604724676480204811" id="message-604724676480204811">
                        <div class="chatlog__content">
                            <span class="markdown">get to where you feel it is efficient as can be and will be able to handle actively being reorged</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604724720910467086" id="message-604724720910467086">
                        <div class="chatlog__content">
                            <span class="markdown">then we can test it on ILN</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:21 PM</span>

                    <div class="chatlog__message " data-message-id="604725004772311052" id="message-604725004772311052">
                        <div class="chatlog__content">
                            <span class="markdown">reorg detection should be as simple as detecting that the tiptime is not advancing</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604725304119787520" id="message-604725304119787520">
                        <div class="chatlog__content">
                            <span class="markdown">but I may be missing something</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:24 PM</span>

                    <div class="chatlog__message " data-message-id="604725789166141441" id="message-604725789166141441">
                        <div class="chatlog__content">
                            <span class="markdown">it is a reorg if a new height comes in that doesnt link back to the old chaintip</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604725894703218738" id="message-604725894703218738">
                        <div class="chatlog__content">
                            <span class="markdown">in this case, treat it like a new notarization came in and reset to the latest notarization and build the data from scratch</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604725982112251935" id="message-604725982112251935">
                        <div class="chatlog__content">
                            <span class="markdown">that way, no matter how deep the reorg. it will get back to the chaintip</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604726138128039946" id="message-604726138128039946">
                        <div class="chatlog__content">
                            <span class="markdown">certainly if many reorgs are happening, then this will be in a volatile state, but as soon as we get the next notarization, it all stabilizes</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:42 PM</span>

                    <div class="chatlog__message " data-message-id="604730445648887810" id="message-604730445648887810">
                        <div class="chatlog__content">
                            <span class="markdown">the problem with that is that, we dont know if its just that we are missing a block, or if the chain doesnt actually linkj though. 
I thaught about this for quite a long time.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604730633616359426" id="message-604730633616359426">
                        <div class="chatlog__content">
                            <span class="markdown">the solution I came up with was to just flag that the chain is either in sync or is not.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604730678210199553" id="message-604730678210199553">
                        <div class="chatlog__content">
                            <span class="markdown">if it wont link back, its not in sync. if it does then it is</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:50 PM</span>

                    <div class="chatlog__message " data-message-id="604732455752302608" id="message-604732455752302608">
                        <div class="chatlog__content">
                            <span class="markdown">unless all of your peers are on the wrong chain, it will eventually find the right one and flag its in sync</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 06:27 PM</span>

                    <div class="chatlog__message " data-message-id="604741671342702612" id="message-604741671342702612">
                        <div class="chatlog__content">
                            <span class="markdown">ok I have it working without gaps now. Once a notarization comes in,  it just stays in sync, without needing to fetch previous headers</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 12:17 AM</span>

                    <div class="chatlog__message " data-message-id="604829685360361474" id="message-604829685360361474">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://github.com/blackjok3rtt/libnspv/tree/blackjok3r">https://github.com/blackjok3rtt/libnspv/tree/blackjok3r</a>
Seems to work perfectly so far.</span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/blackjok3rtt/libnspv/tree/blackjok3r"><span class="markdown">blackjok3rtt/libnspv</span></a>
                                            </div>

                                        <div class="chatlog__embed-description"><span class="markdown">Tiny Bitcoin Library written in C, with nSPV added - blackjok3rtt/libnspv</span></div>

                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars3.githubusercontent.com/u/30971146?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars3.githubusercontent.com/u/30971146?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                        <div class="chatlog__reactions">
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="😍" title="😍" src="https://twemoji.maxcdn.com/2/72x72/1f60d.png" />
                                    <span class="chatlog__reaction-count">1</span>
                                </div>
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="labs1" title="labs1" src="https://cdn.discordapp.com/emojis/583606985132605451.png" />
                                    <span class="chatlog__reaction-count">1</span>
                                </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 06:11 AM</span>

                    <div class="chatlog__message " data-message-id="604918885896028181" id="message-604918885896028181">
                        <div class="chatlog__content">
                            <span class="markdown">great job!</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604919002044694528" id="message-604919002044694528">
                        <div class="chatlog__content">
                            <span class="markdown">awaiting PR</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604919621006655511" id="message-604919621006655511">
                        <div class="chatlog__content">
                            <span class="markdown">with this, it seems the only thing left is adding CC support. starting with cross chain migrates. probably need to have a separate executable/thread and is coordinating multiple nspv instances. that gets chain cluster support to mobile</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 06:30 AM</span>

                    <div class="chatlog__message " data-message-id="604923569016799233" id="message-604923569016799233">
                        <div class="chatlog__content">
                            <span class="markdown">Still want to mess with it a bit more, Will make PR soon. Be good to test reorgs, as I cant really do that using KMD just running on tip.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 07:20 AM</span>

                    <div class="chatlog__message " data-message-id="604936235420483585" id="message-604936235420483585">
                        <div class="chatlog__content">
                            <span class="markdown">use ILN</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604936292266147851" id="message-604936292266147851">
                        <div class="chatlog__content">
                            <span class="markdown">to test reorgs as it is notarized and low hashrate</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604936349967056908" id="message-604936349967056908">
                        <div class="chatlog__content">
                            <span class="markdown">no rush, this sort of thing it needs to be precise</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 10:42 AM</span>

                    <div class="chatlog__message " data-message-id="604986990441791488" id="message-604986990441791488">
                        <div class="chatlog__content">
                            <span class="markdown">Got node banning working <img class="emoji " alt="😃" title="😃" src="https://twemoji.maxcdn.com/2/72x72/1f603.png" /></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604987113926164481" id="message-604987113926164481">
                        <div class="chatlog__content">
                            <span class="markdown">Once it is synced, it checks the headers being sent are in the main chain, and if not after 10 bad headers removes the node.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604987227847655434" id="message-604987227847655434">
                        <div class="chatlog__content">
                            <span class="markdown">There is one node that is sending garbage or NULL for the headers in getinfo, so it made it quite easy.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604988510369218570" id="message-604988510369218570">
                        <div class="chatlog__content">
                            <span class="markdown">I think also I have the network code to remove peers who stop responding activated again.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 12:52 PM</span>

                    <div class="chatlog__message " data-message-id="605019664363421708" id="message-605019664363421708">
                        <div class="chatlog__content">
                            <span class="markdown">probably some fullnode on an ancient version</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605019717224103936" id="message-605019717224103936">
                        <div class="chatlog__content">
                            <span class="markdown">there is also a version field returned with getinfo now, it is set to 1</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605019818252435502" id="message-605019818252435502">
                        <div class="chatlog__content">
                            <span class="markdown">anytime any of the strutures are changed, this will be changed and this allows to immediately detect an obsolete node</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605020034082799627" id="message-605020034082799627">
                        <div class="chatlog__content">
                            <span class="markdown">the other type would be a honest node, that is just not in sync yet. they can still provide useful info, so storing the height each node is at (many calls return that nodes height) and using that to filter height dependent requests</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 12:58 PM</span>

                    <div class="chatlog__message " data-message-id="605021386829725696" id="message-605021386829725696">
                        <div class="chatlog__content">
                            <span class="markdown">Problem is that height doesnt nessarily mean that its the same block as other peers.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605022236058976269" id="message-605022236058976269">
                        <div class="chatlog__content">
                            <span class="markdown">If they dont send you a header at all, how can you validate that they are on the correct chain, you can only assume that hte blockhash they sent is correct</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 01:14 PM</span>

                    <div class="chatlog__message " data-message-id="605025401697468424" id="message-605025401697468424">
                        <div class="chatlog__content">
                            <span class="markdown">Pushed latest version, seems to be working very well for me, and should not crash  if there are no notarizations for over 100 blocks.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 01:30 PM</span>

                    <div class="chatlog__message " data-message-id="605029257038659614" id="message-605029257038659614">
                        <div class="chatlog__content">
                            <span class="markdown">I assumed that they reson to keep track of the chain tip was to make sure you are only connected to nodes on the real chain. ?</span>

                                <span class="chatlog__edited-timestamp" title="28-Jul-19 01:30 PM">(edited)</span>
                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605029313678671879" id="message-605029313678671879">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 01:34 PM</span>

                    <div class="chatlog__message " data-message-id="605030273062666251" id="message-605030273062666251">
                        <div class="chatlog__content">
                            <span class="markdown">with nSPV there really isnt that much need for it, but it is always nice to know which peers are on the chaintip and returning valid data</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605030644149387267" id="message-605030644149387267">
                        <div class="chatlog__content">
                            <span class="markdown">feel free to keep improving it, the nspv will set the standard for superlite clients, i think primarily as it is the first one that is more than a whitepaper</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605030739850821643" id="message-605030739850821643">
                        <div class="chatlog__content">
                            <span class="markdown">but might as well make it as good as we can so the best anybody else can do is be second with one that is not any better</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 01:39 PM</span>

                    <div class="chatlog__message " data-message-id="605031595233247233" id="message-605031595233247233">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://github.com/jl777/libnspv/pull/25">https://github.com/jl777/libnspv/pull/25</a></span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/jl777/libnspv/pull/25"><span class="markdown">chain tip validation and some bug fixes by blackjok3rtt &#183; Pull Re...</span></a>
                                            </div>


                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars2.githubusercontent.com/u/5962559?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars2.githubusercontent.com/u/5962559?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div class="chatlog__message " data-message-id="605032363663032351" id="message-605032363663032351">
                        <div class="chatlog__content">
                            <span class="markdown">Also, could the nSPV be used to validate the notarizaittion txid on the chain being notarized to?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605032451978559490" id="message-605032451978559490">
                        <div class="chatlog__content">
                            <span class="markdown">Like just connect to some peers and pull the txid and validate it?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 01:56 PM</span>

                    <div class="chatlog__message " data-message-id="605035806268063745" id="message-605035806268063745">
                        <div class="chatlog__content">
                            <span class="markdown">yes!</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605035869195206687" id="message-605035869195206687">
                        <div class="chatlog__content">
                            <span class="markdown">now that the single coin nspv is basically complete (other than CC)</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605035942159581184" id="message-605035942159581184">
                        <div class="chatlog__content">
                            <span class="markdown">we can move to all the cool things having multiple nspv instances active at once</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605036061025894410" id="message-605036061025894410">
                        <div class="chatlog__content">
                            <span class="markdown">the current design is just a single coin active, but most things are setup to be able to run multiple coins from a single instance</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605036179309723658" id="message-605036179309723658">
                        <div class="chatlog__content">
                            <span class="markdown">however it might be easier to make a different layer that uses multiple other nspv instances at the api level</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605036382251122693" id="message-605036382251122693">
                        <div class="chatlog__content">
                            <span class="markdown">ALL globals would need to be put into a globalvars structure and ALL functions that access any global will need to have the globals pointer passed into it to support multicoins in a single instance</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 01:58 PM</span>

                    <div class="chatlog__message " data-message-id="605036458386128917" id="message-605036458386128917">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji emoji--large" alt="🤔" title="🤔" src="https://twemoji.maxcdn.com/2/72x72/1f914.png" /></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605036669787308041" id="message-605036669787308041">
                        <div class="chatlog__content">
                            <span class="markdown">I dont think I habe anything else I need to do until the 2nd ... Maybe I will try this? Or should porting CC stuff be more important?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 02:00 PM</span>

                    <div class="chatlog__message " data-message-id="605036751752396811" id="message-605036751752396811">
                        <div class="chatlog__content">
                            <span class="markdown">which way feels better?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 02:00 PM</span>

                    <div class="chatlog__message " data-message-id="605036765064986654" id="message-605036765064986654">
                        <div class="chatlog__content">
                            <span class="markdown">Or should I go the iguana changes?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605036814486470656" id="message-605036814486470656">
                        <div class="chatlog__content">
                            <span class="markdown">See if I can get delay working?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 02:00 PM</span>

                    <div class="chatlog__message " data-message-id="605036894392287252" id="message-605036894392287252">
                        <div class="chatlog__content">
                            <span class="markdown">ah, just adding a big delay would solve the NN bickering</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605036952999297035" id="message-605036952999297035">
                        <div class="chatlog__content">
                            <span class="markdown">that shouldnt take long, so maybe get that out of the way</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605037119592857626" id="message-605037119592857626">
                        <div class="chatlog__content">
                            <span class="markdown">putting all globals in a globals structure and passing the globals pointer into all functions, it is just a lot of code changes, but nothing too difficult to do</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 02:01 PM</span>

                    <div class="chatlog__message " data-message-id="605037135937929247" id="message-605037135937929247">
                        <div class="chatlog__content">
                            <span class="markdown">One idea I had was to make it so that no nodes can receive any packets until the height has advanced one block past the block they agree on... That way its a fixed refernace point</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605037281497186317" id="message-605037281497186317">
                        <div class="chatlog__content">
                            <span class="markdown">could be avery long delay though</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 02:02 PM</span>

                    <div class="chatlog__message " data-message-id="605037299818037248" id="message-605037299818037248">
                        <div class="chatlog__content">
                            <span class="markdown">since we are validating notarizations for all utxo, the current chaintip is more a comfort thing</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605037394907103243" id="message-605037394907103243">
                        <div class="chatlog__content">
                            <span class="markdown">oh, for the notary side</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 02:02 PM</span>

                    <div class="chatlog__message " data-message-id="605037412430905384" id="message-605037412430905384">
                        <div class="chatlog__content">
                            <span class="markdown">yes sorry.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 02:02 PM</span>

                    <div class="chatlog__message " data-message-id="605037457083334677" id="message-605037457083334677">
                        <div class="chatlog__content">
                            <span class="markdown">yes, can just delay by one block</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605037487965863957" id="message-605037487965863957">
                        <div class="chatlog__content">
                            <span class="markdown">something simple and brute force</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 02:03 PM</span>

                    <div class="chatlog__message " data-message-id="605037716018692099" id="message-605037716018692099">
                        <div class="chatlog__content">
                            <span class="markdown">Guess I&#39;ll have a look at that. I asked <span class="mention" title="Alright#0419">@Alright</span>  to help me test reorgs on nSPV, so while waiting I will have a look at iguan see what I can work out.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605037849380651018" id="message-605037849380651018">
                        <div class="chatlog__content">
                            <span class="markdown">Being able to have nSPV connect to multiple chains at once, seems a worthy thing to spend some time on though aswell.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 02:06 PM</span>

                    <div class="chatlog__message " data-message-id="605038260531626004" id="message-605038260531626004">
                        <div class="chatlog__content">
                            <span class="markdown">yes</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605038311261863938" id="message-605038311261863938">
                        <div class="chatlog__content">
                            <span class="markdown">you understand the method that is needed to make nspv multicoin?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 02:14 PM</span>

                    <div class="chatlog__message " data-message-id="605040359508279316" id="message-605040359508279316">
                        <div class="chatlog__content">
                            <span class="markdown">Kind of.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 02:19 PM</span>

                    <div class="chatlog__message " data-message-id="605041564862906369" id="message-605041564862906369">
                        <div class="chatlog__content">
                            <span class="markdown">let me clarify</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605041897295052840" id="message-605041897295052840">
                        <div class="chatlog__content">
                            <span class="markdown">currently a specific coin is connected to a specific p2p network based on the chainparams</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605041970750160916" id="message-605041970750160916">
                        <div class="chatlog__content">
                            <span class="markdown">it then updates various global variables, mostly the NSPV_result structures</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605042023522631683" id="message-605042023522631683">
                        <div class="chatlog__content">
                            <span class="markdown">and now also the headers structures</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605042126862155789" id="message-605042126862155789">
                        <div class="chatlog__content">
                            <span class="markdown">so by making an all in one globals structure, like iguanas iguana_info struct</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605042273851539457" id="message-605042273851539457">
                        <div class="chatlog__content">
                            <span class="markdown">then all functions that update state of any global or even just need access to it must have a pointer to the right globals structure</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605042432152829958" id="message-605042432152829958">
                        <div class="chatlog__content">
                            <span class="markdown">the code can be transformed in place to have identical functionality, just with a globals structure allocated and passed to all functions</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605042519209934868" id="message-605042519209934868">
                        <div class="chatlog__content">
                            <span class="markdown">once that works, then a new &quot;addcoin&quot; api will then allow to dynamically add a new coin</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605042636578881546" id="message-605042636578881546">
                        <div class="chatlog__content">
                            <span class="markdown">once that is in place, then all the api calls would be done via each coins rpc port to determine which coin</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605042756620124171" id="message-605042756620124171">
                        <div class="chatlog__content">
                            <span class="markdown">but for things that span more than one coin, it would probably use a different port, or maybe use a &quot;coin&quot;:&quot;multi&quot; parameter</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605042825540665345" id="message-605042825540665345">
                        <div class="chatlog__content">
                            <span class="markdown">iguana basically does this multicoin handling</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">28-Jul-19 02:25 PM</span>

                    <div class="chatlog__message " data-message-id="605043050120609816" id="message-605043050120609816">
                        <div class="chatlog__content">
                            <span class="markdown">Yes, I pretty much understand how iguana is doing it. Doenst seema huge diffrence here.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">28-Jul-19 02:26 PM</span>

                    <div class="chatlog__message " data-message-id="605043316198866965" id="message-605043316198866965">
                        <div class="chatlog__content">
                            <span class="markdown">to get nspv working quickly, i used a lot of globals, so first step is to sweep all of them and i mean 100% all of them into a massive globals structure</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605043458159411211" id="message-605043458159411211">
                        <div class="chatlog__content">
                            <span class="markdown">and then pass the coins pointer to its globals down into each function that needs it and all global access goes through the globals pointer</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="605043569245290506" id="message-605043569245290506">
                        <div class="chatlog__content">
                            <span class="markdown">seems this will be a good practice for you to transform a codebase from a single instance to multiinstance capable</span>

                        </div>



                    </div>
            </div>
        </div>
</div>

</body>
</html>
