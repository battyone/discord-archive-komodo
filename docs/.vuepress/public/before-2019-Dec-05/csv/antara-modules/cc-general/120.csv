AuthorID;Author;Date;Content;Attachments;Reactions;
"455741312273219595";"jl777c#5810";"22-Oct-18 11:34 AM";"the rpc should error check as much as possible, but if the validation isnt complete, it can mess up when an attack makes an rpc invalid but validation valid tx";"";"";
"272003866906722306";"TonyL#3577";"22-Oct-18 11:35 AM";"I see, so better to check CC code in such cases so even if RPC not generating transaction with such input it's possible to generate it and broadcast manually in some attack vector";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:36 AM";"yes, needs to be in both, with the validation ok to be a little more lenient as long as it doesnt allow attacks";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:36 AM";"just imagine there are bad people out there willing to do bad things";"";"";
"424224648889106444";"Mihailo#5902";"22-Oct-18 11:38 AM";"yes, it must first be done in validation so nobody can transmit tx with bad data. Then the RPC can check if you are inputing wrong things to return error instead of transmitting the tx.";"";"";
"424224648889106444";"Mihailo#5902";"22-Oct-18 11:42 AM";"BTW, which port is used on nodes for AC, is it same 7770? I'm setting up one node at my home server to be for mining on AC ....";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:45 AM";"getinfo";"";"";
"455741312273219595";"jl777c#5810";"22-Oct-18 11:45 AM";"it shows rpc port";"";"";
"424224648889106444";"Mihailo#5902";"22-Oct-18 11:47 AM";"Ok, saw it. So I see it is using random port, I'll set some specific and forward it üòâ";"";"";
"500950455690723329";"forkwitch#6080";"22-Oct-18 12:25 PM";"Geocold, a good minded security researcher gonna be helping us as a Security Advisor on CASINO.";"";"";
"500950455690723329";"forkwitch#6080";"22-Oct-18 12:27 PM";"Gonna be presenting him the casino cc plan and hear what he says. He is amongst that sort of security researchers who will always find a way for mess.";"";"üëèüèΩ (8),üëçüèΩ (10),shexy (7),rum (6),parrot (5),yassinkomodo (1),treasure (1)";
"347922216429813760";"grewalsatinder#9653";"23-Oct-18 05:50 AM";"Excited for your project @forkwitch üòÉ";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:03 PM";"@jl777c  hi there! I was adviced by Julio to ping you üòÉ";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:05 PM";"hello! did you get through the Mastering Crypto conditions";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:08 PM";"I am going to finish today";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:09 PM";"ok, I would like you to start thinking about a payments CC";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:09 PM";"basically a general purpose CC that allows people to lock funds into their CC address and then have restrictions on how it can be spent";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:10 PM";"could we start from a simple task? just for test)";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:10 PM";"oh, that was the simple task...";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:10 PM";"ok, waiting for it)";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:11 PM";"the initial payments CC wont have to have much functionality. just a way for users to fund their account and a way for payments to be made from it";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:11 PM";"we can then iterate to add more and more features";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:11 PM";"so locking funds and releasing,is the basic feature";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:12 PM";"what is the difference from rewards?";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:13 PM";"it is most similar to rewards, but rewards come back to the original user";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:13 PM";"ok, I see";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:13 PM";"what I am thinking of for payments is to be able to have your monthly bills paid from it";"";"";
"412323938782150658";"SHossain#0007";"23-Oct-18 03:13 PM";"DirectDebit method?";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:14 PM";"not exactly. but the concept of regular payments, with maximum limits";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:14 PM";"so if you are paying for electric bill, you can authorize a certain amount per month and then know that it wont pay more than that";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:14 PM";"a way to protect your funds that are in the hot wallet";"";"";
"403152410182156290";"jusoaresf#3291";"23-Oct-18 03:15 PM";"and it can still vary within that limit like the bills do...";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:16 PM";"yes. and maybe you can send a payment yourself, or just respond to an invoice";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:16 PM";"automatic recurring payments";"";"";
"412323938782150658";"SHossain#0007";"23-Oct-18 03:16 PM";"nice. paying server bills like that month after month would be cool";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:16 PM";"eventually basically anything and everything about doing payments";"";"";
"412323938782150658";"SHossain#0007";"23-Oct-18 03:17 PM";"though, that is just only one usage üòÉ";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:17 PM";"if anybody has desired features, now is the time to voice it";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:17 PM";"so it shall be like automatic invoice payments with the [month/week/...] limit";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:19 PM";"yes, lets start with that";"";"";
"403152410182156290";"jusoaresf#3291";"23-Oct-18 03:19 PM";"and max value limit (?)";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:19 PM";"my guess is over time, it will get a lot more features, but that is a good start. and max limit definitely";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:20 PM";"so once you put funds in this address, then you know it will go out toward bills";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:20 PM";"protects against anybody spending the funds on anything else, even yourself";"";"";
"403152410182156290";"jusoaresf#3291";"23-Oct-18 03:21 PM";"no allow_from_address for invoices?";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:22 PM";"these are the details that @xbis needs to determine";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:22 PM";"what is needed to make a useful payments CC";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:22 PM";"thanks, I 'll try))";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:22 PM";"we need to discuss what the required features are and once that is set for v1, then we lock down the details";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:23 PM";"a CC is very limited in scope, but very powerful, it does take a bit to get up to speed but once you do amazing things are possible in relatively short time.";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:23 PM";"definitely ask questions!";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:24 PM";"this is likely new territory and other than the code and Mastering CC, there are no other docs";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:24 PM";"oh, there are all the testing docs, which might help";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:25 PM";"where could i find the testing docs mentioned?";"";"";
"423176312354635779";"gcharang#6833";"23-Oct-18 03:25 PM";"https://docs.komodoplatform.com/cc/contracts/index-contracts.html
https://docs.komodoplatform.com/cc/index-book-jl.html";"";"";
"423176312354635779";"gcharang#6833";"23-Oct-18 03:25 PM";"https://docs.google.com/spreadsheets/d/1l0dWEPcrv9zE11_TD-XrX_HIYV0VLpadCJN6hvaZERc/edit#gid=55258823";"";"";
"455741312273219595";"jl777c#5810";"23-Oct-18 03:25 PM";"the general concept is to create a ""balance"" based view for funds and the rpc for it would be on that basis";"";"";
"502477176185028641";"xbis#8594";"23-Oct-18 03:25 PM";"thanks))";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:38 AM";"I have added 2 fixes to komodod that I think you guys might find useful. 
1) getinfo now shows your active -pukey 
2) there is a new RPC `setpubkey` that allows you to set the -pubkey if it is not set, without restarting the deamon.";"";"shexy (1),üëè (1)";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:40 AM";"I am not 100% sure that setpubkey wont break things, but I assume, you wont actually be doing anything that would be accessing the pubkey before you set it. Its mostly there for noobs/testers of CC when they get the ""you need a -pubkey set"" they cna just go ahead and set it rather than have to gin around restarting things, people seem to find that confusing all the time.";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:40 AM";"If you would like a PR to FSM please let me know and I can do that";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:42 AM";"```test@testnode:~/staked/StakedModo/src$ ./komodo-cli -ac_name=TEST setpubkey 02f7597468703c1c5c8465dd6d43acaae697df9df30bed21494d193412a1ea193e
{
  ""pubkey"": ""02f7597468703c1c5c8465dd6d43acaae697df9df30bed21494d193412a1ea193e""
}
test@testnode:~/staked/StakedModo/src$ ./komodo-cli -ac_name=TEST setpubkey 02f7597468703c1c5c8465dd6d43acaae697df9df30bed21494d193412a1ea193e
{
  ""error"": ""Can only set pubkey once, to change it you need to restart your daemon."",
  ""pubkey"": ""02f7597468703c1c5c8465dd6d43acaae697df9df30bed21494d193412a1ea193e""
}
```";"";"";
"272003866906722306";"TonyL#3577";"24-Oct-18 05:44 AM";"Hey @blackjok3r ! I can test this call itself and make auto-tests which will test crypto-conditions stuff with this parameter usage for pubkey setting";"";"üëå (1)";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:44 AM";"I did it on staked, so a PR will need to be made against FSM ... its not much code though";"";"";
"272003866906722306";"TonyL#3577";"24-Oct-18 05:46 AM";"I think such call will help in dapps development a lot since there is no way now to proper validate pubkey matching in wallet and daemon param";"";"";
"272003866906722306";"TonyL#3577";"24-Oct-18 05:46 AM";"Confused me a lot also when started with gateway cc üòÉ";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:48 AM";"Yes ... I think maybe one other thing should be added before I make PR and thats actually validate the pubkey .. currrently I used the same validation as the -pubkey start param uses, which is test length is 66 ... you can litterally put anything in there as long as its 66 char long. 

I think I can make it return the Raddress that belongs to hte pubkey relitivly easily to allow the user to check the address is right.";"";"";
"272003866906722306";"TonyL#3577";"24-Oct-18 05:49 AM";"Maybe implement most usual case somehow in this call: getwalletaddress -> validateaddress -> put pubkey to -pubkey=";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:50 AM";"ü§î";"";"";
"272003866906722306";"TonyL#3577";"24-Oct-18 05:50 AM";"For example if you call `setpubkey` without params";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:50 AM";"got ya ... will try this out .";"";"";
"272003866906722306";"TonyL#3577";"24-Oct-18 05:50 AM";"Or some `setpubkey default`";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:50 AM";"also if given the pubkey it should generate Raddress and run validate address";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:50 AM";"to amke sure its valid before adding I think.";"";"";
"272003866906722306";"TonyL#3577";"24-Oct-18 05:53 AM";"@blackjok3r Could you please show the code? Very interesting how you've implemented it (like a restarting daemon or there is a way to change it on fly)";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:53 AM";"```extern uint8_t NOTARY_PUBKEY33[];
    extern std::string NOTARY_PUBKEY;
    if ( NOTARY_PUBKEY33[0] == 0 && strlen(params[0].get_str().c_str()) == 66 ) {
        LOCK(cs_main);
        NOTARY_PUBKEY = params[0].get_str();
        decode_hex(NOTARY_PUBKEY33,33,(char *)NOTARY_PUBKEY.c_str());

    } else {
        result.push_back(Pair(""error"", ""Can only set pubkey once, to change it you need to restart your daemon.""));
    }
    result.push_back(Pair(""pubkey"", NOTARY_PUBKEY));
    return result;```";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:54 AM";"it was pie once I knew what to look for ...";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 05:55 AM";"after messing with RPC calls for streamer it seemed quite simple so I just tried it ... have not done on daemon with flowing blocks and things, but everywhere in the code relating to it always checks if `NOTARY_PUBKEY33[0] != 0` 
*I think* LOCK(cs_main) should prevent wallet making tx until pubkey has been set to avoid crashes but im an not 100% sure on that.";"";"";
"272003866906722306";"TonyL#3577";"24-Oct-18 05:59 AM";"Oh so looks like it's only possible to set if initial `pubkey=` was totally empty not wrong or different";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 06:00 AM";"yes.... maybe it can be changed in that case also, but I dont know what the results might be";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 06:00 AM";"It seems that if it was already set, and some things had used it.... then you change it";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 06:01 AM";"that anything could happen";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 06:01 AM";"I mostly did it so you can create an address THEN set pubkey, as currently its totally stupid that you need the daemon running with -pubkey but cannot create an address without the daemon running üòÇ";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 06:02 AM";"very handy for making dAPPS";"";"Komodo (1)";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 09:29 AM";"https://github.com/jl777/komodo/pull/915";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 09:29 AM";"@TonyL";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 09:30 AM";"@jorian  if you wanted to see how it works.";"";"";
"455741312273219595";"jl777c#5810";"24-Oct-18 09:36 AM";"merged";"";"";
"455741312273219595";"jl777c#5810";"24-Oct-18 09:38 AM";"just dont setpubkey while something is in progress";"";"";
"455741312273219595";"jl777c#5810";"24-Oct-18 09:39 AM";"also maybe we should require the privkey for the -pubkey be in the wallet, but not sure as there are cases where you want to run as somebody elses pubkey";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 09:39 AM";"Thats why it displays ismine";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 09:39 AM";"and it also uses LOCK";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 09:40 AM";"so it should lock things... im not 100% sure on that though";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 09:40 AM";"Basically, you start daemon, get an address, then set pubkey there should be no reaon anyone ever tries to set it when the pubkey is in use.";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 09:41 AM";"I would advise notary nodes to NEVER use that RPC call üòÉ";"";"";
"455741312273219595";"jl777c#5810";"24-Oct-18 10:24 AM";"yes the LOCK2 will prevent any gross violations of assumptions";"";"";
"455741312273219595";"jl777c#5810";"24-Oct-18 10:24 AM";"but you can definitely get yourself in trouble with this one";"";"";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 10:40 AM";"yes, it should be used directly after starting daemon... thats why I made it not able to set if a pubkey has been set already.";"";"";
"347922216429813760";"grewalsatinder#9653";"24-Oct-18 12:05 PM";"@blackjok3r very cool to see that PR of yours mate! üòé üëè
Good work!";"";"üëç (1)";
"232679450301431808";"blackjok3r#3181";"24-Oct-18 12:07 PM";"Yeah it seems useful... It started as a request for Alright on his CHAT app... and I figured being able to set it after creating an address was needed, everything I tried to make so far was just made hard because you cant do that... Spent a bit long on it, hope it proves useful.";"";"";
