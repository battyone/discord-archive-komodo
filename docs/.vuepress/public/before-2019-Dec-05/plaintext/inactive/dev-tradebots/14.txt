==============================================================
Guild: Komodo
Channel: dev-tradebots
Topic: Linked with 'KMD-Tradebots' on Matrix
Messages: 100
Range: before 05-Dec-19 12:00 AM
==============================================================

[05-Jul-18 10:50 PM] cipi#4502
@pbca26  @lukechilds installed electrum servers for GoByte (GBX): https://github.com/jl777/coins/pull/106

{Embed}
https://github.com/jl777/coins/pull/106
add GBX electrum by cipig · Pull Request #106 · jl777/coins
https://avatars0.githubusercontent.com/u/32116761?s=400&v=4

{Reactions}
👍 

[06-Jul-18 01:58 AM] cipi#4502
found 4 working electrums for SMART:  https://github.com/jl777/coins/pull/106/commits/ffc69b9546652cfb4dfbdb850b53d9a4036d59f6

{Embed}
https://github.com/jl777/coins/pull/106/commits/ffc69b9546652cfb4dfbdb850b53d9a4036d59f6
add electrums for GBX, SMART by cipig · Pull Request #106 · jl77...
https://avatars0.githubusercontent.com/u/32116761?s=400&v=4

[06-Jul-18 05:46 AM] cipi#4502
added electrums for FTC, POLIS, XMCC, XZC: https://github.com/jl777/coins/commit/193152f90ec76f21d30b9c30894b033c89a0207c

{Embed}
https://github.com/jl777/coins/commit/193152f90ec76f21d30b9c30894b033c89a0207c
add electrums for FTC, POLIS, XMCC, XZC · jl777/coins@193152f
https://avatars2.githubusercontent.com/u/32116761?s=200&v=4

[06-Jul-18 05:55 AM] ComputerGenie#2331
Do we not have ZEN out of spite or something?

[06-Jul-18 06:17 AM] blackjok3r#3181
ZEN is incompatible with the protocol. they broke something or other along the line.

[06-Jul-18 06:18 AM] ComputerGenie#2331
😖

[06-Jul-18 06:28 AM] cipi#4502
and STAK: https://github.com/jl777/coins/pull/106/commits/7e97fb7e1e05c72fc72d4ce62ac7fd83eec191d6 @pbca26 @lukechilds

{Embed}
https://github.com/jl777/coins/pull/106/commits/7e97fb7e1e05c72fc72d4ce62ac7fd83eec191d6
add electrums for GBX, SMART, FTC, POLIS, XMCC, XZC, STAK by cipig...
https://avatars0.githubusercontent.com/u/32116761?s=400&v=4

[06-Jul-18 07:28 AM] jorian#4555
```missing field.(gtc) add to MM_fields[]
missing field.(fill) add to MM_fields[]
missing field.(gtc) add to MM_fields[]```

[06-Jul-18 07:28 AM] jorian#4555
i'm a bob. where do i put those?

[06-Jul-18 07:31 AM] jorian#4555
apparently nowhere. i need to get used to discord history not being gone for 3+ days

[06-Jul-18 07:41 AM] jorian#4555
my bob won't get to connect anymore

[06-Jul-18 07:41 AM] jorian#4555
trying to sell some chips

[06-Jul-18 07:41 AM] jorian#4555
```2453 uuid.b82576069b9f06de1e0067094ecccccc M.0 g.1 f.1      request CHIPS/KMD   100.00092185 ->  13.86273504 ( 0.13862621) | RT.2 17282 n0
bob dbdb12297127795d08d3a5a856aecc87fa346e1d6c14b58c8ad88dcb9f88ce21 received REQUEST.(b82576069b9f06de1e0067094ecccccc) mpnet.0 fill.1 gtc.1
2480116801454800896 >>>>>>> myprice 0.13800000 qprice 0.13862621 r.38 range 0.00062621 -> 0.13823796, bestprice 0.13823796 counter.-1
priceiter.0 voliter.0 price 0.13823796 vol 13.86273504
CHIPS/KMD i.0 j.0 qprice 0.13862621 myprice 0.13800000 price 0.13823796 [0.13823741]
2454 uuid.b82576069b9f06de1e0067094ecccccc M.0 g.1 f.1     reserved CHIPS/KMD   100.28218108 ->  13.86273504 ( 0.13823741) | RT.2 17282 n0
AUTOPRICE numautorefs.1```

[06-Jul-18 07:42 AM] jorian#4555
stops there, no connect

[06-Jul-18 07:45 AM] jorian#4555
i think my bob is getting old. gonna try a fresh bob

[06-Jul-18 08:21 AM] jorian#4555
i even think that in the above case, it is alice that is bad

[06-Jul-18 08:32 AM] jorian#4555
```LP_rawtx_spendscript bobpayment datalen.5970 too big
error validating bobpayment
error waiting for bobpayment```

[06-Jul-18 08:38 AM] jl777c#5810
something is wrong

[06-Jul-18 09:16 AM] jorian#4555
i guess

[06-Jul-18 09:17 AM] jl777c#5810
datalen 5970 means a totally bogus redeemscript was sent

[06-Jul-18 09:17 AM] jl777c#5810
this appears to be total networking confusion or mismatched version or modified bob

[06-Jul-18 12:24 PM] cipi#4502
added electrum for MAC: https://github.com/jl777/coins/pull/107

{Embed}
https://github.com/jl777/coins/pull/107
add electrum for MAC by cipig · Pull Request #107 · jl777/coins
https://avatars0.githubusercontent.com/u/32116761?s=400&v=4

[06-Jul-18 10:27 PM] cipi#4502
@pbca26 @lukechilds electrum for ARG is back: https://github.com/jl777/coins/pull/108

{Embed}
https://github.com/jl777/coins/pull/108
add ARG electrum by cipig · Pull Request #108 · jl777/coins
https://avatars0.githubusercontent.com/u/32116761?s=400&v=4

{Reactions}
🍾 

[07-Jul-18 03:27 AM] PTYX#6840
We should add tezos to the dex

[07-Jul-18 03:27 AM] PTYX#6840
It's important to make a connection with them and get a head start on other DEXes

[07-Jul-18 03:30 AM] PTYX#6840
@lukechilds and pondsea

[07-Jul-18 06:14 AM] lukechilds#2707
Is it BTC protocol or ERC20?

[07-Jul-18 07:49 AM] jorian#4555
pretty sure it's ERC20

[07-Jul-18 07:49 AM] jorian#4555
@cipi should add it first

[07-Jul-18 07:49 AM] jorian#4555
XTZ is their ticker

[07-Jul-18 07:50 AM] jorian#4555
though i'm not too sure, because tezos is a ETH competitor

[07-Jul-18 08:20 AM] pbca26#5430
very good @cipi 
keep them coming

[07-Jul-18 02:18 PM] cipi#4502
i had a look at the source from https://gitlab.com/tezos/tezos and the API docu https://tezos.gitlab.io/master/api/rpc.html ... Tezos does not have a bitcoin-RPC-API, so it will not work with BarterDEX

{Embed}
https://gitlab.com/tezos/tezos
Tezos / tezos
GitLab.com
https://gitlab.com/uploads/-/system/project/avatar/3836952/latin_small_letter_tz.png

[07-Jul-18 02:53 PM] PTYX#6840
😐

[07-Jul-18 02:53 PM] PTYX#6840
T-tomic?

[07-Jul-18 02:53 PM] PTYX#6840
Tezomic

[07-Jul-18 07:03 PM] dukeleto#7326
@cipi can you confirm for me if these ports for ZILLA in coins repo are correct? https://github.com/jl777/coins/blob/master/electrums/ZILLA

{Embed}
https://github.com/jl777/coins/blob/master/electrums/ZILLA
jl777/coins
coins - coin parameters and all files needed for GUI support
https://avatars2.githubusercontent.com/u/5962559?s=400&v=4

[07-Jul-18 07:06 PM] dukeleto#7326
@cipi and to clarify, i am wondering about the electrumX API port for ZILLA

[07-Jul-18 07:23 PM] cipi#4502
yes, the port is correct and electrum is running

[07-Jul-18 07:23 PM] cipi#4502
```    "daemon_height": 2324,
    "db_height": 2324,```

[07-Jul-18 08:13 PM] dukeleto#7326
@cipi i think i have confirmed the issue is on my side, all my electrum servers get marked "ineligble" and there are no servers left to connect to. Ever seen this in electrum client?

[07-Jul-18 08:23 PM] dukeleto#7326
@cipi also, do you by chance see any interesting/weird error messages in your ZILLA electrumx logs?

[07-Jul-18 08:34 PM] dukeleto#7326
@cipi i am seeing this with an electrum client trying to connect: ```[electrum1.cipig.net] SSL error retrieving SSL certificate: [SSL: UNKNOWN_PROTOCOL] unknown protocol (_ssl.c:1045)
[electrum2.cipig.net] SSL error retrieving SSL certificate: [SSL: UNKNOWN_PROTOCOL] unknown protocol (_ssl.c:1045)```

[07-Jul-18 09:05 PM] cipi#4502
the electrum servers are doing only TCP, no SSL... looks like the client is trying to do SSL

[07-Jul-18 09:06 PM] cipi#4502
not seen any errors in the electrum server logs

[07-Jul-18 09:08 PM] cipi#4502
btw, the electrum servers are talking API version 1.1 and higher, so if the client is trying to do some 1.0 API calls they will fail... what client do you use?

[07-Jul-18 09:13 PM] dukeleto#7326
@cipi https://github.com/letolabs/electrum-zilla , it's a fork of electrum master as of a yesterday or so

{Embed}
https://github.com/letolabs/electrum-zilla
letolabs/electrum-zilla
electrum-zilla - Electrum-Zilla: Thin client for ZILLA
https://avatars0.githubusercontent.com/u/648647?s=400&v=4

[07-Jul-18 09:14 PM] dukeleto#7326
@cipi it forces ssl now, it seems

[07-Jul-18 09:16 PM] dukeleto#7326
@cipi the 3.1.0 electrum release notes mention "remove ssl option from GUI"

[07-Jul-18 09:20 PM] dukeleto#7326
@cipi i disabled ssl and it successfully connected

[07-Jul-18 09:21 PM] cipi#4502
i use my fork, which is a fork of https://github.com/kyuupichan/electrumx ... are we talking about the same server?

{Embed}
https://github.com/kyuupichan/electrumx
kyuupichan/electrumx
electrumx - Alternative implementation of spesmilo/electrum-server
https://avatars2.githubusercontent.com/u/3319176?s=400&v=4

[07-Jul-18 09:21 PM] dukeleto#7326
looks like i requested some block headers from you then barfed

[07-Jul-18 09:21 PM] dukeleto#7326
@cipi i am talking about the client that talks to that server

[07-Jul-18 09:21 PM] dukeleto#7326
this is a fork of the default Electrum GUI for BTC

[07-Jul-18 09:21 PM] dukeleto#7326
it talks to electrumX servers

[07-Jul-18 09:22 PM] cipi#4502
ah ok, i see

[07-Jul-18 09:24 PM] dukeleto#7326
@cipi asking you helped anyway, so thanks 😃

[07-Jul-18 10:07 PM] tolken#2655
Was beginning to wonder if I’d ever get another non kmd assetchain Alice atomic swap to start, but looks like my first ltc/kmd finally started.

[07-Jul-18 10:10 PM] tolken#2655
fuck yea. Wish I could get a better grip on how to better diagnose when I can’t get trades initiated. Haven’t had any kmd/ltc bob trades, but at least this Alice trade should confirm my ltc is more or less configured correctly.

[07-Jul-18 10:11 PM] tolken#2655
Have been trying last few days to initiate an Alice btc/kmd, bch/kmd, ltc/kmd, this is the first to finally take.

[07-Jul-18 10:12 PM] siu - Chainmakers#3920
@PTYX tetomix for tezos :p

[07-Jul-18 10:12 PM] PTYX#6840
OMG please no

[07-Jul-18 10:12 PM] PTYX#6840
Lol

[07-Jul-18 10:12 PM] PTYX#6840
Tetomic

[07-Jul-18 10:12 PM] tolken#2655
Seems like I’m seeing plenty of bob candidates within decent maxvols to match with my UTXOs. Holding off on btc as I don’t have good matches for that, but my bch/ltc UTXOs could be large enough not to have issues with fees.

[07-Jul-18 10:12 PM] PTYX#6840
😂 😂

[07-Jul-18 10:13 PM] siu - Chainmakers#3920
😂 😂

[07-Jul-18 10:13 PM] PTYX#6840
Worst than daicos

[07-Jul-18 10:14 PM] siu - Chainmakers#3920
Lol

[07-Jul-18 10:27 PM] tolken#2655
The line “LTC/KMD I.25 j.10 qprice 59.93 myprice 50.59 price 50.49 [0.000]

[07-Jul-18 10:28 PM] tolken#2655
What does i.25 and j.10 mean? What is Qprice vs myprice, vs price?

[07-Jul-18 10:29 PM] tolken#2655
It is followed by a question “request processing selected ineligible UTXOs?”  I think I (Alice) have eligible utxos.... maybe bob doesn’t?

[08-Jul-18 05:04 AM] tolken#2655
Why is it when I’m doing an ltc/kmd Alice buy is it warning. “Address_myutxopair couldn’t find LTC (my address) targets 0.003 0.006375 priceiter.8 voliter.7 price 52.3107 vol 0.00000” ?  I’m buying with kmd, why is it worried about what LTC UTXOs I have?

[08-Jul-18 05:34 AM] tolken#2655
:/

[08-Jul-18 07:48 AM] jl777c#5810
are you 100% sure you are on the KMD side?

[08-Jul-18 01:31 PM] tolken#2655
Im issuing a “buy” using ltc/kmd which should mean I’m buying ltc, selling kmd right? @jl777c

[08-Jul-18 01:33 PM] tolken#2655
I have had one Alice buy go through successfully using this basic syntax, resulting in a deposit of LTC into my account.

[08-Jul-18 02:11 PM] tolken#2655
I guess this isn’t expected behavior?

[08-Jul-18 02:17 PM] jl777c#5810
that is correct behavior

[08-Jul-18 03:21 PM] tolken#2655
Why is it seemingly concerned with my ltc UTXOs when I’m selling kmd? Am I misunderstanding? Is it complaining about bobs UTXOs here, rather than mine?

[08-Jul-18 03:28 PM] jl777c#5810
yes it could indeed be complaining about bob

[08-Jul-18 03:28 PM] jl777c#5810
but myutxopair wouldnt be called on bob's utxos...

[08-Jul-18 03:28 PM] jl777c#5810
very strange one

[08-Jul-18 03:48 PM] tolken#2655
I’ll collect more specifics and post back.

[08-Jul-18 03:51 PM] tolken#2655
I’ve been testing with gtc and fill args, immediate output is a bit different, particularly with the full being 0 or 1. I’ll post results of both.

[08-Jul-18 04:20 PM] tolken#2655
```
#############
method : buy
base : LTC
rel : KMD
fill : 1

LP_autobuy LTC/KMD price 55.00000000 vol 1.20000000 nonce 0
added 20 of 20 from KMD listunspents
bestfit.[0] selected alice (3.00000000 0.01101796) for 1.20020000 sats 1.20050000
LP_trade mpnet.0 fill.1 gtc.0 LTC/KMD 0.02382199 vol 1.20010000 dest.(0000000000000000000000000000000000000000000000000000000000000000) maxprice 55.05500000 etomicdest.() uuid.00e4b50c541bf6483858e9f3ab0816c2818924f748caa9417f1ae0b20ddc1d92 fill.1 gtc.0
>>>>>>>>. 1st refht KMD 18d5d5e78e5008a34fbde65c6aa010d6523136580c511489abf2a24b13b9696d <- 912187, scan 912224 912429
missing field.(maxprice) add to MM_fields[]
missing field.(fill) add to MM_fields[]
>>>>>>>>. 1st refht BCH 5ae86b911d8288455a3220e63014007c6b9076c37386f1e7f3d75794d6a0744c <- 538063, scan 0 0
>>>>>>>>. 1st refht KMD 19b65e3d237f416d002212ce29a615972bd0388590c5df8da9a5c41fca17d641 <- 912173, scan 912187 912188
                 command_rpcloop elapsed    3629.03 millis > threshold    2500.00, ave      21.42 millis, count.567762 postprice

560  uuid.818924f748caa9417f1ae0b20ddc1d92 M.0 g.0 f.1      request   LTC/KMD     0.02382199 ->   1.20010000 (52.58524782) | RT.7 5677 n0
bob 6f0eec50230f0f8614a85a72aaded7685e22def24ac42602ef7099484510d07a received REQUEST.(818924f748caa9417f1ae0b20ddc1d92) mpnet.0 fill.1 gtc.0
8284438651605221377 >>>>>>> myprice 52.13391144 qprice 52.58524782 r.74 range 0.45133639 -> 52.46790036, bestprice 52.46790036 counter.-1
priceiter.0 voliter.0 price 52.46790036 vol 1.20010000
address_myutxopair couldnt find LTC LMoqCuYMyfZP9bRPux1e6UfaxoJT6Rrcj6 targets 0.02787303 0.03435708
i.0 cant find utxopair aliceid.8284438651605221377 LTC/KMD 0.02487303 -> relvol 1.20010000 txfee 0.00100000
```

[08-Jul-18 04:20 PM] tolken#2655
```
#############
method : buy
base : LTC
rel : KMD
fill : 0

LP_autobuy LTC/KMD price 55.00000000 vol 1.20000000 nonce 0
added 20 of 20 from KMD listunspents
bestfit.[0] selected alice (3.00000000 0.01101796) for 1.20020000 sats 1.20050000
missing field.(maxprice) add to MM_fields[]
LP_trade mpnet.0 fill.0 gtc.0 LTC/KMD 0.02382199 vol 1.20010000 dest.(0000000000000000000000000000000000000000000000000000000000000000) maxprice 55.05500000 etomicdest.() uuid.0214e4f5d7304f8787ac27f7cd79bc03a26871a14e4640b146d35ea3cdacefdd fill.0 gtc.0
                 command_rpcloop elapsed    6876.30 millis > threshold    2500.00, ave      21.50 millis, count.573497 postprice

727  uuid.a26871a14e4640b146d35ea3cdacefdd M.0 g.0 f.0      request   LTC/KMD     0.02382199 ->   1.20010000 (52.58524782) | RT.7 5677 n0
bob 6f0eec50230f0f8614a85a72aaded7685e22def24ac42602ef7099484510d07a received REQUEST.(a26871a14e4640b146d35ea3cdacefdd) mpnet.0 fill.0 gtc.0
8284438651605221377 >>>>>>> myprice 52.14214828 qprice 52.58524782 r.44 range 0.44309955 -> 52.33711208, bestprice 52.33711208 counter.-1
priceiter.0 voliter.0 price 52.33711208 vol 1.20010000
address_myutxopair couldnt find LTC LMoqCuYMyfZP9bRPux1e6UfaxoJT6Rrcj6 targets 0.02793019 0.03442143
priceiter.0 voliter.1 price 52.33711208 vol 0.80006666
reset price <- qprice 52.58524782
priceiter.1 voliter.0 price 52.58524782 vol 0.80006666
LTC/KMD i.1 j.0 qprice 52.58524782 myprice 52.14214828 price 52.58524782 [41.63836760]
```

[08-Jul-18 04:22 PM] tolken#2655
rcj6 address is my ltc address.

[08-Jul-18 04:34 PM] tolken#2655
I see in my DB dir I have a rather populated GTC (more than I anticipated) file, gunna try purging that and see how that affects things.

[08-Jul-18 04:41 PM] tolken#2655
More or less the same result after purging gtc

[08-Jul-18 04:42 PM] tolken#2655
Please let me know if any other information might help diagnose.

[08-Jul-18 05:00 PM] tolken#2655
I think whatever this is may be why I’m getting such unreliable non-assetchain swaps. I see at least 3 bobs that have adequate maxvols for me to buy LTC from,  but except for one lucky time yesterday, I keep getting the error above, never progressing beyond the request.

[08-Jul-18 05:34 PM] ComputerGenie#2331
the only "error" I see is that you don't have UTXOs to match what you're trying to swap

[08-Jul-18 05:35 PM] SHossain#0007
```
fill:0 gtc:0 <- how it behaved before, basically an immediate or cancel order
fill:1 gtc:0 is a fill or kill order
fill:1 gtc:1 is probably the thing to do for a default
fill:0 gtc:1 will stop as soon as any part of the order is done
```
and, use both fill and gtc param

[08-Jul-18 05:35 PM] SHossain#0007
not only `fill` but also `gtc`

[08-Jul-18 05:35 PM] tolken#2655
I have tried both, I don’t think that’s the issue.

[08-Jul-18 05:36 PM] SHossain#0007
also, you need UTXO, bob need UTXO and good connection with native mode

[08-Jul-18 05:36 PM] tolken#2655
@ComputerGenie the issue Is that it’s complaining about my ltc UTXOs when I’m buying with kmd. Doesn’t make much sense

[08-Jul-18 05:36 PM] tolken#2655
I have plenty of UTXOs, varied sizes

[08-Jul-18 05:37 PM] tolken#2655
They are under the maxvol of the bob

