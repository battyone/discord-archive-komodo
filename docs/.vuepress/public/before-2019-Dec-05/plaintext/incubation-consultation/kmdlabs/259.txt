==============================================================
Guild: Komodo
Channel: kmdlabs
Topic: Please read pinned messages
Messages: 100
Range: before 05-Dec-19 12:00 AM
==============================================================

[31-Jan-19 03:08 PM] Alright#0419
I'm not trying to shoot down your idea, just don't understand it fully

[31-Jan-19 03:14 PM] ComputerGenie 游놊游낖游닉#7004
My thought was "both"
especially given the "free market notarization" concept for other chains, how much of possible support have they given across the board
imo, we can't *just* look at *to* KMD, but must also count how effective we are for securing the "lower" chains as well
in short: What have you done for Labs given the opportunities that you had available?

[31-Jan-19 03:15 PM] Alright#0419
Does it account for a notary saying "no, I won't notarize that." and not being penalized for it

[31-Jan-19 03:15 PM] blackjok3r#3181
I like it... 
LABS->KMD + your idea for chains chosen to notarise

[31-Jan-19 03:16 PM] blackjok3r#3181
if you choose to notarise it... then you use Genies method

[31-Jan-19 03:16 PM] blackjok3r#3181
LABS is mandatory

[31-Jan-19 03:16 PM] Alright#0419
Yes i like that

[31-Jan-19 03:16 PM] Alright#0419
As soon as you choose to notarize a chain once

[31-Jan-19 03:17 PM] Alright#0419
You must keep notarizing or it affects you negatively

{Reactions}
游녨 

[31-Jan-19 03:18 PM] ComputerGenie 游놊游낖游닉#7004
`Does it account for a notary saying "no, I won't notarize that." and not being penalized for it`
no, because we'd be looking at the percentage of times we notarize based on the *total* number of opportunities we had *to* notarize 
if you refuse to notarize other chains (or neglect them) your percentage goes down

[31-Jan-19 03:19 PM] jl777c#5810
shouldnt notaries that agree to notarize more chains get a better ranking than those that dont do as many?

{Reactions}
游녡游낗 

[31-Jan-19 03:19 PM] jl777c#5810
assuming performance is comparable

[31-Jan-19 03:19 PM] jl777c#5810
just make several test points and test any algo with these test points to make sure it is sane

[31-Jan-19 03:20 PM] ComputerGenie 游놊游낖游닉#7004
freedom of choice comes with the penalties of not choosing the alternative, no matter what you do in life

[31-Jan-19 03:21 PM] blackjok3r#3181
The idea has to be that notaries wont just add unlimited chains just to get more numbers... so Some scale to that must be true... Dont want eveyong just never ntoarising anything... but we dont want them to need a super computer to notarise thousands of chains that do nothing just to get counts up.

[31-Jan-19 03:22 PM] jl777c#5810
not saying it should be linear

[31-Jan-19 03:22 PM] ComputerGenie 游놊游낖游닉#7004
`The idea has to be that notaries wont just add unlimited chains just to get more numbers...`
That's kinda where the "problem" comes in with NNs deciding what is/isn't a chain

[31-Jan-19 03:22 PM] jl777c#5810
but given equivalent notarization on all commitments, the notary with more commitments should get a higher rank, right?

[31-Jan-19 03:22 PM] blackjok3r#3181
Yes.. for sure.

[31-Jan-19 03:23 PM] jl777c#5810
so the hard case is what if one NN notarized 10x as many as another, but at a slightly lower efficiency

[31-Jan-19 03:23 PM] blackjok3r#3181
they are still getting paid Per Notarisatoions... so noptareising more is good...

[31-Jan-19 03:23 PM] blackjok3r#3181
If they choose not to notarise some chain, that is broken... they should not be penalised for it...

[31-Jan-19 03:24 PM] Alright#0419
We still need to weigh it towards notaries that accept to notarize more chains, yes

[31-Jan-19 03:24 PM] ComputerGenie 游놊游낖游닉#7004
if the chain is broken then __no one__ can notarize it and percentages wouldn't be affected

[31-Jan-19 03:24 PM] blackjok3r#3181
it will all come doen to cost effectivnes... who ever can noptarise the msot chains the cheapest qwill get the highest counts

[31-Jan-19 03:24 PM] blackjok3r#3181
Not nessearliy./... we are messign wioth consensus... for exacmply th NOTARYTEST chain you can print heaps of coins...

[31-Jan-19 03:25 PM] blackjok3r#3181
This should never be added to the cluster... notaries job to check these thigns

[31-Jan-19 03:25 PM] blackjok3r#3181
Not jsuty blindly add anything that comes up to get more counts/money

[31-Jan-19 03:25 PM] ComputerGenie 游놊游낖游닉#7004
in that instance is the trade-off of non-updated NNs wouldn't be notarizing the "updated" chain and *should* balance out

[31-Jan-19 03:26 PM] ComputerGenie 游놊游낖游닉#7004
I mean it's  not like we'd be condoning elongated support for chains that refuse to update anyway

[31-Jan-19 03:27 PM] blackjok3r#3181
If that happened as soon as we find it the chain can be blacklisted so you cant migrate to it. Or FROM it

[31-Jan-19 03:27 PM] Alright#0419
Joker, seems no matter what we have to gatekeep code going into the repos

[31-Jan-19 03:27 PM] Alright#0419
Not unlike any other project though

{Reactions}
游녨 

[31-Jan-19 03:28 PM] ComputerGenie 游놊游낖游닉#7004
or update consensus = consensus?

[31-Jan-19 03:29 PM] Alright#0419
It's consensus between notaries, not the the entire network

[31-Jan-19 03:30 PM] ComputerGenie 游놊游낖游닉#7004
what I mean is that say the 3 of us update to something that breaks compatibility and chains refuse to update (as do NNs), isn't that the definition of consensus rejecting the update?

[31-Jan-19 03:31 PM] Alright#0419
Min sig notaries can notarize any chain they like with any code they like.  It's a huge flaw, but we will work around it with an aspect of centralization

[31-Jan-19 03:32 PM] Alright#0419
For now that is

[31-Jan-19 03:32 PM] Alright#0419
And that aspect of centralization isn't much different from any other project.  You basically just have to trust the people with commit access and the people looking at their commits

[31-Jan-19 03:33 PM] ComputerGenie 游놊游낖游닉#7004
As much as I fault Core for their degree of centralization, I can't see where something like Labs can exist without *some level* of it

[31-Jan-19 03:33 PM] Alright#0419
Usefulness, objectiveness, fairness

{Reactions}
游녡游낗 

[31-Jan-19 03:33 PM] Alright#0419
*then* "decentralization"

[31-Jan-19 03:34 PM] ComputerGenie 游놊游낖游닉#7004
exactly why I love this whole ecosystem, it's as close to decentralized as one can get without chaos

[31-Jan-19 07:33 PM] blackjok3r#3181
Seem to have got this working finally... Its rotating though 2 files and increaseing size as expected, if I make one file return false  on the check for clearing. 游땏

[31-Jan-19 07:33 PM] blackjok3r#3181
shit its 3am again... Better get some sleep. NOTARYTEST chain validation tomorrow, early look today it seems like its working fine

[31-Jan-19 08:07 PM] blackjok3r#3181
https://github.com/KMDLabs/komodo/commit/cce73b01a767aed3d4cb31757e6c1d0863433940
Without an attack or a simulated attack I cant take this any further. @Alright

{Embed}
https://github.com/KMDLabs/komodo/commit/cce73b01a767aed3d4cb31757e6c1d0863433940
new tempfile rotation. 췅 KMDLabs/komodo@cce73b0
https://avatars1.githubusercontent.com/u/30971146?s=200&v=4

[31-Jan-19 08:13 PM] blackjok3r#3181
Its automatically reclaiming allocated disk space during runtime... As long as we can detect that orphaned blocks are notarised as orphans... We should also be able to clear index... But to test this I will need blocks that fail ConnectBlock but pass everything else.

[31-Jan-19 08:16 PM] blackjok3r#3181
Using this method it no longer seems nessesary to limit this code to only ac_staked chains, it whould work for all chains with no issue... Uses max 32MB extra disk space unless it is under attack..

[31-Jan-19 08:17 PM] blackjok3r#3181
As soon as the attack is over, the balooned file is deleted.

[31-Jan-19 08:53 PM] ca333#0118
here is anyone running a zcash node/daemon?

[31-Jan-19 08:54 PM] jl777c#5810
cipi likely does

[31-Jan-19 08:54 PM] ComputerGenie 游놊游낖游닉#7004
_is currently not_

[31-Jan-19 08:54 PM] ca333#0118
thanks - pinging him

[31-Jan-19 08:55 PM] Jolly#5357
@ca333 i do sometimes, mines almost fully synced. whats up?

[31-Jan-19 08:55 PM] ca333#0118
can you please post me a full output of `getblockchaininfo` gist.github.com preferably

[31-Jan-19 08:55 PM] ca333#0118
doesnt have to be fully synced

[31-Jan-19 08:56 PM] Jolly#5357
yeah give me a few

{Reactions}
游녨 

[31-Jan-19 08:56 PM] Jolly#5357
tfw you cant remember what project's discord you are in or what its about....

[31-Jan-19 09:08 PM] Jolly#5357
dmed

[31-Jan-19 09:13 PM] ca333#0118
thanks!

[31-Jan-19 09:23 PM] Deleted User#0000
@ca333  yeah

[31-Jan-19 09:24 PM] Deleted User#0000
full node

[31-Jan-19 09:26 PM] Deleted User#0000
in case ^^

[31-Jan-19 09:48 PM] ComputerGenie 游놊游낖游닉#7004
@blackjok3r What constitutes a "priority" in the debug prints?
I know labs build is not really "meant" to be on komodo chains, but I get prints like
`2019-01-31 21:43:07 priority 1474125482.7 fee 0.00015432 KMD/kB txid 06591b456c907b40d23337a37342b12913f7c10a2174910c135c4fe7ea0cef99`
and I'm curious as to what makes
http://our.explorer.dexstats.info/tx/06591b456c907b40d23337a37342b12913f7c10a2174910c135c4fe7ea0cef99
a "priority"

[31-Jan-19 09:49 PM] jl777c#5810
probably high txfee

[31-Jan-19 09:50 PM] ComputerGenie 游놊游낖游닉#7004
Fee: 0.00005 <- according to the explorer

[31-Jan-19 09:51 PM] jl777c#5810
txfee/KB

[31-Jan-19 09:52 PM] ComputerGenie 游놊游낖游닉#7004
ahhh, maybe

[01-Feb-19 12:22 AM] Alright#0419
lol welcome to KMDLabs @Jolly

[01-Feb-19 12:23 AM] Alright#0419
@blackjok3r I'll be honest, I have no idea how to hold back a block then stake/broadcast blocks on top of it

[01-Feb-19 12:23 AM] Alright#0419
I tried picking at the code itself then moved onto trying to packet sniff the initial broadcast, but I can't get this to work properly

[01-Feb-19 12:24 AM] Alright#0419
Hmm, just got an idea as I type that out though

[01-Feb-19 12:26 AM] Alright#0419
@ComputerGenie 游놊游낖游닉 what is particularly interesting about that OUR tx

[01-Feb-19 01:36 AM] ComputerGenie 游놊游낖游닉#7004
@Alright that the daemon flooded my debug.log with telling me that it was a "priority"

[01-Feb-19 02:31 AM] ComputerGenie 游놊游낖游닉#7004
```JSON
mismatched txid.0000000000000000000000000000000000000000000000000000000000000000 vs {"result":null,"error":{"code":-26,"message":"16: mandatory-script-verify-flag-failed (Script evaluated without error but finished with a false/empty top stack element)"},"id":"jl777"}```
any ideas why I keep getting those on NN?

[01-Feb-19 02:47 AM] blackjok3r#3181
No haven't seen that error for a very long time

[01-Feb-19 02:48 AM] blackjok3r#3181
Priority genie... Is a log print normally disabled

[01-Feb-19 02:49 AM] ComputerGenie 游놊游낖游닉#7004
`No haven't seen that error for a very long time`
stop and start seems to have righted it, so I figured I'd ask because that's the 1st Ive seen it and I had like 20 across 3-4 chainsin about 2 hrs

{Reactions}
游뱂 

[01-Feb-19 02:49 AM] blackjok3r#3181
I enabled it by default on latest as for notarytest to get the notarisation to be the first tx on a block, so I k ow where it is, I used the priority... By setting a notarization at max and then anything else that is max to just under max it should mean that notarizations are always the first tx... Because it will only add one per block.

{Reactions}
游녨游낗 

[01-Feb-19 02:50 AM] blackjok3r#3181
As a miner I thought you of all people should know what that print was lol

[01-Feb-19 02:51 AM] blackjok3r#3181
I don't even understand how it pulls those numbers out of it's ass,something to do with the fee but therea ore to it than that it seema

[01-Feb-19 02:53 AM] ComputerGenie 游놊游낖游닉#7004
Other than a few tests we've done, it's been a long time since I mined any chains that actually had to care about weight of txes and I knew about jack shit back then

[01-Feb-19 02:54 AM] blackjok3r#3181
Ahh OK no worries... I do need ppl to try and break that BTW, just jot yet... As nothing is validated and it will just let u do it...

[01-Feb-19 02:54 AM] blackjok3r#3181
But say of a.miner creates a block where the notarization is not tx 1... His own chain should never be able to accept it

[01-Feb-19 02:54 AM] blackjok3r#3181
And it should never propagate

[01-Feb-19 02:55 AM] blackjok3r#3181
If he manages to do that, no nodes should accept this block and the notarization should be sent back to the mempool...

[01-Feb-19 02:55 AM] ComputerGenie 游놊游낖游닉#7004
`But say of a.miner creates a block where the notarization is not tx 1... His own chain should never be able to accept it`
I think if you try to enforce that, you might break some shit

[01-Feb-19 02:56 AM] ComputerGenie 游놊游낖游닉#7004
not to mention the added computational requirements

[01-Feb-19 02:57 AM] blackjok3r#3181
I think I got a way of doing it... The notary pay chains rely of this... It has to be number 1
.. The mi er always takes the highest priority tz off the list and Addis it first, so as long as there is only 1 notarization, and nothing else is max priority, ztxns are set at max apparently but in my couple of tests they were not set to it.

[01-Feb-19 02:59 AM] blackjok3r#3181
Well its always doing these calculations already... I think it's fast enough, but it might need a stratum run on my old server then get blasted with a bunch of varying fee tx to test that...

[01-Feb-19 03:00 AM] ComputerGenie 游놊游낖游닉#7004
`Well its always doing these calculations already...`
it's already checking to see what position the notarization is in the block and dumping it if not tx1?

[01-Feb-19 03:01 AM] blackjok3r#3181
Ah no... But it does loop over every tx in a block until it finds a notarization so for these chains you can break the loop at tx 1

[01-Feb-19 03:01 AM] blackjok3r#3181
Or should be many times faster

[01-Feb-19 03:02 AM] blackjok3r#3181
Currently not breaking the loop... Not sure how beat to so it yet.

[01-Feb-19 03:02 AM] ComputerGenie 游놊游낖游닉#7004
I'm not saying it will not work (or that it's a bad idea), just be mindful that what works on 1, 2, or 5 chains may hiccup when we hit 10, 50, 100, or 500

[01-Feb-19 03:04 AM] blackjok3r#3181
Agreed... Its just an idea and a test... I hopt it works as the other way to do it becomes much harder to create... This is actually a very simple solution to the issue really... Didn't take long to get it to work.

[01-Feb-19 03:05 AM] ComputerGenie 游놊游낖游닉#7004
and be mindful that some lazy dick has to write public pool code because no one can ever find the link to yours :troll:

[01-Feb-19 03:05 AM] blackjok3r#3181
Hahaha I think mine should be linked in the assetchain doc

[01-Feb-19 03:06 AM] Alright#0419
it is

[01-Feb-19 03:06 AM] ComputerGenie 游놊游낖游닉#7004
at least until my nightmare is something manageable 游땥

