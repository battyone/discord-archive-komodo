AuthorID;Author;Date;Content;Attachments;Reactions;
"455741312273219595";"jl777c#5810";"06-Mar-19 02:26 PM";"@wookie when you do the bailout is it showing the correct gold/items?";"";"";
"334026025103130624";"wookie#7663";"06-Mar-19 02:30 PM";"No, I'm those recent games I only got 20-30% of what I ended the game with. items that I picked up later were noticeably not there. Interesting thing was that I noticed that an armor I dropped later in the game remained with me when I reused the warrior";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 02:31 PM";"if the keystrokes did not get recorded, it is as if those keystrokes never happened";"";"";
"334026025103130624";"wookie#7663";"06-Mar-19 02:31 PM";"Also, now that you mention it, it seems some games my I can carry more stuff in the pack but some games less.";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 02:31 PM";"depends on strength";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 02:32 PM";"@jl777c thank you for your work. it couldn't be easy.";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 02:33 PM";"i had to learn far more about rogue internals than i wanted to";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 02:34 PM";"my guess is other such bugs exist that cause non-deterministic replays";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 02:35 PM";"but it would be on rare events";"";"awthanks (1),pirate (1)";
"334026025103130624";"wookie#7663";"06-Mar-19 02:36 PM";"Thanks @jl777c";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 03:24 PM";"1  3513 : quit on level 16.
Game txid: 466d6514ccea7da33932afd4ef1b13228b493a39e554e384869333d9442454d5
Information about game saved on chain: $$$gold.2329 hp.59 strength.16/16 level.10 exp.2872 dl.12
Bailout txid: d33b65a64dcd96317aaeeb52195975ab704ac0de302d5de6fe61432617187e96
I updated the lastest jl777";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 03:48 PM";"found a horrible keystrokes updating bug, fixing";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 03:49 PM";"it could be the answer about all these replay discrepancies!";"";"üî• (3),ü¶é (1)";
"412323938782150658";"SHossain#0007";"06-Mar-19 04:03 PM";"";"https://cdn.discordapp.com/attachments/542758401516634112/552884083521224704/Screenshot_from_2019-03-06_16-03-39.png";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 04:04 PM";"suddenly in the beginnign of 2nd level the TUI started printing this. using jl777 branch for komodo and rogue branch for TUI";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 04:20 PM";"I think TUI master branch";"";"üëçüèΩ (1)";
"361480872291074068";"ronyi#5719";"06-Mar-19 04:39 PM";"Lastest jl777(commit 1bf8f353866daab692b5ccf1aaa63b61aa65c724) and  lastest TUI:
https://imgur.com/a/93HKcRU";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:40 PM";"i just pushed a version that might work much better with keystrokes";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:41 PM";"havent been able to verify it yet as i need to survive 3 levels";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:41 PM";"you can look at rogue.sendlog for useful info";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 04:42 PM";"{""result"":null,""error"":{""code"":-27,""message"":""transaction already in block chain""},""id"":""jl777""}";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:42 PM";"yes, that is good";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:43 PM";"sometimes it will print txid";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:43 PM";"as long as it is adding an entry with each level and no crashes, maybe it is more reliable";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 04:43 PM";"Okay, thanks.";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:43 PM";"let me know as soon as you get to level 5 or more";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 04:44 PM";"Okay, i started a new game.";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 04:50 PM";"Again: https://imgur.com/a/qaF0nno
Gametid: 89750d833118445a6b725ab3caca2aff14469f8d76ea8e2cc05be381e8c4863b
Bailout: 119d87121ef5a7dbbd1e217ee62eff0e0908cb62d788ad1981211b5cbb37953f";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:52 PM";"and did things match?";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 04:53 PM";"Just starting the lvl4 and game auto bailout.";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:53 PM";"auto bailout?\";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:53 PM";"that seems a new TUI feature";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 04:54 PM";"I updated TUI ~3 days ago, maybe 2, but not now.";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:57 PM";"maybe update to latest?";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 04:57 PM";"Already up-to-date.";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 04:58 PM";"so far, my test is showing good results, but i am not able to get to the deeper levels";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 04:58 PM";"compiling latest jl777 branch now";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 04:59 PM";"will also use master branch TUI";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:02 PM";"the new logic checks to see if the prior keystrokes tx is unconfirmed. if it is, then it broadcasts it again. and doesnt save keystrokes until next time";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:03 PM";"the edge cases are at the beginning, the registration needs to be confirmed before the first keystrokes and at the end, the last one or two keystrokes needs to confirm before extract";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:03 PM";"i think if those two edge cases are handled, then we might have reliable replays";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:06 PM";"I started a new game with new warrior and no problem under lvl3, but in lvl4 immediately frozed my warrior.";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:06 PM";"what is the last in rogue.sendlog";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:07 PM";"and last of keystrokes.log";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:07 PM";"{""result"":""2f177b1f8a448c3417ed3b8317e1e4aa6281a2cce2e0e69c8e4f65f5834d7d14"",""error"":null,""id"":""jl777""}";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:10 PM";"https://pastebin.com/1hcWFhE3";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:15 PM";"froze warrier was for long time? CPU usage?";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:19 PM";"https://imgur.com/a/VHXfVaD";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:21 PM";"https://drive.google.com/open?id=1YH-OEeDlbBPr6l9hjdu4jYVdFjjXxLvs Just little movie.";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:23 PM";"https://pastebin.com/eWKeN2Tv";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:26 PM";"is good?";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:29 PM";"No. This clip: new warrior and i go higher than lvl3, game stoped. With old warrior if i go lvl4 immediately bailout.";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:29 PM";"Now trying without TUI.";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:43 PM";"https://imgur.com/a/7xokO7g without TUI";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:44 PM";"@ronyi start with `gdb` and try to get the backtrace if possible please";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:44 PM";"I never used gdb, pls some instruction üòÑ";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:45 PM";"just a sec";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:45 PM";"https://github.com/KomodoPlatform/komodo/wiki/Debug-Komodo";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:45 PM";"basically";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:46 PM";"```
sudo apt-get install gdb
gdb -args ./komodod -ac_name=ROGUE -ac_supply=1000000 -pubkey=<yourpubkey> -addnode=5.9.102.210  -ac_cclib=rogue -ac_perc=10000000 -ac_reward=100000000 -ac_cc=60001 -ac_script=2ea22c80203d1579313abe7d8ea85f48c65ea66fc512c878c0d0e6f6d54036669de940febf8103120c008203000401cc -daemon
```
once it loads, type `run` and hit enter";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:46 PM";"My komodo daemon not crashed";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:46 PM";"daemon running?";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:46 PM";"Yes";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:47 PM";"ok. maybe you can try running the game start like this to backtrace the `rogue` crash
```
gdb -args cc/rogue/rogue 3767108440867690538 09d702b9bf678ee9d4efc29354566b4453e2e4ebdf7bac3496e667e8d435fe70
```";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:48 PM";"try without TUI, the strange things at level 4 is strange";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:48 PM";"he tried without TUI and  i guess rogue crashed";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:49 PM";"that is the rogue dapp that is crashed";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:49 PM";"gdb -args cc/rogue/rogue <seed> <gametxid>";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:50 PM";"backtrace after crash";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:51 PM";"https://imgur.com/a/HLcAr7B";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:51 PM";"run";"";"rum (1)";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:51 PM";"need run to start it";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 05:51 PM";"(gdb) run
Starting program: /root/komodo/src/cc/rogue/rogue 3767108440867690538 09d702b9bf678ee9d4efc29354566b4453e2e4ebdf7bac3496e667e8d435fe70
[Thread debugging using libthread_db enabled]
Using host libthread_db library ""/lib/x86_64-linux-gnu/libthread_db.so.1"".
ASSETCHAINS_SYMBOL.(ROGUE) port.38427 (user2887243914:passf111d832557214b58325741a2c59b14240f9d94221164d228e2b4fd6ed4bedad1b) IPADDRESS.127.0.0.1 
setplayerdata
invalid gametxid, or already started
[Inferior 1 (process 4213) exited with code 0377]";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:51 PM";"oh, you used the example i posted";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 05:51 PM";"oh, yes, needs a fresh game";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:54 PM";"if the dapp crashes again after running a new game, type `backtrace` and hit enter, that should display some data which you can post here.";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:58 PM";"i'm trying to jump levels fast, but getting killed :abusedsmily:";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 05:59 PM";"highest i've to is 3";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 06:08 PM";"#0  0x00007ffff73c281c in __GI__IO_fflush (fp=0x79f480) at iofflush.c:40
#1  0x000000000040892e in rogue_sendrawtransaction (rawtx=<optimized out>) at main.c:727
#2  0x0000000000408a3a in rogue_progress (rs=rs@entry=0x721680 <globalR>, waitflag=waitflag@entry=0, seed=<optimized out>, 
    keystrokes=keystrokes@entry=0x721b90 <globalR+1296> ""hlkkkkkkkhhhhhhhkkkhkfl "", 'l' <repeats 11 times>, ""kkkhhhhhhhhhhkkkkllllljhhhhhjjjjll fl llllllllljhj"", 'h' <repeats 24 times>, ""jjlllllhhshslshlshslhslhslhlshlshslhslslhslshhslhslhslshlshlhslhllkllllllllleaj"", 'l' <repeats 12 times>..., num=293) at main.c:756
#3  0x000000000040f6f4 in flushkeystrokes (rs=rs@entry=0x721680 <globalR>, waitflag=waitflag@entry=0) at rogue.c:178
#4  0x000000000040fd19 in playit (rs=rs@entry=0x721680 <globalR>) at rogue.c:581
#5  0x0000000000410047 in rogueiterate (rs=rs@entry=0x721680 <globalR>) at rogue.c:112
#6  0x000000000041043e in rogue (argc=argc@entry=3, argv=argv@entry=0x7fffffffe618, envp=envp@entry=0x7fffffffe638) at rogue.c:430
#7  0x0000000000402c45 in main (argc=3, argv=0x7fffffffe618, envp=0x7fffffffe638) at main.c:938";"";"üíØ (1)";
"361480872291074068";"ronyi#5719";"06-Mar-19 06:09 PM";"https://imgur.com/a/qFi6ZXJ";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 06:10 PM";"pushed fix";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 06:16 PM";"Building";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 06:48 PM";"Hmm: after lvl 3 my node message (when arrived lvl4): 
(Testelek) found baton ac17511f3fd7af2fe051c03eecc029c246eacb084819e34d654adf44f37e763a numkeys.1068 seed.1234781139420944381 playerdata.604
FinalizeCCTx couldnt find 0000000000000000000000000000000000000000000000000000000000000000
FinalizeCCTx couldnt find 0000000000000000000000000000000000000000000000000000000000000000
Game txid: f787a61416aab1dd365141ecdf434ad7ad703c1ef11f679f2d20807aab5440f9
Information about game saved on chain: $$$gold.167 hp.31 strength.16/16 level.4 exp.51 dl.3
Bailout txid: dd88cc26374f6e59b78960efdcad2f10995ad35a989e07c90f1d69bf9f831f82
i think somethings not good, i quit on lvl4.";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 06:55 PM";"at least it doesnt crash on level 4 now. hopefully you can get to deeper levels not finding 00000000...0000000 seems a missing baton issue, which if confirmed should fix things, strange it found baton but ends up with 0000 txid";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 06:56 PM";"Create new game and i trying quit on lvl5.";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 07:11 PM";"This game is worked good. Quit on lvl6.";"";"";
"455741312273219595";"jl777c#5810";"06-Mar-19 07:15 PM";"good news! hopefully now it will work for longer games, only worry i have is the first and last ones and the TUI needs to be waiting for those";"";"";
"361480872291074068";"ronyi#5719";"06-Mar-19 07:17 PM";"I make more test tomorrow.";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 07:55 PM";"quit on dungeon level 10";"";"";
"412323938782150658";"SHossain#0007";"06-Mar-19 07:55 PM";"bailout worked fine";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 12:24 AM";"Hmm TUI don't have any control over rogue process (it continue to work only when rogue process finishing) - so if you proceeded to bailout it means that rogue crashed/quited.
Tesitng new komodod with TUI üëç  Seems updates are promising üòÉ";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 12:26 AM";"```the edge cases are at the beginning, the registration needs to be confirmed before the first keystrokes and at the end, the last one or two keystrokes needs to confirm before extract
i think if those two edge cases are handled, then we might have reliable replays
```
At the moment in TUI game starting only after registration is confirmed, At the end it's waiting just for one block for default but user can wait as many blocks as he want if `extract` result not satisfy him";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 01:11 AM";"```
Top Ten Scores:
   Score Name
 1   557 : quit on level 6.
```
```Current game state:
Game txid: 047e3313b3609f34f7bf385f0d8aea6b97458fac0c1711395ad3a76d65ed0ddf
Information about game saved on chain: $$$gold.466 hp.34 strength.16/16 level.4 exp.48 dl.6
```
So far so good";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 01:11 AM";"```extracted $$$gold.466 -> 0.13029360 ROGUE hp.34 strength.16/16 level.4 exp.48 dl.6 n.1 amulet.0
FinalizeCCTx couldnt find 0000000000000000000000000000000000000000000000000000000000000000
FinalizeCCTx couldnt find 0000000000000000000000000000000000000000000000000000000000000000
```
Hmm on bailout call got these prints from daemon";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 01:14 AM";"https://paste.ubuntu.com/p/4kQjnDPkCb/ and received info incl bailout txid like all is ok - but this `txid': '93d9547d3bc7023be2136d0842cfaecab0099c4bdc65bbcdd87fc27780ae2299'` txid not on blockchain";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 01:19 AM";"So maybe even extract looks fine have to wait more";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 01:23 AM";"Rebroadcasted bailout for same game a little bit later:
```(TonyL) found baton 117e2378a3f4dbe47a3ac81daa018cab6de615bacb752df03cdd6f441760fd71 numkeys.1874 seed.2139495316301712247 playerdata.0

extracted $$$gold.557 -> 0.18614940 ROGUE hp.34 strength.16/16 level.4 exp.48 dl.6 n.1 amulet.0
047e3313b3609f34f7bf385f0d8aea6b97458fac0c1711395ad3a76d65ed0ddf good.786 bad.142
tokentx.(c) decoded.1 ht.46350 txid.4d567e007d7a9b98394a22b264c5547e7f2b8955167d5873e0b8e4f809b0b81f 0.18614940 vs vout2 0.18614940
```";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 01:23 AM";"Prints seems better now üòÉ";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 01:24 AM";"And bailout tx reached blockchain: http://rogue.explorer.dexstats.info/tx/4d567e007d7a9b98394a22b264c5547e7f2b8955167d5873e0b8e4f809b0b81f";"";"";
"272003866906722306";"TonyL#3577";"07-Mar-19 01:25 AM";"Mempool was clean on node when broadcasted first bailout so it seems I have to wait  1+ confirmation for last keystrokes in any cases before bailout. Now got this point";"";"";
