AuthorID;Author;Date;Content;Attachments;Reactions;
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:23 AM";"wait ... maybe im getting confused here... 
When you convert burn hex to import transaction on source";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:23 AM";"it will move the entire burn tx hex into the op_return";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:23 AM";"and add a bunch of stuff...";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:24 AM";"then on KMD complete stage, maybe it stays the same size, but adds the MoMoM hash to ti, or maybe it gets bigger";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:24 AM";"so its not the opret on the burntx you need, its the createimport tx";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:25 AM";"and complete tx";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:25 AM";"I need to do burns myself right now";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:25 AM";"with the latest code we'll be using";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:25 AM";"can I do it on DIMXY3 or 4 without breaking everything";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:25 AM";"I think that might be safest, just checking nk with magic values them will merge rest of code";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:25 AM";"just need burns, not imports";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:26 AM";"As long as you dont try and import I think its fine... but dimxy did say it should be backwards compatible";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:26 AM";"did the burn OP_RETURN structure change recently?";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:27 AM";"I think it has yes... but maybe her reused the rawproof container to add the tokens, in which case it didnt";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:27 AM";"thats what it looks like, but the code changed a fair bit";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:27 AM";"ok, let's get these chains up and I'll do my best to find an absolute limit";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:28 AM";"if we can't find an absolute limit, do an arbitrary safe/sensible limit";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:28 AM";"yes. I think it should be fairly easy tow work out the maximum size create+compete import adds";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:28 AM";"for example a chain called LABSTHISISAREALLYFUCKINGLONGTICKERNAME could mess things up";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:29 AM";"so we may just have to limit things like thi";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:29 AM";"same goes for cc id";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:29 AM";"um yes the name is limited to like 32 char or something, but actaul assetchain name si 64";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:29 AM";"so you use the maximum posible size";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:29 AM";"for each variable";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:29 AM";"what is max?";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:29 AM";"I think its 32 hold on";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:29 AM";"we'll make some stupidly long tickers right now ğŸ˜‚";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:30 AM";"you dont need to its capped";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:30 AM";"CFEKDIMXYTHANKYOUJLANDDIMXYFORALLTHEHARDWORK";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:30 AM";"how long is that";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:30 AM";"ğŸ˜›";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:31 AM";"I just cant remeber where I saw it right now but the size of the assetchains ticker is limited to 65 chars.. but for the import/export stuff the limit is smaller";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:32 AM";"```    string targetSymbol = params[1].get_str();
    if (targetSymbol.size() == 0 || targetSymbol.size() > 32)
        throw runtime_error(""targetSymbol length must be >0 and <=32"");```";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:32 AM";"but we also added source.... I really dont think any of this is important";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:32 AM";"we only need to know how mauhc data is added later on...";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:32 AM";"when you create burn as long as the opret is smaller than the max plus that data";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:33 AM";"it fine... if it s over just say reduce size in some way, less vins, smaller token etc";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:33 AM";"all that matter is what is burnt can me imported...";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:33 AM";"Now the burn is a single RPC";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:33 AM";"it should be stupidly easy to limit it";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:34 AM";"take a burn tx and do crerate and compelte import on it and see how much bigger it gets";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:34 AM";"and do that over a few burns to amke sure its a cosntant size";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:34 AM";"payouts and rawproof";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:34 AM";"those dont matter";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:35 AM";"need to look at each of these";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:35 AM";"they do";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:35 AM";"why";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:35 AM";"they're in the OP_RETURN";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:35 AM";"of burns";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:35 AM";"you make the burn till the very lst step";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:35 AM";"then check the size is under limit";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:35 AM";"ğŸ¤·";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:35 AM";"if it over dont release hex to user so they cant send it";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:35 AM";"yes but I need to figure out max size of each";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:35 AM";"of each variable in burn OP_RETURN";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:35 AM";"you only need the total size";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:35 AM";"look i can do this myself if tyou need lol";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:36 AM";"how do you expect me to find out max total size without understanding the max size for each variable in it?";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:36 AM";"maybe I'm misunderstanding what I'm meant to do here >.<";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:36 AM";"I think you are";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:36 AM";"`migrate_createimporttransaction`";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:36 AM";"turns a burntxc into a import";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:36 AM";"which puts the ENTIRE burn transaction";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:36 AM";"into the OP_RETURN";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:37 AM";"then `migrate_completeimporttransaction`";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:37 AM";"may ro may not make that a little bigger again, im not sure if its filling seroed out space, or adding more data";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:37 AM";"we need to know";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:37 AM";"exactly how much data those 2 steops add .. nothing else";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:37 AM";"is payouts and proof always the same exact size?";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:38 AM";"if so, you're right";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:38 AM";"rawproof can be any size but that doesnt matter";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:38 AM";"becasue the burn tx iself can eb whatever";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:38 AM";"Ok, I understand";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:38 AM";"we can always check burn before broadcasting";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:38 AM";"yes";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:38 AM";"we just need to understand how much more is added in the import";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:39 AM";"yes";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:39 AM";"let me look for that in the code";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:39 AM";"you can send a burn that will not be a valid import";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:39 AM";"we need to prevent that";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:39 AM";"consensus rules have limits but the RPCs are ingnoreing those limits";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:40 AM";"completeimporttransaction is still the very last step, yes?";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:40 AM";"this is what produces tx for target";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:40 AM";"?";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:40 AM";"yes. it creates a tx that you send on target/";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:41 AM";"its a sign on KMD with the MoMoM hash";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:41 AM";"which is always the same size";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:41 AM";"if convert to import isnt always adding the same amount of data, then we need to figure out the maximum possible size it can add";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:42 AM";"burn tx is irrelavent in this case as long as its TOTAL size isnt too large";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:46 AM";"@dimxy does the full OP_RETURN of the tokencreate on source chain need to be included in completemigrate transaction?";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:46 AM";"seems this way at least, just trying to understand the flow of things here";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:47 AM";"@blackjok3r https://github.com/KMDLabs/komodo/blob/72a065a9a030dcaeeb0f002e137cb1e119dfe2fb/src/importcoin.cpp#L65";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:49 AM";"seems thats adding it on the creation of burn";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:49 AM";"surley it cant add token imformation to already burnt token ?";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 03:51 AM";"@dimxy the validation on token imports uses tokens eval code, is this by design? Didn't look at the token 'c' validation, but it seems to bypass validation for IMPORT eval";"";"ğŸ¤¦ (1)";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 03:52 AM";"he added another one, I think so it has 2 eval codes";"";"";
"405011811511828481";"Alright#0419";"19-Mar-19 04:03 AM";"validation for 'c' funcid in EVAL_TOKENS is ""return true"" ? ğŸ˜•";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 04:12 AM";"I dont think it should be used for anything";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 04:12 AM";"but if it is i'll change it to false ğŸ˜‰";"";"";
"232679450301431808";"blackjok3r#3181";"19-Mar-19 04:14 AM";"`bool Eval::ImportCoin(const std::vector<uint8_t> params, const CTransaction &importTx, unsigned int nIn)`";"";"";
