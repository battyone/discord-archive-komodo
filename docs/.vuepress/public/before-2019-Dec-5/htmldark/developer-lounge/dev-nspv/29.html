<!DOCTYPE html>
<html lang="en">

<head>
    <title>Komodo - dev-nspv</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <style>
        /* === GENERAL === */

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/6c6374bad0b0b6d204d8d6dc4a18d820.woff);
    font-weight: 300;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/e8acd7d9bf6207f99350ca9f9e23b168.woff);
    font-weight: 400;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/3bdef1251a424500c1b3a78dea9b7e57.woff);
    font-weight: 500;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/be0060dafb7a0e31d2a1ca17c0708636.woff);
    font-weight: 600;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/8e12fb4f14d9c4592eb8ec9f22337b04.woff);
    font-weight: 700;
}

body {
    font-family: "Whitney", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 17px;
}

a {
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

img {
    object-fit: contain;
}

.markdown {
    white-space: pre-wrap;
    line-height: 1.3;
    overflow-wrap: break-word;
}

.spoiler {
    border-radius: 3px;
}

.quote {
    border-left: 4px solid;
    border-radius: 3px;
    margin: 8px 0;
    padding-left: 10px;
}

.pre {
    font-family: "Consolas", "Courier New", Courier, monospace;
}

.pre--multiline {
    margin-top: 4px;
    padding: 8px;
    border: 2px solid;
    border-radius: 5px;
}

.pre--inline {
    padding: 2px;
    border-radius: 3px;
    font-size: 85%;
}

.mention {
    font-weight: 500;
}

.emoji {
    width: 1.45em;
    height: 1.45em;
    margin: 0 1px;
    vertical-align: -0.4em;
}

.emoji--small {
    width: 1rem;
    height: 1rem;
}

.emoji--large {
    width: 2rem;
    height: 2rem;
}

/* === INFO === */

.info {
    display: flex;
    max-width: 100%;
    margin: 0 5px 10px 5px;
}

.info__guild-icon-container {
    flex: 0;
}

.info__guild-icon {
    max-width: 88px;
    max-height: 88px;
}

.info__metadata {
    flex: 1;
    margin-left: 10px;
}

.info__guild-name {
    font-size: 1.4em;
}

.info__channel-name {
    font-size: 1.2em;
}

.info__channel-topic {
    margin-top: 2px;
}

.info__channel-message-count {
    margin-top: 2px;
}

.info__channel-date-range {
    margin-top: 2px;
}

/* === CHATLOG === */

.chatlog {
    max-width: 100%;
    margin-bottom: 24px;
}

.chatlog__message-group {
    display: flex;
    margin: 0 10px;
    padding: 15px 0;
    border-top: 1px solid;
}

.chatlog__author-avatar-container {
    flex: 0;
    width: 40px;
    height: 40px;
}

.chatlog__author-avatar {
    border-radius: 50%;
    height: 40px;
    width: 40px;
}

.chatlog__messages {
    flex: 1;
    min-width: 50%;
    margin-left: 20px;
}

.chatlog__author-name {
    font-size: 1em;
    font-weight: 500;
}

.chatlog__timestamp {
    margin-left: 5px;
    font-size: .75em;
}

.chatlog__message {
    padding: 2px 5px;
    margin-right: -5px;
    margin-left: -5px;
    background-color: transparent;
    transition: background-color 1s ease;
}

.chatlog__content {
    font-size: .9375em;
    word-wrap: break-word;
}

.chatlog__edited-timestamp {
    margin-left: 3px;
    font-size: .8em;
}

.chatlog__attachment-thumbnail {
    margin-top: 5px;
    max-width: 50%;
    max-height: 500px;
    border-radius: 3px;
}

.chatlog__embed {
    margin-top: 5px;
    display: flex;
    max-width: 520px;
}

.chatlog__embed-color-pill {
    flex-shrink: 0;
    width: 4px;
    border-top-left-radius: 3px;
    border-bottom-left-radius: 3px;
}

.chatlog__embed-content-container {
    display: flex;
    flex-direction: column;
    padding: 8px 10px;
    border: 1px solid;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
}

.chatlog__embed-content {
    width: 100%;
    display: flex;
}

.chatlog__embed-text {
    flex: 1;
}

.chatlog__embed-author {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
}

.chatlog__embed-author-icon {
    width: 20px;
    height: 20px;
    margin-right: 9px;
    border-radius: 50%;
}

.chatlog__embed-author-name {
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-title {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-description {
    font-weight: 500;
    font-size: 14px;
}

.chatlog__embed-fields {
    display: flex;
    flex-wrap: wrap;
}

.chatlog__embed-field {
    flex: 0;
    min-width: 100%;
    max-width: 506px;
    padding-top: 10px;
}

.chatlog__embed-field--inline {
    flex: 1;
    flex-basis: auto;
    min-width: 150px;
}

.chatlog__embed-field-name {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-field-value {
    font-size: .875em;
    font-weight: 500;
}

.chatlog__embed-thumbnail {
    flex: 0;
    margin-left: 20px;
    max-width: 80px;
    max-height: 80px;
    border-radius: 3px;
}

.chatlog__embed-image-container {
    margin-top: 10px;
}

.chatlog__embed-image {
    max-width: 500px;
    max-height: 400px;
    border-radius: 3px;
}

.chatlog__embed-footer {
    margin-top: 10px;
}

.chatlog__embed-footer-icon {
    margin-right: 4px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    vertical-align: middle;
}

.chatlog__embed-footer-text {
    font-weight: 500;
    font-size: .75em;
}

.chatlog__reactions {
    display: flex;
}

.chatlog__reaction {
    display: flex;
    align-items: center;
    margin: 6px 2px 2px 2px;
    padding: 3px 6px;
    border-radius: 3px;
}

.chatlog__reaction-count {
    min-width: 9px;
    margin-left: 6px;
    font-size: .875em;
}

.chatlog__bot-tag {
    margin-left: 0.3em;
    background: #7289da;
    color: #ffffff;
    font-size: 0.625em;
    padding: 1px 2px;
    border-radius: 3px;
    vertical-align: middle;
    line-height: 1.3;
    position: relative;
    top: -.2em;
}
    </style>
    <style>
        /* === GENERAL === */

body {
    background-color: #36393e;
    color: #dcddde;
}

a {
    color: #0096cf;
}

.spoiler {
    background-color: rgba(255, 255, 255, 0.1);
}

.quote {
    border-color: #4f545c;
}

.pre {
    background-color: #2f3136 !important;
}

.pre--multiline {
    border-color: #282b30 !important;
    color: #839496 !important;
}

.mention {
    color: #7289da;
}

/* === INFO === */

.info__guild-name {
    color: #ffffff;
}

.info__channel-name {
    color: #ffffff;
}

.info__channel-topic {
    color: #ffffff;
}

/* === CHATLOG === */

.chatlog__message-group {
    border-color: rgba(255, 255, 255, 0.1);
}

.chatlog__author-name {
    color: #ffffff;
}

.chatlog__timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__message--highlighted {
    background-color: rgba(114, 137, 218, 0.2) !important;
}

.chatlog__message--pinned {
    background-color: rgba(249, 168, 37, 0.05);
}

.chatlog__edited-timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__embed-content-container {
    background-color: rgba(46, 48, 54, 0.3);
    border-color: rgba(46, 48, 54, 0.6);
}

.chatlog__embed-author-name {
    color: #ffffff;
}

.chatlog__embed-author-name-link {
    color: #ffffff;
}

.chatlog__embed-title {
    color: #ffffff;
}

.chatlog__embed-description {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-field-name {
    color: #ffffff;
}

.chatlog__embed-field-value {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-footer {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__reaction {
    background-color: rgba(255, 255, 255, 0.05);
}

.chatlog__reaction-count {
    color: rgba(255, 255, 255, 0.3);
}
    </style>

    <script>
        function scrollToMessage(event, id) {
            var element = document.getElementById('message-' + id);

            if (element !== null && element !== undefined) {
                event.preventDefault();

                element.classList.add('chatlog__message--highlighted');

                window.scrollTo({
                    top: element.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (window.innerHeight / 2),
                    behavior: 'smooth'
                });

                window.setTimeout(function() {
                    element.classList.remove('chatlog__message--highlighted');
                }, 2000);
            }
        }
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.pre--multiline').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>
<body>

<div class="info">
    <div class="info__guild-icon-container">
        <img class="info__guild-icon" src="https://cdn.discordapp.com/icons/412898016371015680/a_157cb08c4198ad53b9e9b7168c930571.png" />
    </div>
    <div class="info__metadata">
        <div class="info__guild-name">Komodo</div>
        <div class="info__channel-name">dev-nspv</div>

            <div class="info__channel-topic">./komodod -nSPV=1 -ac_reward=100000000  -ac_name=NSPV -ac_supply=10000000000 -ac_cc=2 -addressindex=1 -spentindex=1 -connect=5.9.102.210 &amp;
./komodod -nSPV=1 -addnode=5.9.253.195 &amp;
https://drive.google.com/drive/folders/1ZvzrhNBQgroejTKPl0kCOTJ8h7XMnO2M?usp=sharing</div>

        <div class="info__channel-message-count">100 messages</div>

            <div class="info__channel-date-range">
                    Before 05-Dec-19 12:00 AM
            </div>
    </div>
</div>

<div class="chatlog">
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:20 AM</span>

                    <div class="chatlog__message " data-message-id="604528424081686569" id="message-604528424081686569">
                        <div class="chatlog__content">
                            <span class="markdown">this allows you to know the chain tip, and the last notarization</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604528451130490880" id="message-604528451130490880">
                        <div class="chatlog__content">
                            <span class="markdown">but not the blocks inbetween</span>

                                <span class="chatlog__edited-timestamp" title="27-Jul-19 04:20 AM">(edited)</span>
                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604528575609176074" id="message-604528575609176074">
                        <div class="chatlog__content">
                            <span class="markdown">what I needed to do was take the chain tip and validate the blockhash-&gt;prevblockhash back to the last notarization</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">27-Jul-19 04:21 AM</span>

                    <div class="chatlog__message " data-message-id="604528740315299853" id="message-604528740315299853">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m struggling to understand how that will work</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:21 AM</span>

                    <div class="chatlog__message " data-message-id="604528784372400128" id="message-604528784372400128">
                        <div class="chatlog__content">
                            <span class="markdown">I made it very badly, cant antually be used, but I needed something to experiment with to see what works and what doesnt. And basically, when you start to reqest a lot of blocks all peers get very mad at you and everything breaks</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">27-Jul-19 04:21 AM</span>

                    <div class="chatlog__message " data-message-id="604528857940492301" id="message-604528857940492301">
                        <div class="chatlog__content">
                            <span class="markdown">normal SPV can weed out bad peers by going &quot;oh look this peer has the most POW&quot; by just looking at headers</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604528892405088258" id="message-604528892405088258">
                        <div class="chatlog__content">
                            <span class="markdown">then assume any other peer with less POW is evil</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604528980825079808" id="message-604528980825079808">
                        <div class="chatlog__content">
                            <span class="markdown">we need the full block to do that with dpow, no?</span>

                                <span class="chatlog__edited-timestamp" title="27-Jul-19 04:22 AM">(edited)</span>
                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604528994854895621" id="message-604528994854895621">
                        <div class="chatlog__content">
                            <span class="markdown">or at least the notarizations</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:22 AM</span>

                    <div class="chatlog__message " data-message-id="604529128573632534" id="message-604529128573632534">
                        <div class="chatlog__content">
                            <span class="markdown">notarizations can be got with a very lightweight call, but it totally fails on chaintip, becaue there is no future notarization</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604529195904663563" id="message-604529195904663563">
                        <div class="chatlog__content">
                            <span class="markdown">Im really thinking it just cant really work on chain tip</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">27-Jul-19 04:23 AM</span>

                    <div class="chatlog__message " data-message-id="604529372459827202" id="message-604529372459827202">
                        <div class="chatlog__content">
                            <span class="markdown">how can you trust that a peer is showing you the latest notarization?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604529382861701120" id="message-604529382861701120">
                        <div class="chatlog__content">
                            <span class="markdown">that&#39;s what I mean</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:24 AM</span>

                    <div class="chatlog__message " data-message-id="604529474872016897" id="message-604529474872016897">
                        <div class="chatlog__content">
                            <span class="markdown">by asking a whole bunch of them I think.... But thats really not seeming to be a working solution</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604529590748315679" id="message-604529590748315679">
                        <div class="chatlog__content">
                            <span class="markdown">It would require removing a whole heap of rate limiters and  weell... that is totaly stupid</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">27-Jul-19 04:26 AM</span>

                    <div class="chatlog__message " data-message-id="604529969795956746" id="message-604529969795956746">
                        <div class="chatlog__content">
                            <span class="markdown">yea I guess what I said doesn&#39;t really make sense</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530032228171824" id="message-604530032228171824">
                        <div class="chatlog__content">
                            <span class="markdown">if you have at least 1 honest peer showing you latest, you&#39;re good?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530049886060544" id="message-604530049886060544">
                        <div class="chatlog__content">
                            <span class="markdown">same concept as SPV really</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:26 AM</span>

                    <div class="chatlog__message " data-message-id="604530107096367125" id="message-604530107096367125">
                        <div class="chatlog__content">
                            <span class="markdown">yes, you have all peers sending getinfo and latest headers..</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530271403900928" id="message-604530271403900928">
                        <div class="chatlog__content">
                            <span class="markdown">but I cant get it to fetch blocks in reversee... There is data missing in the getinfo+headers call</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530406032670771" id="message-604530406032670771">
                        <div class="chatlog__content">
                            <span class="markdown">So I had to make structures and loops and all kinds of stupid shit, to filter results and sort them and build the correct info by iterating in reverse</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530472076181566" id="message-604530472076181566">
                        <div class="chatlog__content">
                            <span class="markdown">Slow as all fuck. doesnt work.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530493869785099" id="message-604530493869785099">
                        <div class="chatlog__content">
                            <span class="markdown">Going to just change daemon</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530577072455712" id="message-604530577072455712">
                        <div class="chatlog__content">
                            <span class="markdown">Cant work with these limitations</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530899115048980" id="message-604530899115048980">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji " alt="🤔" title="🤔" src="https://twemoji.maxcdn.com/2/72x72/1f914.png" />  lol just realised something</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530948071227423" id="message-604530948071227423">
                        <div class="chatlog__content">
                            <span class="markdown">You can get the block hash fromt he header itself</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604530976386973707" id="message-604530976386973707">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji emoji--large" alt="🤦" title="🤦" src="https://twemoji.maxcdn.com/2/72x72/1f926.png" /></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604531012118118404" id="message-604531012118118404">
                        <div class="chatlog__content">
                            <span class="markdown">Its not actually there</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604531029969207317" id="message-604531029969207317">
                        <div class="chatlog__content">
                            <span class="markdown">but you can hash it to get it</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">27-Jul-19 04:30 AM</span>

                    <div class="chatlog__message " data-message-id="604531036344549377" id="message-604531036344549377">
                        <div class="chatlog__content">
                            <span class="markdown">still don&#39;t understand what it is you&#39;re trying to do</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:30 AM</span>

                    <div class="chatlog__message " data-message-id="604531088383279105" id="message-604531088383279105">
                        <div class="chatlog__content">
                            <span class="markdown">wait i&#39;ll show you the problem</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604531171581362176" id="message-604531171581362176">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://github.com/blackjok3rtt/libnspv/blob/master/src/tools/nSPV_superlite.h#L237">https://github.com/blackjok3rtt/libnspv/blob/master/src/tools/nSPV_superlite.h#L237</a></span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/blackjok3rtt/libnspv/blob/master/src/tools/nSPV_superlite.h"><span class="markdown">blackjok3rtt/libnspv</span></a>
                                            </div>

                                        <div class="chatlog__embed-description"><span class="markdown">Tiny Bitcoin Library written in C, with nSPV added - blackjok3rtt/libnspv</span></div>

                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars3.githubusercontent.com/u/30971146?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars3.githubusercontent.com/u/30971146?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div class="chatlog__message " data-message-id="604531177491136531" id="message-604531177491136531">
                        <div class="chatlog__content">
                            <span class="markdown">here</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604531225016926219" id="message-604531225016926219">
                        <div class="chatlog__content">
                            <span class="markdown">it doesnt validate anything, and if a reorg happens it cannot go in reverse</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604531355539472384" id="message-604531355539472384">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://github.com/blackjok3rtt/libnspv/blob/master/src/tools/nSPV_superlite.h#L246">https://github.com/blackjok3rtt/libnspv/blob/master/src/tools/nSPV_superlite.h#L246</a>
trying to fix what this comment says</span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/blackjok3rtt/libnspv/blob/master/src/tools/nSPV_superlite.h"><span class="markdown">blackjok3rtt/libnspv</span></a>
                                            </div>

                                        <div class="chatlog__embed-description"><span class="markdown">Tiny Bitcoin Library written in C, with nSPV added - blackjok3rtt/libnspv</span></div>

                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars3.githubusercontent.com/u/30971146?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars3.githubusercontent.com/u/30971146?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div class="chatlog__message " data-message-id="604531444651393034" id="message-604531444651393034">
                        <div class="chatlog__content">
                            <span class="markdown">I think Im just going to make it so that you have to wait until enough blocks arrive.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604531575463608339" id="message-604531575463608339">
                        <div class="chatlog__content">
                            <span class="markdown">Doesnt seem worth the100 hours work to reqwrite half of it to be able to request blocks from the past.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604531687266844673" id="message-604531687266844673">
                        <div class="chatlog__content">
                            <span class="markdown">All the tx shit works with past blocks already, not sure what the chain tip even does</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">27-Jul-19 04:33 AM</span>

                    <div class="chatlog__message " data-message-id="604531845035589644" id="message-604531845035589644">
                        <div class="chatlog__content">
                            <span class="markdown">need a much higher level explanation or I&#39;ll be no help <img class="emoji " alt="😛" title="😛" src="https://twemoji.maxcdn.com/2/72x72/1f61b.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:34 AM</span>

                    <div class="chatlog__message " data-message-id="604531981421772800" id="message-604531981421772800">
                        <div class="chatlog__content">
                            <span class="markdown">I cant explain it any mroe than that. Basically it needs:
<span class="pre pre--inline"> blockhash == hashprevblock</span></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604532029954064384" id="message-604532029954064384">
                        <div class="chatlog__content">
                            <span class="markdown">but that cant work for a reorg so jl used heights only</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">27-Jul-19 04:35 AM</span>

                    <div class="chatlog__message " data-message-id="604532247013490708" id="message-604532247013490708">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="pre pre--inline">what I needed to do was take the chain tip and validate the blockhash-&gt;prevblockhash back to the last notarization</span> why?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:35 AM</span>

                    <div class="chatlog__message " data-message-id="604532300591398914" id="message-604532300591398914">
                        <div class="chatlog__content">
                            <span class="markdown">you tell me thats what he asked me to do</span>

                                <span class="chatlog__edited-timestamp" title="27-Jul-19 04:35 AM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">27-Jul-19 04:36 AM</span>

                    <div class="chatlog__message " data-message-id="604532429104873494" id="message-604532429104873494">
                        <div class="chatlog__content">
                            <span class="markdown">getting off for the day, lmk what he says <img class="emoji " alt="😄" title="😄" src="https://twemoji.maxcdn.com/2/72x72/1f604.png" /></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604532751978332160" id="message-604532751978332160">
                        <div class="chatlog__content">
                            <span class="markdown">not sure I understand, but it seems like you trust the notarization to tell you the chain is the correct chain, why would you need to validate blocks back to the previous notarization?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604532769896267787" id="message-604532769896267787">
                        <div class="chatlog__content">
                            <span class="markdown">how does that help?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:37 AM</span>

                    <div class="chatlog__message " data-message-id="604532859470086154" id="message-604532859470086154">
                        <div class="chatlog__content">
                            <span class="markdown">this is on chain tip, there is no notarizxation, only the last one you see,</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604532895947948035" id="message-604532895947948035">
                        <div class="chatlog__content">
                            <span class="markdown">dont need to go back another</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 04:58 AM</span>

                    <div class="chatlog__message " data-message-id="604538003045613568" id="message-604538003045613568">
                        <div class="chatlog__content">
                            <span class="markdown">ok I think I figured out how to do it. 
I need a hash table to stick the headers in. The block hash can be hashed from the header, there is a function already for this. Then it shuold be fast and easy to just iterate  backwards to the last notarization on each block header received.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604538153940025364" id="message-604538153940025364">
                        <div class="chatlog__content">
                            <span class="markdown">This seems the onyl viable way to be able to validate the headers nodes are sending you are real, while not destroying the network</span>

                                <span class="chatlog__edited-timestamp" title="27-Jul-19 04:58 AM">(edited)</span>
                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604538293652029440" id="message-604538293652029440">
                        <div class="chatlog__content">
                            <span class="markdown">This definally means though that a node will not know its on the right chain until it receives a notarized header.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604538348769378307" id="message-604538348769378307">
                        <div class="chatlog__content">
                            <span class="markdown">unless I make a new API call.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:11 AM</span>

                    <div class="chatlog__message " data-message-id="604541361567301683" id="message-604541361567301683">
                        <div class="chatlog__content">
                            <span class="markdown">you are way overcomplicating this</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604541521965875201" id="message-604541521965875201">
                        <div class="chatlog__content">
                            <span class="markdown">given the chaintip height, just requests the getinfo for the 10 or so blocks to the most recent notarization</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604541571802726410" id="message-604541571802726410">
                        <div class="chatlog__content">
                            <span class="markdown">10 getinfo is not any large overhead</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604541763876552705" id="message-604541763876552705">
                        <div class="chatlog__content">
                            <span class="markdown">in fact, you are already making getinfo calls to all the peers, just with asking for the chaintip. so without any extra overhead you can get the most recent 10 headers via the getinfo calls you are doing anyway</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604541907468681216" id="message-604541907468681216">
                        <div class="chatlog__content">
                            <span class="markdown">why would this cause any performance issue? also each chain has about 10 seed nodes</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604543103273009155" id="message-604543103273009155">
                        <div class="chatlog__content">
                            <span class="markdown">so just change the hdrheight being requested on the background getinfo calls</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604543197531602955" id="message-604543197531602955">
                        <div class="chatlog__content">
                            <span class="markdown">then as they come in just calculate its blockhash and make sure its prev matches the blockhash of the prior block</span>

                                <span class="chatlog__edited-timestamp" title="27-Jul-19 05:31 AM">(edited)</span>
                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604543368592097291" id="message-604543368592097291">
                        <div class="chatlog__content">
                            <span class="markdown">i would start from the last notarization + 1, and just increment it until you reach the chain tip</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604543508950417429" id="message-604543508950417429">
                        <div class="chatlog__content">
                            <span class="markdown">then as it comes in you can validate that it connects to the notarization.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604543631323561994" id="message-604543631323561994">
                        <div class="chatlog__content">
                            <span class="markdown">just use a rotating buffer of 100 hashes or so to track the current mainchain.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604543842380939275" id="message-604543842380939275">
                        <div class="chatlog__content">
                            <span class="markdown">if you see a new height greater than chaintip that doesnt link back, then clear the rotating buffer and do it again, or you can be a bit more fancy and track multiple forks</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604544337602412575" id="message-604544337602412575">
                        <div class="chatlog__content">
                            <span class="markdown">when a new notarization comes in, reset the rotating buffer as we have the checkpoint</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:31 AM</span>

                    <div class="chatlog__message " data-message-id="604546483747815445" id="message-604546483747815445">
                        <div class="chatlog__content">
                            <span class="markdown">I did that and no nodes respond to me</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:32 AM</span>

                    <div class="chatlog__message " data-message-id="604546524755525632" id="message-604546524755525632">
                        <div class="chatlog__content">
                            <span class="markdown">this should not be a lot of code at all. just an incrementing variable for the hdrheight being requested</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:32 AM</span>

                    <div class="chatlog__message " data-message-id="604546528396181524" id="message-604546528396181524">
                        <div class="chatlog__content">
                            <span class="markdown">Maybe sending too many requests just breaks it I dont know</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:32 AM</span>

                    <div class="chatlog__message " data-message-id="604546590534795264" id="message-604546590534795264">
                        <div class="chatlog__content">
                            <span class="markdown">you are limited to 1 request per message per second per peer</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604546635250401289" id="message-604546635250401289">
                        <div class="chatlog__content">
                            <span class="markdown">if you have 10 peers, you can make 10 getinfo calls per second</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604546962569691142" id="message-604546962569691142">
                        <div class="chatlog__content">
                            <span class="markdown">find the place where it makes the getinfo requests already, just set the hdrheight to a useful one</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604547068643770378" id="message-604547068643770378">
                        <div class="chatlog__content">
                            <span class="markdown">on processing, just call an update header function that updates the buffer of recent blockhashes</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:34 AM</span>

                    <div class="chatlog__message " data-message-id="604547090370134026" id="message-604547090370134026">
                        <div class="chatlog__content">
                            <span class="markdown">The main issue is that its doing this validation inside the fuinction that processes repoonse, making new requests in there doesnt really work as it seems to spawn a new thread and everything gets messed up</span>

                                <span class="chatlog__edited-timestamp" title="27-Jul-19 05:34 AM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:34 AM</span>

                    <div class="chatlog__message " data-message-id="604547224382472193" id="message-604547224382472193">
                        <div class="chatlog__content">
                            <span class="markdown">it is tricky to make recursive requests</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604547254770073601" id="message-604547254770073601">
                        <div class="chatlog__content">
                            <span class="markdown">just update state when a new getinfo comes in</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604547315864436757" id="message-604547315864436757">
                        <div class="chatlog__content">
                            <span class="markdown">make it request a useful hdrheight in the getinfo calls it is already doing</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:35 AM</span>

                    <div class="chatlog__message " data-message-id="604547332301914122" id="message-604547332301914122">
                        <div class="chatlog__content">
                            <span class="markdown">Thats why I just wanted it to stick everything into some data stucture, I used and array and loops but its just too slow</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:35 AM</span>

                    <div class="chatlog__message " data-message-id="604547439336226816" id="message-604547439336226816">
                        <div class="chatlog__content">
                            <span class="markdown">you need to incrementally update state based on the new data that comes in</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604547509985083393" id="message-604547509985083393">
                        <div class="chatlog__content">
                            <span class="markdown">not trigger some brute force validation in the message completion function</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604547521913552899" id="message-604547521913552899">
                        <div class="chatlog__content">
                            <span class="markdown">that wont work</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:36 AM</span>

                    <div class="chatlog__message " data-message-id="604547656714289153" id="message-604547656714289153">
                        <div class="chatlog__content">
                            <span class="markdown">no it doesnt, but I needed to do something to understand how it all fit together. I think I get how it works now.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:36 AM</span>

                    <div class="chatlog__message " data-message-id="604547701916565510" id="message-604547701916565510">
                        <div class="chatlog__content">
                            <span class="markdown">yes</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604547765602746388" id="message-604547765602746388">
                        <div class="chatlog__content">
                            <span class="markdown">piggy back onto the getinfo requests that are already being made</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604547832724324354" id="message-604547832724324354">
                        <div class="chatlog__content">
                            <span class="markdown">then when a new header comes in, you just update the state of the recent headers</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:37 AM</span>

                    <div class="chatlog__message " data-message-id="604547912156053505" id="message-604547912156053505">
                        <div class="chatlog__content">
                            <span class="markdown">I tried to do that and failed badly. I reset all my code back to jl777 and starting agin, maybe I breoke it somwher along the line</span>

                                <span class="chatlog__edited-timestamp" title="27-Jul-19 05:37 AM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:37 AM</span>

                    <div class="chatlog__message " data-message-id="604548017558650882" id="message-604548017558650882">
                        <div class="chatlog__content">
                            <span class="markdown">once you catch up to chaintip, when the header for the next block comes in, you just need to make sure its prevhash is the prior block</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604548071506051092" id="message-604548071506051092">
                        <div class="chatlog__content">
                            <span class="markdown">if it isnt, then just reset to the most recent notarization</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:38 AM</span>

                    <div class="chatlog__message " data-message-id="604548236392529922" id="message-604548236392529922">
                        <div class="chatlog__content">
                            <span class="markdown">Need to work out how to make it request a particular header without iussueing new getinfo calls, because new getinfo calls just dont woirk, it will only make the ones it is already making</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:39 AM</span>

                    <div class="chatlog__message " data-message-id="604548392621834272" id="message-604548392621834272">
                        <div class="chatlog__content">
                            <span class="markdown">NSPV_periodic</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:39 AM</span>

                    <div class="chatlog__message " data-message-id="604548397600342027" id="message-604548397600342027">
                        <div class="chatlog__content">
                            <span class="markdown">maybe a global vector they can be pushed to and it just takes off the top with each request?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:39 AM</span>

                    <div class="chatlog__message " data-message-id="604548444693987343" id="message-604548444693987343">
                        <div class="chatlog__content">
                            <span class="markdown">it is making reqht == 0 for all calls</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:39 AM</span>

                    <div class="chatlog__message " data-message-id="604548483889758229" id="message-604548483889758229">
                        <div class="chatlog__content">
                            <span class="markdown">yes it fetches tip each time</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:40 AM</span>

                    <div class="chatlog__message " data-message-id="604548525015040026" id="message-604548525015040026">
                        <div class="chatlog__content">
                            <span class="markdown">just make it request notarization height +1, +2, +3, ...</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604548587677941780" id="message-604548587677941780">
                        <div class="chatlog__content">
                            <span class="markdown">so this way there is a stream of useful new headers to update state. ZERO extra overhead</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604548613531500563" id="message-604548613531500563">
                        <div class="chatlog__content">
                            <span class="markdown">get that working first</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:40 AM</span>

                    <div class="chatlog__message " data-message-id="604548663263625227" id="message-604548663263625227">
                        <div class="chatlog__content">
                            <span class="markdown">ok I think I understand, now. Man i was over thinking it.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:40 AM</span>

                    <div class="chatlog__message " data-message-id="604548751973154857" id="message-604548751973154857">
                        <div class="chatlog__content">
                            <span class="markdown">then when you see the headers for +1, +2, +3,... chaintip then you will realize than a simple array is all that is needed in most all the cases</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">27-Jul-19 05:41 AM</span>

                    <div class="chatlog__message " data-message-id="604548814627405824" id="message-604548814627405824">
                        <div class="chatlog__content">
                            <span class="markdown">Yea that makes sense. Store last notarized height and keep requesting all blocks from that height over and over until the next notarization then start again.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">27-Jul-19 05:41 AM</span>

                    <div class="chatlog__message " data-message-id="604548850048434187" id="message-604548850048434187">
                        <div class="chatlog__content">
                            <span class="markdown">yes</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604548894042488853" id="message-604548894042488853">
                        <div class="chatlog__content">
                            <span class="markdown">and if a reorg happens, just clear to the prior notarization</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="604549163937431562" id="message-604549163937431562">
                        <div class="chatlog__content">
                            <span class="markdown">in the event to two competing forks, you will likely be resetting to notarization over and over. which is maybe a good signal to not do any tx as there is an active fork</span>

                        </div>



                    </div>
            </div>
        </div>
</div>

</body>
</html>
